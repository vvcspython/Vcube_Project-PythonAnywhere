"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[7942,5561],{67942:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var r=s(65043),n=s(83462),a=s(17392),o=s(26600),l=s(35316),i=s(77739),c=s(12110),d=s(94516),u=s(94496),x=s(88446),h=s(29347),p=s(11906),m=s(90573),A=s(67610),y=s(3322),f=s(97919),g=s(3632),v=s(67847),j=s(95252),b=s(23054),w=s(37786),C=s(9971),M=s(70579);const S=e=>{let{isOpen:t,setIsOpen:s,selectedCourse:S,selectedBatch:k,User:N,handleShowSnackbar:L,setIsLoading:z}=e;const{fetchBatchMessageData:B,deleteBatchMessageData:R}=(0,r.useContext)(w.w),[V,$]=(0,r.useState)([]),[D,H]=(0,r.useState)(null),[F,T]=(0,r.useState)(null),[W,O]=(0,r.useState)(!1),P=async()=>{z(!0);const e=await B(S);if(e&&e.message)L("error",e.message);else if(e){if(Array.isArray(e)&&0===e.length)return void L("error","No data found.");const t=N&&"Placements"===N.split(" ")[0]?"Placements Team":`${S} Team`,s=Array.isArray(e)&&e.filter((e=>e.BatchName===k&&e.BatchMessage.split("~")[1]===t));Array.isArray(s)&&s.length>0&&$([...s].reverse())}z(!1)};(0,r.useEffect)((()=>{P()}),[t]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(n.A,{open:t,sx:{zIndex:"700"},maxWidth:"lg",children:[(0,M.jsx)("img",{src:"/images/V-Cube-Logo.png",width:"8%",alt:"",className:"ml-[46%]"}),(0,M.jsx)(a.A,{sx:{position:"absolute"},className:"top-3 right-3",onClick:()=>s(!1),children:(0,M.jsx)(m.A,{sx:{fontSize:"35px"}})}),(0,M.jsx)(a.A,{disabled:W,sx:{position:"absolute"},className:"top-3 right-16",onClick:async()=>{await P(),O(!0),setTimeout((()=>{O(!1)}),1e4)},children:(0,M.jsx)(A.A,{sx:{fontSize:"35px"}})}),(0,M.jsxs)(o.A,{variant:"h5",children:["Messages You Sent ",(0,M.jsx)(y.A,{})]}),(0,M.jsx)(l.A,{className:"w-[75rem] h-[40rem] max-h-[40rem] overflow-y-auto grid grid-cols-2 place-content-start gap-x-5 gap-y-5",sx:{scrollbarWidth:"none"},children:Array.isArray(V)&&V.length>0?(0,M.jsx)(M.Fragment,{children:Array.isArray(V)&&V.length>0&&V.map(((e,t)=>(0,M.jsx)(i.A,{title:`Message : ${e.BatchMessage.split("~")[3]}`,arrow:!0,children:(0,M.jsxs)(c.A,{className:"relative flex items-center justify-between mt-1 h-28",sx:{boxShadow:"0 0 5px rgba(0,0,0,0.5)"},children:[(0,M.jsx)(f.A,{sx:{width:"10%",fontSize:"30px",color:`${b.vG[t<20?t:Math.floor(20*Math.random())]}`}}),(0,M.jsxs)(d.A,{className:"w-[80%] flex flex-col items-start justify-evenly h-[90%]",children:[(0,M.jsxs)(u.A,{className:"flex items-center text-slate-400",sx:{fontSize:"13px"},children:["Send To :",(0,M.jsxs)(u.A,{className:"text-slate-600",sx:{fontWeight:"bold",marginLeft:"10px"},children:[e.Course," - ",e.BatchName]})]}),(0,M.jsxs)(u.A,{className:"flex items-center text-slate-400",sx:{fontSize:"13px"},children:["Reason :",(0,M.jsx)(u.A,{className:"text-slate-500",sx:{marginLeft:"10px",fontSize:"15px"},children:e.BatchMessage.split("~")[2]})]}),(0,M.jsxs)(u.A,{className:"flex items-center text-slate-400",sx:{fontSize:"13px"},children:["At :",(0,M.jsx)(u.A,{className:"text-slate-500",sx:{marginLeft:"40px",fontSize:"15px"},children:e.BatchMessage.split("~")[0]})]})]}),e.BatchMessage.split("~").length>4&&(0,M.jsx)(i.A,{title:"Show Uploaded File",arrow:!0,children:(0,M.jsx)(x.A,{href:e.BatchMessage.split("~")[4],target:"_blank",children:(0,M.jsx)(a.A,{color:"primary",children:(0,M.jsx)(g.A,{color:"primary"})})})}),(0,M.jsx)(i.A,{title:"Withdraw Message",arrow:!0,children:(0,M.jsx)(a.A,{color:"error",onClick:()=>{H(e),T(!0)},children:(0,M.jsx)(v.A,{color:"error"})})}),e.BatchMessage.split("~")[0].split(" ")[0]===(0,C.c)().split(" ")[0]&&(0,M.jsx)(d.A,{sx:{position:"absolute"},className:"w-2 h-2 rounded-full bg-red-600 top-0 right-0"})]})})))}):(0,M.jsxs)(d.A,{className:"w-full h-full flex flex-col items-center justify-center ml-[50%] mt-[20%]",children:[(0,M.jsx)(j.A,{sx:{fontSize:"120px",color:"grey",marginBottom:"30px"}}),(0,M.jsx)(u.A,{variant:"h4",color:"grey",children:"No Messages Found."})]})})]}),(0,M.jsxs)(n.A,{open:F,children:[(0,M.jsx)(o.A,{children:"Are you sure you want to withdraw your message ?"}),(0,M.jsx)(l.A,{children:"This will delete this message permanently from everyone."}),(0,M.jsxs)(h.A,{children:[(0,M.jsx)(p.A,{variant:"outlined",onClick:()=>T(!1),children:"Cancel"}),(0,M.jsx)(p.A,{variant:"contained",onClick:()=>{z(!0),(async()=>{if(D){z(!0);const e=await R(D);z(!1),e&&e.message?L("error",e.message):e&&L("success","Message withdrawn successfully."),P()}})(),H(null),T(!1)},children:"Withdraw"})]})]})]})}},97919:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(66734),n=s(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2"}),"ChatBubbleRounded")},67847:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(66734),n=s(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm3.17-6.41a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L12 12.59l1.41-1.41c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41L13.41 14l1.41 1.41c.39.39.39 1.02 0 1.41s-1.02.39-1.41 0L12 15.41l-1.41 1.41c-.39.39-1.02.39-1.41 0a.996.996 0 0 1 0-1.41L10.59 14zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteForeverRounded")},3322:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(66734),n=s(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M18.05 19.29c-.39.39-1.02.39-1.41 0l-2.12-2.12a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0l1.41 1.41 3.54-3.54c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41zM12 17c0-3.87 3.13-7 7-7 1.08 0 2.09.25 3 .68V4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v18l4-4h6c0-.17.01-.33.03-.5-.02-.17-.03-.33-.03-.5"}),"MarkChatReadRounded")},67610:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(66734),n=s(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5"}),"ReplayRounded")},95252:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(66734),n=s(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M1.91 2.36c-.35-.35-.92-.35-1.27 0s-.35.92 0 1.27l1.38 1.38L2 22l4-4h9l5.09 5.09c.35.35.92.35 1.27 0s.35-.92 0-1.27zM7 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m13-9H4.08l7 7H17c.55 0 1 .45 1 1s-.45 1-1 1h-3.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2m-3 6h-6c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1"}),"SpeakerNotesOffRounded")},3632:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(66734),n=s(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},12110:(e,t,s)=>{s.d(t,{A:()=>p});var r=s(65043),n=s(58387),a=s(98610),o=s(34535),l=s(28249),i=s(61596),c=s(92532),d=s(72372);function u(e){return(0,d.Ay)("MuiCard",e)}(0,c.A)("MuiCard",["root"]);var x=s(70579);const h=(0,o.Ay)(i.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),p=r.forwardRef((function(e,t){const s=(0,l.b)({props:e,name:"MuiCard"}),{className:r,raised:o=!1,...i}=s,c={...s,raised:o},d=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},u,t)})(c);return(0,x.jsx)(h,{className:(0,n.A)(d.root,r),elevation:o?8:void 0,ref:t,ownerState:c,...i})}))},88446:(e,t,s)=>{s.d(t,{A:()=>C});var r=s(65043),n=s(58387),a=s(55500),o=s(98610),l=s(18218),i=s(6803),c=s(34535),d=s(26240),u=s(66870),x=s(52445),h=s(28249),p=s(94496),m=s(92532),A=s(72372);function y(e){return(0,A.Ay)("MuiLink",e)}const f=(0,m.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var g=s(56224);const v=e=>{let{theme:t,ownerState:s}=e;const r=s.color,n=(0,g.Yn)(t,`palette.${r}`,!1)||s.color,o=(0,g.Yn)(t,`palette.${r}Channel`);return"vars"in t&&o?`rgba(${o} / 0.4)`:(0,a.X4)(n,.4)};var j=s(70579);const b={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},w=(0,c.Ay)(p.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`underline${(0,i.A)(s.underline)}`],"button"===s.component&&t.button]}})((0,u.A)((e=>{let{theme:t}=e;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:e=>{let{underline:t,ownerState:s}=e;return"always"===t&&"inherit"!==s.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter((0,x.A)()).map((e=>{let[s]=e;return{props:{underline:"always",color:s},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[s].mainChannel} / 0.4)`:(0,a.X4)(t.palette[s].main,.4)}}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,a.X4)(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:(0,a.X4)(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${f.focusVisible}`]:{outline:"auto"}}}]}}))),C=r.forwardRef((function(e,t){const s=(0,h.b)({props:e,name:"MuiLink"}),a=(0,d.A)(),{className:c,color:u="primary",component:x="a",onBlur:p,onFocus:m,TypographyClasses:A,underline:f="always",variant:g="inherit",sx:C,...M}=s,[S,k]=r.useState(!1),N={...s,color:u,component:x,focusVisible:S,underline:f,variant:g},L=(e=>{const{classes:t,component:s,focusVisible:r,underline:n}=e,a={root:["root",`underline${(0,i.A)(n)}`,"button"===s&&"button",r&&"focusVisible"]};return(0,o.A)(a,y,t)})(N);return(0,j.jsx)(w,{color:u,className:(0,n.A)(L.root,c),classes:A,component:x,onBlur:e=>{(0,l.A)(e.target)||k(!1),p&&p(e)},onFocus:e=>{(0,l.A)(e.target)&&k(!0),m&&m(e)},ref:t,ownerState:N,variant:g,...M,sx:[...void 0===b[u]?[{color:u}]:[],...Array.isArray(C)?C:[C]],style:{...M.style,..."always"===f&&"inherit"!==u&&!b[u]&&{"--Link-underlineColor":v({theme:a,ownerState:N})}}})}))}}]);
//# sourceMappingURL=7942.0231994b.chunk.js.map