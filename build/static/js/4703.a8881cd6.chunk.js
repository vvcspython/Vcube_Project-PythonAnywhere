"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[4703],{77084:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var l=a(65043),t=a(83462),n=a(26600),c=a(35316),r=a(42788),i=a(94516),o=a(11906),u=a(81637),d=a(94496),h=a(29347),p=a(74858),x=a(35741),m=a(2798),g=a(1529),f=a(37786),A=a(9971),j=a(70579);const v=e=>{let{isOpen:s,setIsOpen:a,selectedCourse:v,selectedBatch:w,User:b,handleShowSnackbar:C,setIsLoading:M}=e;const{postBatchMessageData:S}=(0,l.useContext)(f.w),[L,y]=(0,l.useState)(null),[N,k]=(0,l.useState)(null),[B,F]=(0,l.useState)(null),[H,R]=(0,l.useState)(null),[T,$]=(0,l.useState)(null),[I,P]=(0,l.useState)(!1),U=(0,A.c)(),z=(0,g.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),V=()=>{y(null),k(null),R(null),$(null),F(!1),a(!1)},O=async e=>{const s=await S(e);s&&s.message?C("error",s.message):s&&C("success","You message has been sent successfully."),V(),M(!1)};return(0,j.jsxs)(t.A,{open:s,sx:{zIndex:"700"},children:[(0,j.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"20%",className:"ml-[40%]"}),(0,j.jsxs)(n.A,{variant:"h5",children:["Message to Students ",(0,j.jsx)(p.A,{})]}),(0,j.jsxs)(c.A,{className:"w-full flex flex-col items-center justify-between",children:[(0,j.jsx)(r.A,{className:"w-full h-20",label:"Reason",sx:{margin:"15px 0"},required:!0,value:L,onChange:e=>y(e.target.value),inputProps:{maxLength:50},error:B&&!L,helperText:B&&!L?"Provide Reason":""}),(0,j.jsx)(r.A,{multiline:!0,rows:3,className:"w-full h-28",value:N,label:"Your Message Here",required:!0,onChange:e=>k(e.target.value),error:B&&!N||N&&N.length<25,helperText:B&&!N?"Enter Message":N&&N.length<25?"Message should contain atleast 25 characters.":""}),(0,j.jsxs)(i.A,{className:"w-full mt-8 h-16 flex flex-col items-center justify-start",children:[(0,j.jsxs)(i.A,{className:"relative",children:[(0,j.jsxs)(o.A,{variant:"contained",startIcon:H&&T?(0,j.jsx)(x.A,{}):(0,j.jsx)(m.A,{}),disabled:I,color:H&&T?"success":"primary",component:"label",role:void 0,tabIndex:-1,children:[(0,j.jsx)(z,{type:"file",onChange:e=>(e=>{const s=e.target.files[0];P(!0),setTimeout((()=>{if(s)if((s.size/1048576).toFixed(2)<=5){$(s.name);const e=new FileReader;e.onloadend=()=>{R(e.result)},e.readAsDataURL(s)}else C("error","You can upload files up to 5 MB. Files larger than 5 MB will not be accepted.");P(!1)}),2e3)})(e)}),H&&T?"File Uploaded":"Upload Optional File"]}),I&&(0,j.jsx)(u.A,{size:24,sx:{color:"primary",position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]}),(0,j.jsx)(d.A,{children:T&&T})]})]}),(0,j.jsxs)(h.A,{children:[(0,j.jsx)(o.A,{variant:"outlined",onClick:V,children:"Cancel"}),(0,j.jsx)(o.A,{variant:"contained",sx:{width:"20%"},onClick:()=>{if(F(!0),!L||!N)return;const e=b&&"Placements"===b.split(" ")[0]?"Placements Team":`${v} Team`,s={Course:v,BatchName:w,BatchMessage:`${U}~${e}~${L}~${N}~${H&&T?H:"N/A"}`};M(!0),O(s)},children:"Send"})]})]})}},74858:(e,s,a)=>{a.d(s,{A:()=>n});var l=a(66734),t=a(70579);const n=(0,l.A)((0,t.jsx)("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-.4 4.25-6.54 4.09c-.65.41-1.47.41-2.12 0L4.4 8.25c-.25-.16-.4-.43-.4-.72 0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72 0 .29-.15.56-.4.72"}),"MailRounded")},2798:(e,s,a)=>{a.d(s,{A:()=>n});var l=a(66734),t=a(70579);const n=(0,l.A)((0,t.jsx)("path",{d:"m19.41 7.41-4.83-4.83c-.37-.37-.88-.58-1.41-.58H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.42M14.8 15H13v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H9.21c-.45 0-.67-.54-.35-.85l2.8-2.79c.2-.19.51-.19.71 0l2.79 2.79c.3.31.08.85-.36.85M14 9c-.55 0-1-.45-1-1V3.5L18.5 9z"}),"UploadFileRounded")}}]);
//# sourceMappingURL=4703.a8881cd6.chunk.js.map