"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[7437],{59905:(e,r,s)=>{s.d(r,{A:()=>i});s(65043);var t=s(42788),a=s(34535),o=s(70579);const n=(0,a.Ay)(t.A)((e=>{let{theme:r}=e;return{"& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}}})),i=e=>(0,o.jsx)(n,{...e,type:"text",variant:"standard"})},47437:(e,r,s)=>{s.r(r),s.d(r,{default:()=>v});var t=s(65043),a=s(94516),o=s(94496),n=s(11906),i=s(97136),c=s(14149),l=s(66734),u=s(70579);const d=(0,l.A)((0,u.jsx)("path",{d:"M23 18h-1V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v13H1c-.55 0-1 .45-1 1s.45 1 1 1h22c.55 0 1-.45 1-1s-.45-1-1-1m-9.5 0h-3c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h3c.28 0 .5.22.5.5s-.22.5-.5.5m6.5-3H4V6c0-.55.45-1 1-1h14c.55 0 1 .45 1 1z"}),"LaptopChromebookRounded"),m=(0,l.A)([(0,u.jsx)("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V6h16z"},"0"),(0,u.jsx)("path",{d:"M6.49 10.5V15h1.15V9h-.87l-1.76 1.27.58.89zm4.98-.45c.5 0 .81.32.81.72 0 .37-.14.64-.54 1.06-.36.38-1.06 1.08-2.13 2.15V15h3.89v-.99h-2.37l-.03-.05c.68-.68 1.15-1.14 1.4-1.39.61-.6.92-1.22.92-1.86 0-.24-.05-1.04-.91-1.48-.47-.23-1.26-.36-1.95-.03-.82.39-.99 1.13-1 1.15l1.01.42c.1-.33.38-.72.9-.72m5.52 3.89c-.83 0-.99-.76-1.02-.86l-1.03.41c.45 1.59 2.01 1.51 2.05 1.51 1.2 0 1.68-.72 1.76-.85.32-.49.36-1.24-.01-1.76-.17-.24-.4-.41-.68-.52v-.07c.2-.1.37-.26.52-.48.26-.41.31-1.07-.02-1.57-.08-.11-.53-.75-1.62-.75-1.26 0-1.74.9-1.85 1.24l.99.41c.11-.32.35-.64.85-.64.44 0 .75.26.75.65 0 .58-.55.72-.88.72h-.46v1h.5c.56 0 1.04.24 1.04.79 0 .49-.48.77-.89.77"},"1")],"PinOutlined");var h=s(25821),x=s(59905),f=s(73216),g=s(77476),p=s(59266),b=s(26431);const v=e=>{let{isStudentLogin:r,setStudentLogin:s,setIsLoading:l,handleShowSnackbar:v,sendEmail:T}=e;const{stdLogin:A,removeStudentLoginData:P}=(0,g.H)(),{studentAuthenticate:E,checkStudentDetails:y}=(0,t.useContext)(p.K),{stdGoogleLogin:j,stdGoogleLogout:O}=(0,t.useContext)(b.i),[w,C]=(0,t.useState)({course:"",userOTP:"",sentOTP:"",mobile:"",stdEmail:"",studentLoginOTP:!1,isMailError:!1,courseError:!1,isOTPError:!1}),L=(0,f.Zp)(),S=(0,t.useCallback)(((e,r)=>{C((s=>({...s,[e]:r})))}),[]),k=(0,t.useCallback)((async e=>{try{const r=Math.floor(1e5+9e5*Math.random());v("info","Please wait we are sending OTP to your registered Email address.");const s=await T(r,e,"OTP for Login Authentication","Student","StdOTP");s&&s.message?v("error",s.message):(v("success","OTP has been successfully sent to your Email address. Check spam folder too if not found."),S("sentOTP",r),setTimeout((()=>{S("studentLoginOTP",!0)}),1e3))}catch(r){v("error","An error occurred.")}}),[T,v,S]),M=(0,t.useCallback)((async()=>{(0,t.startTransition)((async()=>{try{const e=await y(w.mobile,w.course);if(e.status){O();const r=await j(e.Email);"success"===r.status&&r.verified?(S("stdEmail",r.email),k(r.email)):"failed"===r.status&&(v("error",r.message),O())}else if(v("error",e.message||"Invalid Details."),e.code)switch(e.code){case 404:v("error","Invalid Details.");break;case 403:v("error","Access Denied. Please contact your Administration.");break;case 406:v("error","Your account has been discontinued. Please reach out to your administrator for further assistance.");break;case 500:v("error","Server Error");break;default:v("error",e.message)}}catch(e){v("error","An error occurred.")}finally{l(!1)}}))}),[w,O,j,y,l,v,k,S]),N=(0,t.useCallback)((async()=>{(0,t.startTransition)((async()=>{try{const e={Username:w.stdEmail,Course:w.course},r=await E(e);if("Valid"===r){l(!0);const e=sessionStorage.getItem("UniqueURL");await A(),L(`/vcube/student-info/${e.substring(60,90)}`),l(!1)}else v("error",r.message||"Invalid Details."),P(),C((e=>({...e,isMailError:!0})))}catch(e){v("error","An error occurred.")}finally{l(!1)}}))}),[w,E,A,L,l,v,P]),I=(0,t.useCallback)((()=>{parseInt(w.userOTP)===parseInt(w.sentOTP)?N():(S("isOTPError",!0),l(!1))}),[w,N,l,S]),z=(0,t.useCallback)((()=>{const{mobile:e,course:r,userOTP:s,studentLoginOTP:t}=w;C((a=>({...a,isMailError:!e||0===e.length,isOTPError:t&&!s,courseError:!r||0===r.length}))),e&&r&&(!t||s)&&(l(!0),t?s?I():v("error","Enter OTP."):M())}),[w,l,v,M,I]);return(0,u.jsxs)(a.A,{className:`absolute top-0 ${r?"right-0":"-right-full"} duration-[2000ms] ease-in-out w-full flex flex-col justify-start items-center`,children:[(0,u.jsxs)(a.A,{className:"w-full h-60 my-5 flex items-center justify-start flex-col",children:[(0,u.jsx)(a.A,{className:"border-2 border-primary rounded-full mb-4 bg-primary",children:(0,u.jsx)(i.A,{sx:{fontSize:"180px",color:"#fff"}})}),(0,u.jsx)(o.A,{variant:"h5",children:"Hello ! Welcome back."}),(0,u.jsx)(o.A,{variant:"p",className:"text-gray-500 w-[90%] text-center",children:"Log in to view and manage your personal data and academic progress. Enter your credentials below to get started."})]}),(0,u.jsxs)(a.A,{className:"w-full h-80 mt-3 flex flex-col justify-center items-center",children:[(0,u.jsxs)(a.A,{className:"flex justify-center items-start w-96 h-20",children:[(0,u.jsx)(c.A,{className:"mr-2 mt-6",sx:{color:"action.active",fontSize:"30px"}}),(0,u.jsx)(x.A,{error:w.isMailError,sx:{width:"100%"},className:"w-full",onChange:e=>S("mobile",e.target.value),value:w.mobile,disabled:w.studentLoginOTP,label:"Mobile or Email",helperText:w.isMailError?"Invalid Mobile or Email":"",variant:"standard"})]}),w.studentLoginOTP?(0,u.jsxs)(a.A,{className:"flex items-start justify-between w-96 h-20",children:[(0,u.jsx)(m,{className:"mr-2 mt-6",sx:{color:"action.active",fontSize:"30px"}}),(0,u.jsx)(h.A,{sx:{width:"100%","& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}},label:"Enter OTP",error:w.isOTPError,onChange:e=>S("userOTP",e.target.value),value:w.userOTP,helperText:w.isOTPError?"Invalid OTP":""})]}):(0,u.jsxs)(a.A,{className:"flex justify-center items-start w-96 h-20",children:[(0,u.jsx)(d,{className:"mr-2 mt-6",sx:{color:"action.active",fontSize:"30px"}}),(0,u.jsx)(x.A,{error:w.courseError,sx:{width:"100%"},className:"w-full",onChange:e=>S("course",e.target.value.toUpperCase()),value:w.course,label:"Enter Your Course Name",helperText:w.courseError?"Invalid Course":"",variant:"standard"})]}),(0,u.jsx)(o.A,{color:"primary",sx:{marginLeft:"5%"},className:"cursor-pointer hover:underline pb-3 select-none",onClick:()=>{s(!r),C({course:"",userOTP:"",sentOTP:"",mobile:"",stdEmail:"",studentLoginOTP:!1,isMailError:!1,courseError:!1,isOTPError:!1})},children:"Admin Login"}),(0,u.jsx)(n.A,{variant:"contained",color:"primary",sx:{marginLeft:"6.7%"},className:"h-12 w-[61%]",onClick:z,children:"Login"})]})]})}},14149:(e,r,s)=>{s.d(r,{A:()=>o});var t=s(66734),a=s(70579);const o=(0,t.A)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},97136:(e,r,s)=>{s.d(r,{A:()=>o});var t=s(66734),a=s(70579);const o=(0,t.A)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4"}),"PersonRounded")}}]);
//# sourceMappingURL=7437.df2eee19.chunk.js.map