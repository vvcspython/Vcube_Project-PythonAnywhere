"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[1898],{71898:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var s=r(65043),a=r(83462),i=r(17392),l=r(26600),n=r(35316),o=r(94516),c=r(81045),d=r(77739),h=r(94496),x=r(88446),p=r(39336),g=r(98533),u=r(29347),m=r(11906),f=r(90573),v=r(67610),A=r(3322),y=r(3632),w=r(67847),j=r(97919),b=r(95252),S=r(88076),M=r(23054),N=r(70579);const k=e=>{let{isOpen:t,setIsOpen:r,image:k,gender:C,course:R,batchName:L,name:D,phone:z,handleShowSnackbar:I,setIsLoading:V,isUser:W,stdId:B}=e;const{fetchStudentMessageData:T,fetchBatchToStudentMessageData:F,deleteStudentMessageData:O,deleteBatchToStudentMessageData:P}=(0,s.useContext)(S.e),[H,J]=(0,s.useState)([]),[$,E]=(0,s.useState)([]),[Y,q]=(0,s.useState)(!1),[G,K]=(0,s.useState)(!1),U=async()=>{V(!0);const e="Student"===W?await T(R):await F(B);if(V(!1),e&&e.message)e.response&&404===e.response.status?"Student"!==W&&J([]):I("error",e.message);else if(e){if(Array.isArray(e)&&0===e.length)return void I("error","No data found.");let t;J([]),t="Student"===W?e.filter((e=>{const t=JSON.parse(e.StudentMessage);return e.Course===R&&e.BatchName===L&&t.Name===D&&t.Phone===z})):Array.isArray(e)?e:[e],J([...t].reverse())}};(0,s.useEffect)((()=>{U()}),[t]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(a.A,{open:t,maxWidth:"lg",sx:{zIndex:"700"},children:[(0,N.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"12%",className:"ml-[44%]"}),(0,N.jsx)(i.A,{sx:{position:"absolute"},className:"top-3 right-3",onClick:()=>r(!1),children:(0,N.jsx)(f.A,{sx:{fontSize:"35px"}})}),(0,N.jsx)(i.A,{disabled:G,sx:{position:"absolute"},className:"top-3 right-16",onClick:async()=>{await U(),K(!0),setTimeout((()=>{K(!1)}),1e4)},children:(0,N.jsx)(v.A,{sx:{fontSize:"35px"}})}),(0,N.jsxs)(l.A,{variant:"h5",children:["Messages You Sent ",(0,N.jsx)(A.A,{sx:{fontSize:"30px",marginLeft:"10px"}})]}),Array.isArray(H)&&H.length>0?(0,N.jsx)(n.A,{sx:{width:"50rem",scrollbarWidth:"none"},className:"min-h-[33rem] max-h-[33rem] overflow-y-auto mb-3",children:"Student"===W?Array.isArray(H)&&H.map((e=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(o.A,{className:"flex flex-row items-center justify-between mt-5 mb-5",children:[(0,N.jsx)(c.A,{src:JSON.parse(e.StudentMessage).Image,sx:{width:"50px",height:"50px",border:"solid 1px lightgrey"}}),(0,N.jsx)(d.A,{title:JSON.parse(e.StudentMessage).Message,arrow:!0,sx:{fontSize:"16px"},children:(0,N.jsxs)(o.A,{className:"w-[80%] relative flex flex-col items-start justify-evenly cursor-pointer",children:[(0,N.jsxs)(h.A,{className:"flex flex-row items-center justify-evenly text-gray-500",children:["Sent to: ",(0,N.jsxs)(h.A,{variant:"h6",className:"flex items-center",sx:{fontWeight:"bold",marginLeft:"15px",color:"black"},children:[JSON.parse(e.StudentMessage).MessageTo," ",(0,N.jsxs)(h.A,{className:"text-gray-500",sx:{marginLeft:"10px"},children:["on ",JSON.parse(e.StudentMessage).Date]})]})]}),(0,N.jsxs)(h.A,{className:"flex flex-row items-center justify-evenly text-gray-500",sx:{margin:"3px 0"},children:["Reason: ",(0,N.jsx)(h.A,{sx:{marginLeft:"10px",color:"black"},children:JSON.parse(e.StudentMessage).Reason})]}),e&&e.StudentMessage&&"N/A"!==JSON.parse(e.StudentMessage).File&&(0,N.jsxs)(h.A,{className:"text-gray-500",children:["Show Uploaded File : ",(0,N.jsx)(x.A,{href:JSON.parse(e.StudentMessage).File,target:"_blank",children:(0,N.jsx)(i.A,{children:(0,N.jsx)(y.A,{})})})]})]})}),(0,N.jsx)(d.A,{title:"Withdraw Your Message",arrow:!0,children:(0,N.jsx)(o.A,{className:"w-[5%] flex items-center justify-center",children:(0,N.jsx)(i.A,{onClick:()=>{E(e),q(!0)},children:(0,N.jsx)(w.A,{color:"error"})})})})]}),(0,N.jsx)(p.A,{})]}))):H.map(((e,t)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(d.A,{title:e.BatchMessage.split("~")[2],arrow:!0,children:(0,N.jsxs)(o.A,{className:"flex flex-row items-center justify-between mt-5 mb-5",children:[(0,N.jsx)(j.A,{sx:{color:t<20?M.vG[t]:M.vG[Math.floor(19*Math.random())]}}),(0,N.jsxs)(o.A,{className:"w-[80%] flex flex-col items-start justify-between",children:[(0,N.jsxs)(h.A,{className:"flex flex-row items-center justify-evenly text-gray-500",children:["Sent to: ",(0,N.jsxs)(h.A,{variant:"h6",className:"flex items-center",sx:{fontWeight:"bold",marginLeft:"15px",color:"black"},children:[D," ",(0,N.jsxs)(h.A,{className:"text-gray-500",sx:{marginLeft:"10px"},children:["on ",e.BatchMessage.split("~")[0]]})]})]}),(0,N.jsxs)(h.A,{className:"flex flex-row items-center justify-evenly text-gray-500",sx:{margin:"3px 0"},children:["Reason: ",(0,N.jsx)(h.A,{sx:{marginLeft:"10px",color:"black"},children:e.BatchMessage.split("~")[1]})]})]}),"N/A"!==e.BatchMessage.split("~")[3]&&(0,N.jsx)(d.A,{title:"View File",arrow:!0,children:(0,N.jsx)(x.A,{href:e.BatchMessage.split("~")[3],target:"_blank",children:(0,N.jsx)(i.A,{color:"primary",children:(0,N.jsx)(y.A,{color:"primary"})})})}),(0,N.jsx)(d.A,{title:"Withdraw Your Message",arrow:!0,children:(0,N.jsx)(i.A,{color:"error",onClick:()=>{E(e),q(!0)},children:(0,N.jsx)(w.A,{color:"error"})})})]},t)}),(0,N.jsx)(p.A,{})]})))}):(0,N.jsx)(n.A,{sx:{width:"100%",height:"20rem"},className:"flex items-center justify-center",children:(0,N.jsxs)(g.A,{className:"flex flex-col items-center justify-center",children:[(0,N.jsx)(b.A,{sx:{fontSize:"120px"}}),(0,N.jsx)(h.A,{variant:"h4",sx:{marginTop:"20px"},children:"No Messages Sent"})]})})]}),(0,N.jsxs)(a.A,{open:Y,sx:{zIndex:"750"},children:[(0,N.jsx)(l.A,{children:"Are you sure you want to Withdraw your Message ?"}),(0,N.jsx)(n.A,{children:(0,N.jsx)(g.A,{children:"This will delete your message Permanently from Everyone."})}),(0,N.jsxs)(u.A,{children:[(0,N.jsx)(m.A,{variant:"outlined",onClick:()=>q(!1),children:"Cancel"}),(0,N.jsx)(m.A,{variant:"contained",onClick:()=>{V(!0),setTimeout((()=>{(async()=>{V(!0);const e="Student"===W?await O($):await P($);V(!1),e&&e.message?I("error",e.message):e&&I("success","Message withdrawn successfully."),U(),q(!1)})()}),2e3)},children:"Withdraw Message"})]})]})]})}},97919:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(66734),a=r(70579);const i=(0,s.A)((0,a.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2"}),"ChatBubbleRounded")},67847:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(66734),a=r(70579);const i=(0,s.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm3.17-6.41a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L12 12.59l1.41-1.41c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41L13.41 14l1.41 1.41c.39.39.39 1.02 0 1.41s-1.02.39-1.41 0L12 15.41l-1.41 1.41c-.39.39-1.02.39-1.41 0a.996.996 0 0 1 0-1.41L10.59 14zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteForeverRounded")},3322:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(66734),a=r(70579);const i=(0,s.A)((0,a.jsx)("path",{d:"M18.05 19.29c-.39.39-1.02.39-1.41 0l-2.12-2.12a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0l1.41 1.41 3.54-3.54c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41zM12 17c0-3.87 3.13-7 7-7 1.08 0 2.09.25 3 .68V4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v18l4-4h6c0-.17.01-.33.03-.5-.02-.17-.03-.33-.03-.5"}),"MarkChatReadRounded")},67610:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(66734),a=r(70579);const i=(0,s.A)((0,a.jsx)("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5"}),"ReplayRounded")},95252:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(66734),a=r(70579);const i=(0,s.A)((0,a.jsx)("path",{d:"M1.91 2.36c-.35-.35-.92-.35-1.27 0s-.35.92 0 1.27l1.38 1.38L2 22l4-4h9l5.09 5.09c.35.35.92.35 1.27 0s.35-.92 0-1.27zM7 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m13-9H4.08l7 7H17c.55 0 1 .45 1 1s-.45 1-1 1h-3.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2m-3 6h-6c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1"}),"SpeakerNotesOffRounded")},3632:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(66734),a=r(70579);const i=(0,s.A)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},81045:(e,t,r)=>{r.d(t,{A:()=>A});var s=r(65043),a=r(58387),i=r(98610),l=r(34535),n=r(66870),o=r(28249),c=r(66734),d=r(70579);const h=(0,c.A)((0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var x=r(92532),p=r(72372);function g(e){return(0,p.Ay)("MuiAvatar",e)}(0,x.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var u=r(4162);const m=(0,l.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((0,n.A)((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}}))),f=(0,l.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),v=(0,l.Ay)(h,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const A=s.forwardRef((function(e,t){const r=(0,o.b)({props:e,name:"MuiAvatar"}),{alt:l,children:n,className:c,component:h="div",slots:x={},slotProps:p={},imgProps:A,sizes:y,src:w,srcSet:j,variant:b="circular",...S}=r;let M=null;const N=function(e){let{crossOrigin:t,referrerPolicy:r,src:a,srcSet:i}=e;const[l,n]=s.useState(!1);return s.useEffect((()=>{if(!a&&!i)return;n(!1);let e=!0;const s=new Image;return s.onload=()=>{e&&n("loaded")},s.onerror=()=>{e&&n("error")},s.crossOrigin=t,s.referrerPolicy=r,s.src=a,i&&(s.srcset=i),()=>{e=!1}}),[t,r,a,i]),l}({...A,src:w,srcSet:j}),k=w||j,C=k&&"error"!==N,R={...r,colorDefault:!C,component:h,variant:b};delete R.ownerState;const L=(e=>{const{classes:t,variant:r,colorDefault:s}=e,a={root:["root",r,s&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,i.A)(a,g,t)})(R),[D,z]=(0,u.A)("img",{className:L.img,elementType:f,externalForwardedProps:{slots:x,slotProps:{img:{...A,...p.img}}},additionalProps:{alt:l,src:w,srcSet:j,sizes:y},ownerState:R});return M=C?(0,d.jsx)(D,{...z}):n||0===n?n:k&&l?l[0]:(0,d.jsx)(v,{ownerState:R,className:L.fallback}),(0,d.jsx)(m,{as:h,className:(0,a.A)(L.root,c),ref:t,...S,ownerState:R,children:M})}))},39336:(e,t,r)=>{r.d(t,{A:()=>u});var s=r(65043),a=r(58387),i=r(98610),l=r(55500),n=r(34535),o=r(66870),c=r(28249),d=r(5658),h=r(70579);const x=(0,n.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((0,o.A)((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,l.X4)(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),p=(0,n.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((0,o.A)((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}}))),g=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiDivider"}),{absolute:s=!1,children:l,className:n,orientation:o="horizontal",component:g=(l||"vertical"===o?"div":"hr"),flexItem:u=!1,light:m=!1,role:f=("hr"!==g?"separator":void 0),textAlign:v="center",variant:A="fullWidth",...y}=r,w={...r,absolute:s,component:g,flexItem:u,light:m,orientation:o,role:f,textAlign:v,variant:A},j=(e=>{const{absolute:t,children:r,classes:s,flexItem:a,light:l,orientation:n,textAlign:o,variant:c}=e,h={root:["root",t&&"absolute",c,l&&"light","vertical"===n&&"vertical",a&&"flexItem",r&&"withChildren",r&&"vertical"===n&&"withChildrenVertical","right"===o&&"vertical"!==n&&"textAlignRight","left"===o&&"vertical"!==n&&"textAlignLeft"],wrapper:["wrapper","vertical"===n&&"wrapperVertical"]};return(0,i.A)(h,d.K,s)})(w);return(0,h.jsx)(x,{as:g,className:(0,a.A)(j.root,n),role:f,ref:t,ownerState:w,"aria-orientation":"separator"!==f||"hr"===g&&"vertical"!==o?void 0:o,...y,children:l?(0,h.jsx)(p,{className:j.wrapper,ownerState:w,children:l}):null})}));g&&(g.muiSkipListHighlight=!0);const u=g},5658:(e,t,r)=>{r.d(t,{A:()=>l,K:()=>i});var s=r(92532),a=r(72372);function i(e){return(0,a.Ay)("MuiDivider",e)}const l=(0,s.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])}}]);
//# sourceMappingURL=1898.8ad2b1e1.chunk.js.map