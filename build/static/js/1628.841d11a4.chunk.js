"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[1628],{1628:(e,t,s)=>{s.r(t),s.d(t,{default:()=>F});var r=s(65043),n=s(17392),a=s(94516),i=s(46987),o=s(83462),l=s(26600),c=s(35316),d=s(94496),u=s(42788),p=s(51787),m=s(69413),h=s(74605),x=s(51962),f=s(29347),v=s(11906),g=s(66734),w=s(70579);const A=(0,g.A)((0,w.jsx)("path",{d:"M3 17h18c.55 0 1 .45 1 1s-.45 1-1 1H3c-.55 0-1-.45-1-1s.45-1 1-1m-.5-4.43c.36.21.82.08 1.03-.28l.47-.82.48.83c.21.36.67.48 1.03.28.36-.21.48-.66.28-1.02l-.49-.84h.95c.41 0 .75-.34.75-.75s-.34-.75-.75-.75H5.3l.47-.82c.21-.36.09-.82-.27-1.03-.36-.2-.82-.08-1.03.28L4 8.47l-.47-.82c-.21-.36-.67-.48-1.03-.28-.36.21-.48.67-.27 1.03l.47.82h-.95c-.41 0-.75.34-.75.75s.34.75.75.75h.95l-.48.83c-.2.36-.08.82.28 1.02m8 0c.36.21.82.08 1.03-.28l.47-.82.48.83c.21.36.67.48 1.03.28.36-.21.48-.66.28-1.02l-.48-.83h.95c.41 0 .75-.34.75-.75s-.34-.75-.75-.75h-.96l.47-.82c.21-.36.08-.82-.27-1.03-.36-.21-.82-.08-1.02.27l-.48.82-.47-.82c-.21-.36-.67-.48-1.02-.27-.36.21-.48.67-.27 1.03l.47.82h-.96c-.41-.01-.75.33-.75.74s.34.75.75.75h.95l-.48.83c-.2.36-.08.82.28 1.02M23 9.97c0-.41-.34-.75-.75-.75h-.95l.47-.82c.21-.36.08-.82-.27-1.03-.36-.21-.82-.08-1.02.27l-.48.83-.47-.82c-.21-.36-.67-.48-1.02-.27-.36.21-.48.67-.27 1.03l.47.82h-.95c-.42-.01-.76.33-.76.74s.34.75.75.75h.95l-.48.83c-.21.36-.08.82.28 1.02.36.21.82.08 1.03-.28l.47-.82.48.83c.21.36.67.48 1.03.28.36-.21.48-.66.28-1.02l-.48-.83h.95c.4-.01.74-.35.74-.76"}),"PasswordRounded");var j=s(43559),b=s(3632);const y=(0,g.A)((0,w.jsx)("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2M7.64 15H6.49v-4.5l-.9.66-.58-.89L6.77 9h.87zm5.86 0H9.61v-1.02c1.07-1.07 1.77-1.77 2.13-2.15.4-.42.54-.69.54-1.06 0-.4-.31-.72-.81-.72-.52 0-.8.39-.9.72l-1.01-.42c.01-.02.18-.76 1-1.15.69-.33 1.48-.2 1.95.03.86.44.91 1.24.91 1.48 0 .64-.31 1.26-.92 1.86-.25.25-.72.71-1.4 1.39l.03.05h2.37zm5.25-.85c-.08.13-.56.85-1.76.85-.04 0-1.6.08-2.05-1.51l1.03-.41c.03.1.19.86 1.02.86.41 0 .89-.28.89-.77 0-.55-.48-.79-1.04-.79h-.5v-1h.46c.33 0 .88-.14.88-.72 0-.39-.31-.65-.75-.65-.5 0-.74.32-.85.64l-.99-.41C15.2 9.9 15.68 9 16.94 9c1.09 0 1.54.64 1.62.75.33.5.28 1.16.02 1.57-.15.22-.32.38-.52.48v.07c.28.11.51.28.68.52.37.52.33 1.27.01 1.76"}),"Pin"),S=(0,g.A)((0,w.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),P=(0,g.A)((0,w.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Mail");var M=s(25821),z=s(66204),L=s(26431);const E=e=>{let{isOpen:t,isClose:s,setIsLoading:i,handleShowSnackbar:g,sendEmail:E}=e;const{userGoogleLogin:C,userGoogleLogout:I}=(0,r.useContext)(L.i),{chkUsername:k,chkEmail:T,resetUserPassword:N}=(0,r.useContext)(z.K),[U,O]=(0,r.useState)(!1),[F,R]=(0,r.useState)(!1),[$,G]=(0,r.useState)(!1),[H,V]=(0,r.useState)(!1),[W,B]=(0,r.useState)(""),[D,_]=(0,r.useState)(""),[Y,q]=(0,r.useState)(""),[K,J]=(0,r.useState)(""),[Q,X]=(0,r.useState)(""),[Z,ee]=(0,r.useState)(""),[te,se]=(0,r.useState)(!1),[re,ne]=(0,r.useState)(null),ae=()=>{s(!1),G(!1),R(!1),O(!1),B(""),_(""),q(""),J(""),X(""),ee(""),V(!1),se(!1),ne(null)},ie=async()=>{const e=await T(Y,"check");if(e&&e.message)g("error","Error or User not found. Please try again later.");else{const e=await le(Y);if("failed"===e)return;if("success"===e){const e=await T(Y,"get");if(e&&e.message)return void g("error",e.message);if(e){const t={Username:e.username,Email:Y};ce("retriveUsername",t)}}}},oe=async()=>{const e={Username:D,Email:Y},t=await k(D);if(t&&t.message)g("error","Error or User not found. Please try again later.");else if(t){if(t.email!==Y)return void g("error","Invalid User Details.");{const s=await le(t.email);if("failed"===s)return;"success"===s&&(g("info","Please wait. We are Sending OTP...."),e.Email=t.email,ce("retrivePassword",e))}}},le=async e=>{const t=await C(e);return"success"===t.status&&t.verified?(I(),"success"):"failed"===t.status?(g("error",t.message),I(),"failed"):(I(),"failed")},ce=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("retrivePassword"===e){i(!0);await E("OTP",t.Email,"OTP for Resetting Your Account Password",t.Username,"OTP",`${t.Username}_${t.Email}`)?(g("success","OTP has sent to your email. Check spam folder too."),R(!0),ne(t)):g("error","There was an issue sending your OTP. Please try again later.")}else if("retriveUsername"===e){i(!0);await E(t.Username,t.Email,"Your Username for Account Access",t.Username,"Username")?g("success","Username has sent to your email. Check spam folder too."):g("error","Username Delivery Failed. Please try again later."),ae()}i(!1)};return(0,w.jsx)("div",{children:(0,w.jsxs)(o.A,{open:t,onClose:ae,sx:{zIndex:"900"},children:[(0,w.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",className:"w-1/4 ml-[37.5%]"}),(0,w.jsx)(l.A,{variant:"h5",className:"text-center",children:U?"Get Username":"Change Password"}),(0,w.jsx)(c.A,{className:"h-[22rem] w-[80%] ml-[10%] flex flex-col items-center justify-around",children:F?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.A,{className:"text-center text-gray-500",children:"To reset your password, please provide your new password along with the OTP."}),(0,w.jsxs)(a.A,{className:"w-full flex flex-row items-center justify-between",children:[(0,w.jsx)(A,{className:"mr-3 mt-6",sx:{color:"action.active",fontSize:"30px"}}),(0,w.jsx)(u.A,{sx:{width:"100%","& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}},autoFocus:!0,margin:"dense",label:"Password",type:"password",fullWidth:!0,error:H&&0===Q.length,onChange:e=>X(e.target.value),variant:"standard",helperText:H&&0===Q.length?"Enter Password":"",value:Q})]}),(0,w.jsxs)(a.A,{className:"w-full flex flex-row items-center justify-between",children:[(0,w.jsx)(A,{className:"mr-3 mt-6",sx:{color:"action.active",fontSize:"30px"}}),(0,w.jsx)(u.A,{sx:{width:"100%","& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}},autoFocus:!0,margin:"dense",label:"Confirm Password",type:te?"text":"password",fullWidth:!0,error:H&&0===Z.length||Q!==Z,onChange:e=>ee(e.target.value),variant:"standard",helperText:H&&0===Z.length?"Enter Password":Q!==Z?"Password doesn't match":"",value:Z,InputProps:{endAdornment:(0,w.jsx)(p.A,{position:"end",children:(0,w.jsx)(n.A,{"aria-label":"toggle password visibility",onClick:()=>se(!te),children:te?(0,w.jsx)(j.A,{}):(0,w.jsx)(b.A,{})})})}})]}),(0,w.jsxs)(a.A,{className:"w-full flex flex-row items-center justify-between",children:[(0,w.jsx)(y,{className:"mr-3 mt-6",sx:{color:"action.active",fontSize:"30px"}}),(0,w.jsx)(M.A,{sx:{width:"100%","& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}},label:"Enter OTP",error:H&&0===K.length,onChange:e=>{J(e.target.value),V(!1)},value:K,helperText:H&&0===K.length?"Enter OTP":""})]})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.A,{className:"text-center text-gray-500 mb-11",children:U?"Please enter your email to retrieve your username.":(0,w.jsxs)(d.A,{children:["To reset your password, please provide your email.",(0,w.jsx)("br",{})," An OTP will be sent for verification."]})}),!U&&(0,w.jsxs)(a.A,{className:"flex justify-center items-start w-full h-20",children:[(0,w.jsx)(S,{className:"mr-2 mt-8",sx:{color:"action.active",fontSize:"30px"}}),(0,w.jsx)(u.A,{sx:{width:"100%","& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}},autoFocus:!0,margin:"dense",label:"Username",type:"text",fullWidth:!0,error:$&&0===D.length,onChange:e=>_(e.target.value),variant:"standard",helperText:$&&0===Y.length?"Invalid Username":"",value:D})]}),(0,w.jsxs)(a.A,{className:"flex justify-center items-start w-full h-20",children:[(0,w.jsx)(P,{className:"mr-2 mt-8",sx:{color:"action.active",fontSize:"28px"}}),(0,w.jsx)(u.A,{sx:{width:"100%","& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}},margin:"dense",label:"Email Address",type:"email",fullWidth:!0,error:$&&0===Y.length,variant:"standard",helperText:$&&0===Y.length?"Email Address":"",value:Y,onChange:e=>q(e.target.value)})]}),(0,w.jsx)(m.A,{className:"mt-5",children:(0,w.jsx)(h.A,{control:(0,w.jsx)(x.A,{onClick:e=>{O(e.target.checked),G(!1),_(""),q("")}}),label:"Forgot Username ?"})})]})}),(0,w.jsxs)(f.A,{children:[(0,w.jsx)(v.A,{onClick:ae,children:"Cancel"}),(0,w.jsx)(v.A,{onClick:async()=>{if(F){if(V(!0),Q&&Z&&Q===Z){const e={Email:Y,Password:Q,User_Id:`${D}_${Y}`,OTP:K},t=await N(e);404===t||500===t||400===t?(g("error","Internal server error. Please try again later."),ae()):201===t?(g("success","Password has been reset successfully."),ae()):406===t&&g("error","Invalid OTP")}}else if(G(!0),U){if(U){if(0===Y.length)return;i(!0),setTimeout((()=>{ie()}),1e3)}}else{if(0===D.length||0===Y.length)return;i(!0),oe()}},variant:"contained",sx:{margin:"0 10px 10px 0"},children:"Submit"})]})]})})};var C=s(54253),I=s(90573),k=s(5270),T=s(81658);const N=(0,r.lazy)((()=>s.e(4971).then(s.bind(s,84971)))),U=(0,r.lazy)((()=>s.e(7437).then(s.bind(s,47437)))),O=(0,r.lazy)((()=>s.e(3154).then(s.bind(s,43154)))),F=()=>{const{enqueueSnackbar:e,closeSnackbar:t}=(0,i.dh)(),{sendEmail:s}=(0,r.useContext)(C.V),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(0,r.startTransition)((()=>{const e=setTimeout((()=>l(!1)),3e3);return()=>clearTimeout(e)}))}),[]);const m=(0,r.useCallback)(((s,r)=>{e(r,{variant:s,anchorOrigin:{vertical:"top",horizontal:"right"},action:e=>(0,w.jsx)(n.A,{onClick:()=>t(e),children:(0,w.jsx)(I.A,{color:"inherit"})})})}),[e,t]);return(0,w.jsxs)(a.A,{className:"bg-bg2 h-screen w-screen flex justify-center items-center",children:[(0,w.jsx)(a.A,{className:"shadow-2xl bg-white h-[80%] w-[80%] rounded-lg flex flex-row relative overflow-hidden",children:(0,w.jsxs)(r.Suspense,{fallback:(0,w.jsx)(T.default,{}),children:[(0,w.jsx)(O,{isStudentLogin:c}),(0,w.jsx)(a.A,{className:"w-1/2 overflow-hidden relative",children:(0,w.jsxs)(r.Suspense,{fallback:(0,w.jsx)(T.default,{}),children:[(0,w.jsx)(N,{isStudentLogin:c,setStudentLogin:d,setIsLoading:l,setForgotPassword:p,handleShowSnackbar:m,sendEmail:s}),(0,w.jsx)(U,{isStudentLogin:c,setStudentLogin:d,setIsLoading:l,handleShowSnackbar:m,sendEmail:s})]})})]})}),o&&(0,w.jsx)(k.default,{}),(0,w.jsx)(E,{isOpen:u,isClose:p,setIsLoading:l,handleShowSnackbar:m,sendEmail:s})]})}},25821:(e,t,s)=>{s.d(t,{A:()=>o});s(65043);var r=s(42788),n=s(34535),a=s(70579);const i=(0,n.Ay)(r.A)((e=>{let{theme:t}=e;return{'& input[type="number"]::-webkit-inner-spin-button, & input[type="number"]::-webkit-outer-spin-button':{WebkitAppearance:"none",margin:0},'& input[type="number"]':{MozAppearance:"textfield"},"& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}}})),o=e=>(0,a.jsx)(i,{...e,type:"number",variant:"standard"})},90573:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(66734),n=s(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59 7.11 5.7a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"}),"CloseRounded")},3632:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(66734),n=s(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},43559:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(66734),n=s(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},69413:(e,t,s)=>{s.d(t,{A:()=>x});var r=s(65043),n=s(58387),a=s(98610),i=s(34535),o=s(28249),l=s(92532),c=s(72372);function d(e){return(0,c.Ay)("MuiFormGroup",e)}(0,l.A)("MuiFormGroup",["root","row","error"]);var u=s(85213),p=s(74827),m=s(70579);const h=(0,i.Ay)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),x=r.forwardRef((function(e,t){const s=(0,o.b)({props:e,name:"MuiFormGroup"}),{className:r,row:i=!1,...l}=s,c=(0,u.A)(),x=(0,p.A)({props:s,muiFormControl:c,states:["error"]}),f={...s,row:i,error:x.error},v=(e=>{const{classes:t,row:s,error:r}=e,n={root:["root",s&&"row",r&&"error"]};return(0,a.A)(n,d,t)})(f);return(0,m.jsx)(h,{className:(0,n.A)(v.root,r),ownerState:f,ref:t,...l})}))},51787:(e,t,s)=>{s.d(t,{A:()=>A});var r=s(65043),n=s(58387),a=s(98610),i=s(6803),o=s(94496),l=s(41053),c=s(85213),d=s(34535),u=s(66870),p=s(28249),m=s(92532),h=s(72372);function x(e){return(0,h.Ay)("MuiInputAdornment",e)}const f=(0,m.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var v,g=s(70579);const w=(0,d.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`position${(0,i.A)(s.position)}`],!0===s.disablePointerEvents&&t.disablePointerEvents,t[s.variant]]}})((0,u.A)((e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${f.positionStart}&:not(.${f.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}))),A=r.forwardRef((function(e,t){const s=(0,p.b)({props:e,name:"MuiInputAdornment"}),{children:d,className:u,component:m="div",disablePointerEvents:h=!1,disableTypography:f=!1,position:A,variant:j,...b}=s,y=(0,c.A)()||{};let S=j;j&&y.variant,y&&!S&&(S=y.variant);const P={...s,hiddenLabel:y.hiddenLabel,size:y.size,disablePointerEvents:h,position:A,variant:S},M=(e=>{const{classes:t,disablePointerEvents:s,hiddenLabel:r,position:n,size:o,variant:l}=e,c={root:["root",s&&"disablePointerEvents",n&&`position${(0,i.A)(n)}`,l,r&&"hiddenLabel",o&&`size${(0,i.A)(o)}`]};return(0,a.A)(c,x,t)})(P);return(0,g.jsx)(l.A.Provider,{value:null,children:(0,g.jsx)(w,{as:m,ownerState:P,className:(0,n.A)(M.root,u),ref:t,...b,children:"string"!==typeof d||f?(0,g.jsxs)(r.Fragment,{children:["start"===A?v||(v=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):null,d]}):(0,g.jsx)(o.A,{color:"textSecondary",children:d})})})}))}}]);
//# sourceMappingURL=1628.841d11a4.chunk.js.map