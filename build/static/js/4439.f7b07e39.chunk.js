"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[4439],{14439:(s,e,t)=>{t.r(e),t.d(e,{default:()=>N});var a=t(65043),r=t(83462),c=t(17392),i=t(26600),l=t(35316),o=t(77739),n=t(12110),h=t(94516),x=t(94496),d=t(88446),m=t(90573),A=t(67610),p=t(86353),u=t(78252),f=t(3632),g=t(37786),j=t(9971),b=t(88076),w=t(23054),y=t(70579);const N=s=>{let{isOpen:e,setIsOpen:t,course:N,batchName:v,handleShowSnackbar:M,setNotifLen:C,stdId:S,isLoading:k}=s;const{fetchBatchMessageData:R}=(0,a.useContext)(g.w),{fetchBatchToStudentMessageData:z}=(0,a.useContext)(b.e),[V,B]=(0,a.useState)([]),[H,L]=(0,a.useState)(!1),D=async()=>{const s=await R(N),e=await z(S);if(s&&s.message)M("error",s.message);else if(s){if(Array.isArray(s)&&0===s.length)return void M("error","No data found.");const t=Array.isArray(s)&&s.length>0&&s.filter((s=>s.Course===N&&s.BatchName===v)),a=e.message?t:t&&e&&t.concat(e);B([...a].reverse()),Array.isArray(a)&&a.length>0&&C(a.filter((s=>s.BatchMessage.split("~")[0].split(" ")[0]===(0,j.c)().split(" ")[0])).length)}};(0,a.useEffect)((()=>{(0,a.startTransition)((()=>{D()}))}),[k]);return(0,y.jsxs)(r.A,{open:e,sx:{zIndex:"700"},maxWidth:"lg",children:[(0,y.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"12%",className:"ml-[44%]"}),(0,y.jsx)(c.A,{sx:{position:"absolute"},className:"right-1 top-1",onClick:()=>t(!1),children:(0,y.jsx)(m.A,{sx:{fontSize:"35px"}})}),(0,y.jsx)(c.A,{disabled:H,sx:{position:"absolute"},className:"top-1 right-12",onClick:async()=>{await D(),L(!0),setTimeout((()=>{L(!1)}),1e4)},children:(0,y.jsx)(A.A,{sx:{fontSize:"35px"}})}),(0,y.jsxs)(i.A,{variant:"h5",children:["Your Notifications ",(0,y.jsx)(p.A,{sx:{fontSize:"30px"}})]}),(0,y.jsx)(l.A,{className:"w-[50rem] h-[40rem] overflow-y-auto",sx:{scrollbarWidth:"none"},children:Array.isArray(V)&&V.map(((s,e)=>{const t=s.BatchMessage.split("~");return(0,y.jsx)(o.A,{title:`Message : ${t[3]}`,children:(0,y.jsxs)(n.A,{className:"relative flex items-center justify-start mt-5 h-24 pl-3 mb-5",sx:{boxShadow:"0 0 5px rgba(0,0,0,0.5)"},children:[(0,y.jsx)(u.A,{sx:{color:w.vG[e<20?e:Math.floor(19*Math.random())],fontSize:"30px",width:"5%",marginRight:"10px"}}),(0,y.jsxs)(h.A,{className:"flex flex-col items-start justify-between h-[70%] w-[90%]",children:[(0,y.jsxs)(x.A,{className:"text-slate-500",children:["From : ",t[1]]}),(0,y.jsxs)(x.A,{className:"text-slate-500",children:["Reason : ",t[2]]}),(0,y.jsxs)(x.A,{className:"text-slate-400",children:["Date : ",t[0]]})]}),"N/A"!==t[4]&&(0,y.jsx)(o.A,{title:"Show Uploaded File",arrow:!0,children:(0,y.jsx)(d.A,{href:t[4],target:"_blank",children:(0,y.jsx)(c.A,{color:"primary",sx:{marginRight:"10px"},children:(0,y.jsx)(f.A,{color:"primary"})})})}),t[0].split(" ")[0]===(0,j.c)().split(" ")[0]&&(0,y.jsx)(h.A,{sx:{position:"absolute"},className:"h-2 w-2 bg-red-600 rounded-full top-0 right-0"})]})})}))})]})}},78252:(s,e,t)=>{t.d(e,{A:()=>c});var a=t(66734),r=t(70579);const c=(0,a.A)((0,r.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-3 12H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1"}),"MessageRounded")},86353:(s,e,t)=>{t.d(e,{A:()=>c});var a=t(66734),r=t(70579);const c=(0,a.A)((0,r.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-1.29 1.29c-.63.63-.19 1.71.7 1.71h13.17c.89 0 1.34-1.08.71-1.71z"}),"NotificationsRounded")},67610:(s,e,t)=>{t.d(e,{A:()=>c});var a=t(66734),r=t(70579);const c=(0,a.A)((0,r.jsx)("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5"}),"ReplayRounded")},3632:(s,e,t)=>{t.d(e,{A:()=>c});var a=t(66734),r=t(70579);const c=(0,a.A)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")}}]);
//# sourceMappingURL=4439.f7b07e39.chunk.js.map