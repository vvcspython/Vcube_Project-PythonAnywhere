"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[7212],{13179:(e,s,t)=>{t.d(s,{h:()=>l,t:()=>c});t(65043);var a=t(68598),n=t(21977),o=t(94595),i=t(32514),r=t(9971);const l=async(e,s)=>{try{const t=(0,i.ID)("All"),n=(0,r.c)().split(" ");if(t&&"Student"!==(0,i.fv)()&&(0,i.zQ)()===`True -> ${t.Username} -> ${n[0]}`&&!0===await e()){const e=(0,a.hg)(o.j,(e=>{s(!!e)}));return()=>{e()}}s(!1)}catch(t){s(!1)}},c=async(e,s)=>{const t=sessionStorage.getItem("StudentDetails_ID"),o=(0,r.c)().split(" ");try{if(t&&"Student"===(0,i.fv)()&&(0,i.zA)()===`True -> ${t} -> ${o[0]}`&&!0===await e()){const e=(0,a.hg)(n.o,(e=>{s(!!e)}));return()=>e()}s(!1)}catch(l){s(!1)}}},57212:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ge});var a=t(65043),n=t(17392),o=t(88446),i=t(94516),r=t(12110),l=t(77739),c=t(93933),d=t(47500),m=t(82119),u=t(76040),h=t(83462),p=t(26600),g=t(35316),S=t(98533),b=t(29347),x=t(11906),f=t(90573),j=t(83560),N=t(13174),A=t(303),C=t(46332),I=t(10964),D=t(17306),k=t(76580),y=t(14169),w=t(75626),P=t(74858),v=t(17826),_=t(93544),z=t(19080),L=t(2018),O=t(33438),T=t(73216),B=t(88076),E=t(77212),$=t(46987),F=t(77476),M=t(32514),U=t(12947),V=t(13179),J=t(58383),W=t(66204),R=t(59266),q=t(70579);const Y=(0,a.lazy)((()=>Promise.all([t.e(3014),t.e(9761)]).then(t.bind(t,89761)))),K=(0,a.lazy)((()=>Promise.all([t.e(9492),t.e(1830)]).then(t.bind(t,91830)))),G=(0,a.lazy)((()=>Promise.all([t.e(7390),t.e(2579),t.e(815)]).then(t.bind(t,80815)))),H=(0,a.lazy)((()=>Promise.all([t.e(7390),t.e(4455),t.e(1554)]).then(t.bind(t,41554)))),Q=(0,a.lazy)((()=>Promise.all([t.e(8782),t.e(6994)]).then(t.bind(t,86994)))),Z=(0,a.lazy)((()=>t.e(6326).then(t.bind(t,56326)))),X=(0,a.lazy)((()=>Promise.all([t.e(1529),t.e(9492),t.e(8782),t.e(3756),t.e(3881),t.e(8916),t.e(750)]).then(t.bind(t,33274)))),ee=(0,a.lazy)((()=>Promise.all([t.e(1529),t.e(9043)]).then(t.bind(t,99043)))),se=(0,a.lazy)((()=>t.e(1898).then(t.bind(t,71898)))),te=(0,a.lazy)((()=>Promise.resolve().then(t.bind(t,5270)))),ae=(0,a.lazy)((()=>Promise.resolve().then(t.bind(t,81658)))),ne=(0,a.lazy)((()=>Promise.all([t.e(7740),t.e(4726)]).then(t.bind(t,74726)))),oe=(0,a.lazy)((()=>Promise.all([t.e(3014),t.e(3416),t.e(1407)]).then(t.bind(t,63788)))),ie=(0,a.lazy)((()=>t.e(4439).then(t.bind(t,14439)))),re=(0,a.lazy)((()=>t.e(1175).then(t.bind(t,11175)))),le=(0,a.lazy)((()=>Promise.all([t.e(1529),t.e(3014),t.e(8782),t.e(5477),t.e(6470)]).then(t.bind(t,6470)))),ce=(0,a.lazy)((()=>Promise.all([t.e(1529),t.e(3014),t.e(8782),t.e(5477),t.e(7667),t.e(6470),t.e(3288)]).then(t.bind(t,40907)))),de=(0,a.lazy)((()=>t.e(9371).then(t.bind(t,29371)))),me=(0,a.lazy)((()=>Promise.resolve().then(t.bind(t,31875)))),ue=(0,a.lazy)((()=>Promise.resolve().then(t.bind(t,56867)))),he=(0,a.lazy)((()=>t.e(5537).then(t.bind(t,55537)))),pe=(0,a.memo)(n.A),ge=()=>{const{fetchStudentsDataById:e,getStudentAttendanceById:s,fetchStudentWatchTimeData:t,postStudentWatchTimeData:ge,patchStudentWatchTimeData:Se}=(0,a.useContext)(B.e),{fetchBatchAttendanceDataByCourse:be}=(0,a.useContext)(E.N),{checkUserAuth:xe}=(0,a.useContext)(W.K),{checkStdAuth:fe}=(0,a.useContext)(R.K),{fetchPermissionsData:je}=(0,a.useContext)(U.h),{studentAuthChk:Ne,removeStudentLoginData:Ae,isStudentAuthenticated:Ce}=(0,F.H)(),{isUserAuthenticated:Ie,isPlacementsAuthenticated:De}=(0,J.As)(),{enqueueSnackbar:ke,closeSnackbar:ye}=(0,$.dh)(),we=(0,T.Zp)(),Pe=(0,M.fv)(),[ve,_e]=(0,a.useState)(0),[ze,Le]=(0,a.useState)(null),[Oe,Te]=(0,a.useState)({}),Be=JSON.parse(sessionStorage.getItem("StudentDetails_ID")),[Ee,$e]=(0,a.useState)({personal:[],placement:[],education:[],status:"",access:"",config:"",joiningDate:""}),[Fe,Me]=(0,a.useState)([]),[Ue,Ve]=(0,a.useState)([]),[Je,We]=(0,a.useState)(!0),[Re,qe]=(0,a.useState)({messageForm:!1,sentMessageForm:!1,isLogout:!1,feedbackForm:!1,assessmentDialog:!1,stdNotifications:!1,stdMailNotifications:!1,solveAssessment:!1,practice_CodeEditor:!1,classVedio:!1,leaderboard:!1}),[Ye,Ke]=(0,a.useState)(0),[Ge,He]=(0,a.useState)(0),[Qe,Ze]=(0,a.useState)(null),[Xe,es]=(0,a.useState)(!1),[ss,ts]=(0,a.useState)(!1),[as,ns]=(0,a.useState)(!1),[os,is]=(0,a.useState)(!1),[rs,ls]=(0,a.useState)(!1),[cs,ds]=(0,a.useState)(!1),[ms,us]=(0,a.useState)(30),hs=async()=>{await(0,V.h)(xe,ts),await(0,V.t)(fe,ns),!rs&&ls(!0)},ps=(0,a.useCallback)(((e,s)=>{ke(s,{variant:e,anchorOrigin:{vertical:"top",horizontal:"right"},action:e=>(0,q.jsx)(n.A,{children:(0,q.jsx)(f.A,{onClick:()=>ye(e),color:"inherit"})})})}),[ke,ye]);(0,a.useEffect)((()=>{(0,a.startTransition)((()=>{Je&&setTimeout((()=>{We(!1)}),3e3)})),hs(),"True"===sessionStorage.getItem("Reloaded_In_Assignment")&&setTimeout((()=>{Ze(JSON.parse(sessionStorage.getItem("Reloaded_Assignment_Data"))),qe((e=>({...e,solveAssessment:!0})))}),500)}),[]);const gs=(0,a.useCallback)((async()=>{(0,a.startTransition)((async()=>{try{const t=await e(Be),a=await s(Be);if(t&&t.message)return ps("error",t.message),void bs();const n=await be(t[0].Course);$e({personal:JSON.parse(t[0].Personal_Info),education:"object"===typeof t[0].Educational_Info?"N/A":JSON.parse(t[0].Educational_Info),placement:"object"===typeof t[0].Placement_Info?"N/A":JSON.parse(t[0].Placement_Info),status:t[0].Status,access:t[0].Permission,config:t[0].Student_Config,joiningDate:t[0].Joining_Date||"N/A"}),"Network Error"===n.message||"Network Error"===a.message?ps("error","Network Error"):(Me(n.filter((e=>e.BatchName===Ee.personal.BatchName))),Ve(a))}catch(t){ps("error","Something went wrong. Please try again later.")}}))}),[e,s,be,ps,Ee.personal.BatchName,Be]),Ss=async()=>{const e=await je(Ee.personal.Course);if(e&&e.message)ps("error",e.message);else if(e){const s=e.find((e=>e.BatchName===Ee.personal.BatchName));s&&Te({Edit:s.Edit_Access,Login:s.Login_Access})}};(0,a.useEffect)((()=>{(0,a.startTransition)((()=>{Be?gs():bs(),Ss()}))}),[ve,gs]);const bs=()=>{(0,a.startTransition)((()=>{We(!0),setTimeout((()=>{const e=sessionStorage.getItem("UniqueURL");"Student"===Pe&&as&&as?(Ae(),Ne()):"Super Admin"===Pe&&Ie&&ss&&De&&ss?("Placements"===sessionStorage.getItem("Navigate")?we(`/vcube/placements/dashboard/${e.substring(30,60)}`):we(`/vcube/dashboard/${e.substring(0,30)}`),sessionStorage.setItem("Navigate","")):we(Ie&&ss?`/vcube/dashboard/${e.substring(0,30)}`:De&&ss?`/vcube/placements/dashboard/${e.substring(30,60)}`:`/vcube/error/${e.substring(30,70)}`)}),1e3)}))},xs=async()=>{We(!0),await gs(),await Ss(),await hs(),We(!1)};(0,a.useEffect)((()=>{let e;return cs&&(e=setTimeout((()=>{us((e=>e-1))}),1e3)),0===ms&&(ds(!1),us(30)),()=>clearTimeout(e)}),[ms,cs]);(0,a.useEffect)((()=>{"Student"===Pe&&localStorage.getItem("Student_WatchTime")&&!Re.classVedio&&(async()=>{if("Student"===Pe&&Re.classVedio){const e=localStorage.getItem("Student_WatchTime");if(e){if(Math.floor(parseInt(e.split("~")[1])/60)<1)return;const s=await t(Be);if(!s||s.message||s.response)return!1;const a=Array.isArray(s)&&s.find((s=>s.Course===Ee.personal.Course&&s.BatchName===Ee.personal.BatchName&&s.Name===`${Ee.personal.Name}~${Ee.personal.Phone}`&&s.Date===e.split("~")[0]));if(a)a.WatchTime=(parseInt(a.WatchTime)||0)+parseInt(e.split("~")[1]),await Se(a)&&localStorage.removeItem("Student_WatchTime");else{const s={StudentId:Be,Name:`${Ee.personal.Name}~${Ee.personal.Phone}`,Course:Ee.personal.Course,BatchName:Ee.personal.BatchName,Date:e.split("~")[0],WatchTime:e.split("~")[1]};await ge(s)&&localStorage.removeItem("Student_WatchTime")}}}})()}),[]);const fs=[("Student"!==Pe||"Student"===Pe&&"Access"===Oe.Edit)&&"Placements"!==Pe.split(" ")[0]&&{icon:(0,q.jsx)(j.A,{}),name:"Edit Details",onClick:()=>{qe((e=>({...e,editStdDetails:!0}))),es(!0)}},{icon:(0,q.jsx)(o.A,{href:Ee.personal.Resume,download:`VCube-${Ee.personal.Name}-${Ee.personal.Course}-${Ee.personal.BatchName}.pdf`,children:(0,q.jsx)(N.A,{})}),name:"Download Resume"},"Placements"!==Pe.split(" ")[0]&&{icon:(0,q.jsx)(A.A,{}),name:"Assignments",onClick:()=>qe((e=>({...e,assessmentDialog:!0})))},{icon:(0,q.jsx)(C.A,{}),name:"Code Editor",onClick:()=>qe((e=>({...e,practice_CodeEditor:!0})))},"Student"===Pe&&{icon:(0,q.jsx)(I.A,{}),name:"Class Recordings",onClick:()=>qe((e=>({...e,classVedio:!0})))},{icon:(0,q.jsx)(D.A,{}),name:"Messages you sent",onClick:()=>qe((e=>({...e,sentMessageForm:!0})))},{icon:(0,q.jsx)(k.A,{}),name:"Feedback Form",onClick:()=>qe((e=>({...e,feedbackForm:!0})))},{icon:(0,q.jsx)(y.A,{}),name:"Student"===Pe?"Logout":"Close Details",onClick:"Student"===Pe?()=>qe((e=>({...e,isLogout:!0}))):bs}].filter(Boolean);if(rs){if(ss&&(Ie||De)||as&&Ce)return(0,q.jsx)(i.A,{className:"bg-slate-100 w-screen h-screen",children:(0,q.jsxs)(a.Suspense,{fallback:(0,q.jsx)(ae,{}),children:[(0,q.jsx)(Y,{tabsValue:ve,setTabValue:_e}),(0,q.jsxs)(r.A,{className:"w-[95%] h-[85%] ml-[2.5%] relative",children:[(0,q.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",className:"w-[10%] ml-[45%]"}),0===ve?(0,q.jsx)(K,{user:Pe,stdId:Be,student_Details:Ee.personal,location:Ee.placement.Location,access:Ee.access,status:Ee.status,handleShowSnackbar:ps,setMessageForm:e=>qe((s=>({...s,messageForm:e}))),fetchStdData:gs,handleClose:bs,JoiningDate:Ee.joiningDate,fetchData:gs}):1===ve?(0,q.jsx)(G,{batchAttendanceData:Fe,stdAttendanceData:Ue,selectedYear:ze,setSelectedYear:Le,JoiningDate:Ee.joiningDate,handleShowSnackbar:ps,stdId:Be,name:Ee.personal.Name,phone:Ee.personal.Phone}):2===ve?(0,q.jsx)(H,{batchAttendanceData:Fe,stdAttendanceData:Ue,name:Ee.personal.Name,email:Ee.personal.Email,setIsLoading:We,handleShowSnackbar:ps,isUser:Pe,stdId:Be,phone:Ee.personal.Phone}):3===ve?(0,q.jsx)(Q,{student_Details:Ee.education}):(0,q.jsx)(Z,{student_Details:Ee.placement}),"Student"===Pe&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(pe,{sx:{position:"absolute",top:"2%",left:"1%"},onClick:()=>qe((e=>({...e,stdNotifications:!0}))),children:(0,q.jsx)(l.A,{title:"Your Notifications",arrow:!0,children:(0,q.jsx)(c.A,{badgeContent:Ye,color:"error",max:99,children:(0,q.jsx)(w.A,{className:"text-gray-500 cursor-pointer",sx:{fontSize:"30px"}})})})}),(0,q.jsx)(pe,{sx:{position:"absolute",top:"2%",left:"5%"},onClick:()=>qe((e=>({...e,stdMailNotifications:!0}))),children:(0,q.jsx)(l.A,{title:"Placements Notifications",arrow:!0,children:(0,q.jsx)(c.A,{badgeContent:Ge,color:"error",max:99,children:(0,q.jsx)(P.A,{className:"text-gray-500 cursor-pointer",sx:{fontSize:"30px"}})})})}),(0,q.jsx)(pe,{sx:{position:"absolute",top:"2%",left:"9%"},onClick:()=>is(!0),children:(0,q.jsx)(l.A,{title:"Report an Issue",arrow:!0,children:(0,q.jsx)(v.A,{className:"text-gray-500 cursor-pointer",sx:{fontSize:"30px"}})})})]}),(0,q.jsx)(pe,{sx:{position:"absolute",top:"2%",left:"Student"===Pe?"12.8%":"1%"},onClick:()=>qe((e=>({...e,leaderboard:!0}))),children:(0,q.jsx)(l.A,{title:"Leaderboard",arrow:!0,children:(0,q.jsx)(_.A,{sx:{fontSize:"30px"}})})}),(0,q.jsx)(pe,{sx:{position:"absolute",top:"2%",left:"Student"===Pe?"16.3%":"5%"},onClick:()=>{!cs&&xs(),ds(!0)},children:(0,q.jsx)(l.A,{title:"Refresh "+(cs?ms<10?`in 0${ms}`:`in ${ms}`:""),arrow:!0,children:(0,q.jsx)(z.A,{sx:{fontSize:"30px"}})})}),(0,q.jsx)(d.A,{ariaLabel:"Menu SpeedDial",onClick:Ss,sx:{bgcolor:"transparent",position:"absolute",right:"10px",top:"10px",zIndex:"100","& .MuiSpeedDial-fab":{boxShadow:"none",bgcolor:"transparent",color:"black","&:hover":{bgcolor:"grey.300"}}},icon:(0,q.jsx)(m.A,{icon:(0,q.jsx)(L.A,{sx:{fontSize:"30px"},className:"text-gray-500"}),openIcon:(0,q.jsx)(O.A,{sx:{fontSize:"30px"},className:"text-gray-500"})}),direction:"left",children:fs.map((e=>(0,q.jsx)(u.A,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick,arrow:!0},e.name)))})]}),Je&&(0,q.jsx)(te,{}),Re.editStdDetails&&(0,q.jsx)(X,{isOpen:Re.editStdDetails,setIsOpen:e=>qe((s=>({...s,editStdDetails:e}))),student_Personal_Details:Ee.personal,student_Education_Details:Ee.education,student_Placement_Details:Ee.placement,selectedCourse:Ee.personal.Course,user:Pe,editDetails:Xe,joiningDate:Ee.joiningDate,refreshData:xs}),Re.messageForm&&(0,q.jsx)(ee,{isOpen:Re.messageForm,setIsopen:e=>qe((s=>({...s,messageForm:e}))),course:Ee.personal.Course,batchName:Ee.personal.BatchName,image:Ee.personal.Image,name:Ee.personal.Name,phone:Ee.personal.Phone,email:Ee.personal.Email,handleShowSnackbar:ps,setIsLoading:We,isUser:Pe,stdId:Be}),Re.sentMessageForm&&(0,q.jsx)(se,{isOpen:Re.sentMessageForm,setIsOpen:e=>qe((s=>({...s,sentMessageForm:e}))),image:Ee.personal.Image,gender:Ee.personal.Gender,course:Ee.personal.Course,batchName:Ee.personal.BatchName,name:Ee.personal.Name,phone:Ee.personal.Phone,handleShowSnackbar:ps,setIsLoading:We,isUser:Pe,stdId:Be}),(0,q.jsx)(ne,{isOpen:Re.feedbackForm,setIsOpen:e=>qe((s=>({...s,feedbackForm:e}))),course:Ee.personal.Course,batchName:Ee.personal.BatchName,handleShowSnackbar:ps,setIsLoading:We,isUser:Pe}),Re.assessmentDialog&&(0,q.jsx)(oe,{isOpen:Re.assessmentDialog,setIsOpen:e=>qe((s=>({...s,assessmentDialog:e}))),course:Ee.personal.Course,batchName:Ee.personal.BatchName,handleShowSnackbar:ps,setIsLoading:We,setSolveAssessmentData:Ze,setSolveAssesments:e=>qe((s=>({...s,solveAssessment:e}))),stdId:Be,JoiningDate:Ee.joiningDate,isUser:Pe,configs:Ee.config,image:Ee.personal.Image,name:Ee.personal.Name,phone:Ee.personal.Phone}),Re.stdNotifications&&(0,q.jsx)(ie,{isOpen:Re.stdNotifications,setIsOpen:e=>qe((s=>({...s,stdNotifications:e}))),course:Ee.personal.Course,batchName:Ee.personal.BatchName,handleShowSnackbar:ps,setNotifLen:Ke,stdId:Be,isLoading:Je}),Re.stdMailNotifications&&(0,q.jsx)(re,{isOpen:Re.stdMailNotifications,setIsOpen:e=>qe((s=>({...s,stdMailNotifications:e}))),course:Ee.personal.Course,batchName:Ee.personal.BatchName,handleShowSnackbar:ps,setMailNotif:He,isLoading:Je}),Re.solveAssessment&&(0,q.jsx)(le,{isOpen:Re.solveAssessment,setIsOpen:e=>qe((s=>({...s,solveAssessment:e}))),stdId:Be,handleShowSnackbar:ps,solveAssessmentData:Qe,name:Ee.personal.Name,phone:Ee.personal.Phone,course:Ee.personal.Course,batchName:Ee.personal.BatchName,isUser:Pe}),Re.practice_CodeEditor&&(0,q.jsx)(ce,{isOpen:Re.practice_CodeEditor,setIsOpen:e=>qe((s=>({...s,practice_CodeEditor:e}))),handleShowSnackbar:ps,configs:Ee.config,fetchStdData:gs,stdId:Be,isUser:Pe}),Re.classVedio&&(0,q.jsx)(de,{isOpen:Re.classVedio,setIsOpen:e=>qe((s=>({...s,classVedio:e}))),JoiningDate:`${Ee.joiningDate.split("-")[1]}-${Ee.joiningDate.split("-")[2]}`,course:Ee.personal.Course,batchName:Ee.personal.BatchName,handleShowSnackbar:ps,stdId:Be,name:Ee.personal.Name,phone:Ee.personal.Phone,isUser:Pe,setIsLoading:We}),(0,q.jsx)(ue,{isOpen:os,setIsOpen:is,setLoading:We}),(0,q.jsx)(he,{isOpen:Re.leaderboard,setIsOpen:e=>qe((s=>({...s,leaderboard:e}))),stdId:Be,name:Ee.personal.Name,phone:Ee.personal.Phone,course:Ee.personal.Course,batchName:Ee.personal.BatchName,handleShowSnackbar:ps,setIsLoading:We,batchAttendanceData:Fe}),Re.isLogout&&(0,q.jsxs)(h.A,{open:Re.isLogout,onClose:()=>qe((e=>({...e,isLogout:!1}))),children:[(0,q.jsx)(p.A,{children:"Are you sure you want to Logout?"}),(0,q.jsx)(g.A,{children:(0,q.jsx)(S.A,{children:"This will redirect you to the Login Page."})}),(0,q.jsxs)(b.A,{children:[(0,q.jsx)(x.A,{variant:"outlined",onClick:()=>qe((e=>({...e,isLogout:!1}))),children:"Cancel"}),(0,q.jsx)(x.A,{variant:"contained",onClick:()=>{bs(),qe((e=>({...e,isLogout:!1})))},children:"Logout"})]})]})]})});if(ss||Ie||De||as||Ce)return(0,q.jsx)(me,{});we(`/vcube/error/${sessionStorage.getItem("UniqueURL").substring(30,70)}`)}}}}]);
//# sourceMappingURL=7212.3302ab84.chunk.js.map