"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[1554],{41554:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var n=s(65043),r=s(63388),l=s(94516),a=s(70579);const i=e=>{let{classes:t,mock:s,interview:n}=e;const i=[t,s,n],o=[{value:"0"===t.split("~")[0]?1:t.split("~")[0],label:`Classes Attendance \u2022 ${t.split("~")[1]} / ${t.split("~")[0]}`},{value:"0"===s.split("~")[0]?1:t.split("~")[0],label:`Weekly Tests Attendance \u2022 ${s.split("~")[1]} / ${s.split("~")[0]}`},{value:"0"===n.split("~")[0]?1:t.split("~")[0],label:`Interviews Attendance \u2022 ${n.split("~")[1]} / ${n.split("~")[0]}`}];return(0,a.jsx)(l.A,{className:"w-1/2 h-full flex items-center justify-center",children:(0,a.jsx)(r.r,{series:[{data:o,valueFormatter:(e,t)=>`Out of ${i[t.dataIndex].split("~")[0]} ${e.label.split(" ")[0]} Attended ${i[t.dataIndex].split("~")[1]}`,highlightScope:{faded:"global",highlighted:"item"},faded:{innerRadius:30,additionalRadius:-30,color:"gray"}}],colors:["#02b2af","#2e96ff","#2731c8"],height:200})})};var o=s(94496),c=s(11906),d=s(83462),h=s(17392),u=s(26600),f=s(35316),x=s(68167),m=s(42788),p=s(29347),g=s(22983),A=s(77748),j=s(61320),v=s(97516);const $=e=>{let{Guagevalue:t}=e;const[s,r]=(0,n.useState)(0);(0,n.useEffect)((()=>{for(let e=0;e<=t;e++)setTimeout((()=>{r(e)}),15*e)}),[t]);const i=s<=35?"red":s>35&&s<=50?"gold":s>50&&s<=75?"orange":"green",c=s<=35?"Poor":s>35&&s<=50?"Average":s>50&&s<=75?"Good":"Excellent",d=()=>{const{valueAngle:e,outerRadius:t,cx:s,cy:n}=(0,g._Q)();if(null===e)return null;const r=s+t*Math.sin(e),l=n-t*Math.cos(e);return(0,a.jsxs)("g",{children:[(0,a.jsx)("circle",{cx:s,cy:n,r:5,fill:i}),(0,a.jsx)("path",{d:`M ${s} ${n} L ${r} ${l}`,stroke:i,strokeWidth:3})]})};return(0,a.jsxs)(l.A,{className:"w-1/2 relative h-64 mb-5 flex flex-col items-center",children:[(0,a.jsxs)(A.r,{width:250,height:250,startAngle:-110,endAngle:110,value:s,children:[(0,a.jsx)(j.z,{}),(0,a.jsx)(v.D,{}),(0,a.jsx)(d,{})]}),(0,a.jsx)(l.A,{className:"absolute bottom-14 left-0 w-full",children:(0,a.jsx)(o.A,{variant:"h5",className:"text-center w-full",sx:{fontWeight:"bold",color:`${i}`},children:c})}),(0,a.jsxs)(o.A,{variant:"h5",children:["Overall Performance: ",(0,a.jsxs)("strong",{style:{color:`${i}`},children:[s<10?`0${s}`:s,"%"]})]})]})};var y=s(49277),S=s(80774),w=s(90573),b=s(54253),k=s(23054),I=s(88076);const C=e=>{let{batchAttendanceData:t,stdAttendanceData:s,stdId:r,name:g,phone:A,email:j,setIsLoading:v,handleShowSnackbar:C,isUser:N}=e;const{fetchAssignmentResults:T}=(0,n.useContext)(I.e),{sendEmail:E}=(0,n.useContext)(b.V),[P,O]=(0,n.useState)([]),[M,R]=(0,n.useState)([]),[W,z]=(0,n.useState)(!1),D=[],_=[],F=["Class","Mock Test","Interview"],[G,L]=(0,n.useState)(0);F.forEach((e=>{let s=0;Array.isArray(t)&&t.forEach((t=>{t.Attendance_Type===e&&s++})),D.push(s)})),F.forEach((e=>{let t=0;Array.isArray(s)&&s.forEach((s=>{s.Attendance_Type===e&&t++})),_.push(t)}));(0,n.useEffect)((()=>{(async()=>{v(!0);const e=await T(r);if(e&&e.message)C("error",`Failed to get Weekly Test Score. ${e.message}`);else{const t=Array.isArray(e)&&e.filter((e=>e.StudentId===r&&e.Name===`${g}~${A}`)),s=t.reduce(((e,t)=>e+parseInt(t.Score,10)),0);L(s>0&&t.length>0?Math.floor(s/(100*t.length)*100):0)}v(!1)})()}),[]);const V=D[0]+D[1]+D[2],Q=_[0]+_[1]+_[2];let U;U=V>0?Q/V*100:0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.A,{className:"w-full h-[85%] flex flex-col items-center justify-evenly",children:[(0,a.jsxs)(o.A,{variant:"h4",className:"flex items-center",children:[(0,a.jsx)(y.A,{sx:{fontSize:"30px",marginRight:"10px"}})," Student Performance Traker"]}),(0,a.jsxs)(l.A,{className:"w-full h-1/2 flex flex-row",children:[(0,a.jsx)(i,{classes:`${D[0]}~${_[0]}`,mock:`${D[1]}~${_[1]}`,interview:`${D[2]}~${_[2]}`}),(0,a.jsx)(l.A,{className:"w-1/2 h-full flex flex-col items-center justify-center",children:(0,a.jsx)($,{Guagevalue:Math.floor((U+G)/200*100)})})]}),"Student"!==N&&"Placements"!==N.split(" ")[0]&&(0,a.jsxs)(l.A,{className:"flex flex-col items-center justify-around w-full h-1/6",children:[(0,a.jsx)(c.A,{variant:"contained",endIcon:(0,a.jsx)(S.A,{sx:{height:"30px"}}),onClick:()=>z(!0),children:"Send Performance Alert to Student"}),(0,a.jsx)(o.A,{variant:"p",color:"error",children:"Note: By delivering performance reports to students allows them to track their progress and identify areas for improvement."})]})]}),(0,a.jsxs)(d.A,{open:W,sx:{zIndex:"810"},children:[(0,a.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"14%",className:"ml-[43%]"}),(0,a.jsx)(h.A,{sx:{position:"absolute"},className:"top-1 right-1",onClick:()=>{z(!1),O([]),R([])},children:(0,a.jsx)(w.A,{fontSize:"large"})}),(0,a.jsxs)(u.A,{children:["Describe ",(0,a.jsxs)("strong",{children:['"',g,'"']})," Strengths and Improvements"]}),(0,a.jsxs)(f.A,{className:"w-full",children:[(0,a.jsx)(x.A,{sx:{margin:"15px 0"},multiple:!0,freeSolo:!0,value:P,options:k.JS,onChange:(e,t)=>O(t),renderInput:e=>(0,a.jsx)(m.A,{...e,variant:"outlined",label:"Strengths"})}),(0,a.jsx)(x.A,{sx:{margin:"15px 0"},multiple:!0,freeSolo:!0,value:M,options:k.QV,onChange:(e,t)=>R(t),renderInput:e=>(0,a.jsx)(m.A,{...e,variant:"outlined",label:"Areas for Improvement"})})]}),(0,a.jsxs)(p.A,{children:[(0,a.jsx)(c.A,{variant:"outlined",onClick:()=>{z(!1),O([]),R([])},children:"Cancel"}),(0,a.jsx)(c.A,{variant:"contained",onClick:async()=>{if(P.length<=0||M.length<=0)return void C("error","Kindly complete all sections to assist the student in recognizing their strengths and improvement areas.");z(!1),v(!0);const e=Array.isArray(s)&&s.length>0?s.filter((e=>"Assignment"===e.Attendance_Type.split("~")[0])).length:0,t=`\nPerformance Overview:\n\n  \u2022 Out of ${D[0]} Classess Attended ${_[0]}\n  \u2022 Out of ${D[1]} Weekly Tests Attended ${_[1]}\n  \u2022 Out of ${D[2]} Interview Attended ${_[2]}\n  \u2022 Assignments Solved : ${e}\n  \u2022 Weekly Test Score : ${G}\n\nStrengths:\n\n  \u2022 ${P.join(", ")}\n\nAreas for Improvement:\n\n  \u2022 ${M.join(", ")}\n`,n=await E(t,j,"Your Performance Overview Report is Here.",g,"Performance");v(!1),!0===n?C("success","The student performance report has been sent successfully."):C("error","Unfortunately, an error occurred, and the performance report failed to send."),O([]),R([])},children:"Submit"})]})]})]})}}}]);
//# sourceMappingURL=1554.c0ee685a.chunk.js.map