"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[9371],{29371:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var s=a(65043),r=a(83462),i=a(26600),n=a(17392),o=a(35316),l=a(94516),c=a(53193),d=a(72221),u=a(32143),p=a(12110),m=a(94496),h=a(36591),f=a(90573),g=a(66734),x=a(70579);const v=(0,g.A)((0,x.jsx)("path",{d:"M7.38 21.01c.49.49 1.28.49 1.77 0l8.31-8.31c.39-.39.39-1.02 0-1.41L9.15 2.98c-.49-.49-1.28-.49-1.77 0s-.49 1.28 0 1.77L14.62 12l-7.25 7.25c-.48.48-.48 1.28.01 1.76"}),"ArrowForwardIosRounded"),y=(0,g.A)((0,x.jsx)("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82"}),"PlayArrowRounded"),A=(0,g.A)((0,x.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.5 14.67V9.33c0-.79.88-1.27 1.54-.84l4.15 2.67c.61.39.61 1.29 0 1.68l-4.15 2.67c-.66.43-1.54-.05-1.54-.84"}),"PlayCircleRounded");var b=a(4350),w=a(88076),j=a(9971);const S=e=>{let{isOpen:t,setIsOpen:a,JoiningDate:g,course:S,batchName:C,handleShowSnackbar:I,stdId:M,name:$,phone:N,isUser:k,setIsLoading:T}=e;const{fetchRecordings:L}=(0,s.useContext)(b.s),{fetchStudentWatchTimeData:D,postStudentWatchTimeData:R,patchStudentWatchTimeData:V}=(0,s.useContext)(w.e),[O,W]=(0,s.useState)([]),[B,E]=(0,s.useState)(null),[_,z]=(0,s.useState)(""),[P,G]=(0,s.useState)(null),[F,U]=(0,s.useState)(null),[X,H]=(0,s.useState)(0),[J,K]=(0,s.useState)(0),[Y,q]=(0,s.useState)(!1);(0,s.useEffect)((()=>{P&&U(P.Vedio_URL.split(" ")[0])}),[P]),(0,s.useEffect)((()=>{(0,s.startTransition)((()=>{(async()=>{const e=await L(S,null);if(e&&e.message)I("error",e.message);else if(e){if(Array.isArray(e)&&0===e.length)return void I("error","No data found.");if(Array.isArray(e)&&e.length>0){const t=e.filter((e=>`${e.Date.split("-")[1]} ${e.Date.split("-")[2]}`===_&&e.BatchName===C));E(t)}else E(null)}})(),(!B||Array.isArray(B)&&B.length>0)&&(G(null),U(null))}))}),[_]);const Q=async()=>{if("Student"===k){const e=localStorage.getItem("Student_WatchTime");if(e){if(Math.floor(parseInt(e.split("~")[1])/60)<1)return;const t=await D(M);if(!t||t.message||t.response)return!1;const a=Array.isArray(t)&&t.find((t=>t.Course===S&&t.BatchName===C&&t.Name===`${$}~${N}`&&t.Date===e.split("~")[0]));if(a){a.WatchTime=(parseInt(a.WatchTime)||0)+parseInt(e.split("~")[1]);await V(a)&&localStorage.removeItem("Student_WatchTime")}else{const t={StudentId:M,Name:`${$}~${N}`,Course:S,BatchName:C,Date:e.split("~")[0],WatchTime:e.split("~")[1]};await R(t)&&localStorage.removeItem("Student_WatchTime")}}}};(0,s.useEffect)((()=>{(e=>{const[t,a]=e.split("-"),s=new Date(`${t} 1, ${a}`),r=new Date,i=[];let n=0;for(let o=s;o<=r&&n<8;o.setMonth(o.getMonth()+1))i.push(o.toLocaleDateString("en-US",{year:"numeric",month:"short"})),n++;W(i),z(i[i.length-1])})(g)}),[]),(0,s.useEffect)((()=>{Y&&setTimeout((()=>{H((e=>e+1));let e=localStorage.getItem("Student_WatchTime")||"",t=0;if(e){const a=e.split("~");a[1]&&(t=parseInt(a[1])||0)}t+=1,localStorage.setItem("Student_WatchTime",`${(0,j.c)().split(" ")[0]}~${t}`)}),1e3)}),[X,Y]),(0,s.useEffect)((()=>{const e=async e=>{e.preventDefault(),await Q(),e.returnValue=""};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[X]);return(0,x.jsxs)(r.A,{open:t,sx:{zIndex:"700"},fullScreen:!0,children:[(0,x.jsxs)(i.A,{className:"flex items-start justify-between h-20",sx:{padding:"0"},children:[(0,x.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"8%",className:"ml-[46%]"}),(0,x.jsx)(n.A,{onClick:async()=>{T(!0),await Q(),T(!1),a(!1)},sx:{marginRight:"10px"},children:(0,x.jsx)(f.A,{sx:{fontSize:"35px"}})})]}),(0,x.jsxs)(o.A,{className:"h-full flex items-center justify-start",sx:{padding:"30px 50px"},children:[(0,x.jsxs)(l.A,{className:"w-[40%] h-full flex flex-col items-center justify-start rounded-md",children:[(0,x.jsx)(c.A,{className:"w-full h-20",children:(0,x.jsx)(d.A,{value:_,onChange:e=>{z(e.target.value),q(!1)},children:O&&O.map((e=>(0,x.jsx)(u.A,{value:e,children:e})))})}),(0,x.jsx)(l.A,{className:"w-full h-full border-[1px] border-gray-300 rounded-md flex flex-col items-center justify-start overflow-y-auto",sx:{scrollbarWidth:"thin"},children:Array.isArray(B)&&B.map(((e,t)=>(0,x.jsxs)(p.A,{className:"w-full h-16 min-h-16 flex items-center justify-between pl-3 mt-1 mb-1\n                    cursor-pointer "+(P===e?"border-2 border-blue-400":" border-[1px] border-gray-200 "),sx:{transition:"0.3s ease-in-out",background:P===e&&"#eff6ff"},children:[(0,x.jsxs)(l.A,{className:"w-[80%] h-full flex items-start flex-col justify-center",onClick:()=>{G(e),q(!1)},children:[(0,x.jsx)(m.A,{children:e.Date}),(0,x.jsx)(m.A,{variant:"h6",children:e.Title})]},t),(0,x.jsx)(v,{color:"disabled"})]})))})]}),(0,x.jsxs)(l.A,{className:"ml-20 h-[40rem] w-full flex items-start justify-start flex-col pl-5 pt-5",children:[(0,x.jsxs)(m.A,{variant:"h4",children:[S," - ",C]}),(0,x.jsx)(m.A,{variant:"h5",sx:{margin:"25px 0"},children:P?`${P.Title} : ${P.Date}`:"Select a Vedio"}),(0,x.jsx)(p.A,{className:"h-[55%] w-[69%] flex items-center justify-center",children:P?(0,x.jsx)(h.A,{component:"video",onPlaying:()=>{q(!0)},onPause:()=>q(!1),onEnded:()=>q(!1),onWaiting:()=>q(!1),controls:!0,controlsList:"nodownload",src:F||P.Vedio_URL.split(" ")[0],onContextMenu:e=>e.preventDefault(),sx:{width:"100%",height:"100%"},children:"Your browser does not support the video tag."}):(0,x.jsx)(h.A,{children:(0,x.jsxs)(l.A,{className:"flex flex-col w-full h-full items-center justify-center",children:[(0,x.jsx)(y,{sx:{fontSize:"100px"},color:"disabled"}),(0,x.jsx)(m.A,{variant:"h5",children:"No Vedio Selected"})]})})}),(0,x.jsx)(l.A,{className:"h-28 w-full mt-5 flex items-center justify-start",children:P&&P.Vedio_URL.split(" ").map((e=>(0,x.jsx)(p.A,{className:"w-1/5 h-[80%] flex items-center justify-center mr-10",sx:{bgcolor:"black"},children:(0,x.jsx)(n.A,{onClick:()=>{U(e),q(Y&&e===F)},children:(0,x.jsx)(A,{sx:{fontSize:"50px",color:e===F?"#1976d2":"grey"}})})})))})]})]})]})}},36591:(e,t,a)=>{a.d(t,{A:()=>f});var s=a(65043),r=a(58387),i=a(98610),n=a(34535),o=a(28249),l=a(92532),c=a(72372);function d(e){return(0,c.Ay)("MuiCardMedia",e)}(0,l.A)("MuiCardMedia",["root","media","img"]);var u=a(70579);const p=(0,n.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e,{isMediaComponent:s,isImageComponent:r}=a;return[t.root,s&&t.media,r&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),m=["video","audio","picture","iframe","img"],h=["picture","img"],f=s.forwardRef((function(e,t){const a=(0,o.b)({props:e,name:"MuiCardMedia"}),{children:s,className:n,component:l="div",image:c,src:f,style:g,...x}=a,v=m.includes(l),y=!v&&c?{backgroundImage:`url("${c}")`,...g}:g,A={...a,component:l,isMediaComponent:v,isImageComponent:h.includes(l)},b=(e=>{const{classes:t,isMediaComponent:a,isImageComponent:s}=e,r={root:["root",a&&"media",s&&"img"]};return(0,i.A)(r,d,t)})(A);return(0,u.jsx)(p,{className:(0,r.A)(b.root,n),as:l,role:!v&&c?"img":void 0,ref:t,style:y,ownerState:A,src:v?c||f:void 0,...x,children:s})}))},5658:(e,t,a)=>{a.d(t,{A:()=>n,K:()=>i});var s=a(92532),r=a(72372);function i(e){return(0,r.Ay)("MuiDivider",e)}const n=(0,s.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},71424:(e,t,a)=>{a.d(t,{A:()=>n,f:()=>i});var s=a(92532),r=a(72372);function i(e){return(0,r.Ay)("MuiListItemIcon",e)}const n=(0,s.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},28052:(e,t,a)=>{a.d(t,{A:()=>n,b:()=>i});var s=a(92532),r=a(72372);function i(e){return(0,r.Ay)("MuiListItemText",e)}const n=(0,s.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},32143:(e,t,a)=>{a.d(t,{A:()=>S});var s=a(65043),r=a(58387),i=a(98610),n=a(55500),o=a(61475),l=a(34535),c=a(66870),d=a(28249),u=a(51347),p=a(64551),m=a(55013),h=a(95849),f=a(5658),g=a(71424),x=a(28052),v=a(92532),y=a(72372);function A(e){return(0,y.Ay)("MuiMenuItem",e)}const b=(0,v.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var w=a(70579);const j=(0,l.Ay)(p.A,{shouldForwardProp:e=>(0,o.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((0,c.A)((e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,n.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${b.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,n.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${b.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,n.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,n.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${b.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${b.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${f.A.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${f.A.inset}`]:{marginLeft:52},[`& .${x.A.root}`]:{marginTop:0,marginBottom:0},[`& .${x.A.inset}`]:{paddingLeft:36},[`& .${g.A.root}`]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${g.A.root} svg`]:{fontSize:"1.25rem"}}}]}}))),S=s.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:n=!1,component:o="li",dense:l=!1,divider:c=!1,disableGutters:p=!1,focusVisibleClassName:f,role:g="menuitem",tabIndex:x,className:v,...y}=a,b=s.useContext(u.A),S=s.useMemo((()=>({dense:l||b.dense||!1,disableGutters:p})),[b.dense,l,p]),C=s.useRef(null);(0,m.A)((()=>{n&&C.current&&C.current.focus()}),[n]);const I={...a,dense:S.dense,divider:c,disableGutters:p},M=(e=>{const{disabled:t,dense:a,divider:s,disableGutters:r,selected:n,classes:o}=e,l={root:["root",a&&"dense",t&&"disabled",!r&&"gutters",s&&"divider",n&&"selected"]},c=(0,i.A)(l,A,o);return{...o,...c}})(a),$=(0,h.A)(C,t);let N;return a.disabled||(N=void 0!==x?x:-1),(0,w.jsx)(u.A.Provider,{value:S,children:(0,w.jsx)(j,{ref:$,role:g,tabIndex:N,component:o,focusVisibleClassName:(0,r.A)(M.focusVisible,f),className:(0,r.A)(M.root,v),...y,ownerState:I,classes:M})})}))}}]);
//# sourceMappingURL=9371.4377e7cb.chunk.js.map