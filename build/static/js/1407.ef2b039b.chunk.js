"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[1407],{63788:(e,s,t)=>{t.r(s),t.d(s,{default:()=>O,getMonthsDifference:()=>E});var r=t(65043),a=t(83462),n=t(94496),l=t(17392),i=t(26600),o=t(94516),c=t(53193),d=t(79190),u=t(72221),m=t(32143),h=t(11906),x=t(95609),g=t(24056),f=t(35316),A=t(77739),j=t(12110),y=t(98533),p=t(29347),b=t(41407),S=t(90573),w=t(93544),v=t(28201),N=t(4350),k=t(88076),I=t(46262),D=t(7337),C=t(17856),$=t(3029),W=t(13157),L=t(77997),F=t(45456),T=t(43036),z=t(9971),M=t(23054),P=t(70579);const B=e=>{let{stdId:s,name:t,image:c,phone:d,course:u,batchName:m,handleShowSnackbar:A,setIsLoading:b,setSolveAssesments:w,setSolveAssessmentData:v,liveWeeklyData:N,pastWeeklyData:B,isUser:R,setTab_Value:q}=e;const{getStudentAttendanceById:Y,fetchAssignmentResults:E,fetchAssignmentRequests:O,postAssignmentRequests:V,patchAssignmentResults:Q,postAssignmentResults:_}=(0,r.useContext)(k.e),[J,U]=(0,r.useState)(0),[G,K]=(0,r.useState)(!1),[H,X]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(10),[se,te]=(0,r.useState)(!1),re=(0,r.useRef)([]),[ae,ne]=(0,r.useState)({hours:0,minutes:0,seconds:0}),[le,ie]=(0,r.useState)({}),[oe,ce]=(0,r.useState)(!1),[de,ue]=(0,r.useState)(!1),me=async()=>{b(!0);const e=await E(s);if(e&&e.message)return e.response&&404===e.response.status?ie({Status:"Start"}):A("error",`Something went wrong. Please try again later. ${e.message}`),!1;if(Array.isArray(e)&&e.length>0){re.current=Array.isArray(e)&&e.filter((e=>e.StudentId===s&&e.Name===`${t}~${d}`&&e.Course===u&&e.BatchName===m));const r=Array.isArray(e)&&e.find((e=>e.StudentId===s&&e.Name===`${t}~${d}`&&e.Course===u&&e.BatchName===m&&e.Date===(0,z.c)().split(" ")[0]));return ie(r||{Status:"Start"}),r||null}if(Array.isArray(e)&&0===e.length)return ie({Status:"Start"}),null;b(!1)},he=async()=>{const e=await O(s);if(e&&e.message)(!e.response||404!==e.response.status)&&A("error","Falied to get request data. Please try again later.");else if(e){if(Array.isArray(e)&&0===e.length)return;Array.isArray(e)&&e.find((e=>e.StudentId===s&&e.Name===`${t}~${d}`&&e.Course===u&&e.BatchName===m&&e.Date===(0,z.c)().split(" ")[0]))&&ce(!0)}};(0,r.useEffect)((()=>{(async()=>{b(!0);const e=await Y(s);if(e&&e.message)A("error",`Something went wrong. Please try again later. ${e.message}`);else{const r=Array.isArray(e)&&e.find((e=>e.StudentId===s&&e.Name===`${t}~${d}`&&e.Course===u&&e.BatchName===m&&"Mock Test"===e.Attendance_Type&&e.Date===(0,z.c)().split(" ")[0]));te(r)}b(!1)})(),me(),he()}),[]);const xe=B.reduce(((e,s)=>{const t=s.WeeklyAssignment.split(" ")[0];return e[t]||(e[t]=[]),e[t].push(s),e}),{}),ge=Object.values(xe);(0,r.useEffect)((()=>{let e;return G&&H&&(e=setTimeout((()=>{ee((e=>e-1))}),1e3)),0===Z&&(X(!1),ee(10)),()=>clearTimeout(e)}),[Z,H]);const fe=()=>{if(Array.isArray(N)&&N.length>0){const e=new Date(N[0].WeeklyAssignment);return new Date-e>=36e5}return""};(0,r.useEffect)((()=>{if(!(Array.isArray(N)&&N.length>0))return;const e=new Date(N[0].WeeklyAssignment).getTime(),s=()=>{const s=(new Date).getTime(),r=e-s;if(0===r)ne({hours:0,minutes:0,seconds:0}),clearInterval(t);else if(r>0){const e=Math.floor(r%864e5/36e5),s=Math.floor(r%36e5/6e4),t=Math.floor(r%6e4/1e3);ae.hours===e&&ae.minutes===s&&ae.seconds===t||ne({hours:e,minutes:s,seconds:t})}},t=setInterval(s,1e3);return s(),()=>clearInterval(t)}),[N,ae]);const Ae=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(!("Student"===R&&!e)||await je())&&(sessionStorage.setItem("Weekly Assignment",e?"Past":"True"),v(e||N),w(!0),K(!1),e||q(0),b(!1))},je=async()=>{const e=await me();if(!1===e)return;const r={StudentId:s,Image:c,Name:`${t}~${d}`,Course:u,BatchName:m,Date:(0,z.c)().split(" ")[0],Status:"Progress"};e&&(e.Status="Progress");return!0===(e?await Q(e):await _(r))||(A("error","Something went wrong. Please try again later."),!1)},ye=e=>{const s=re.current.find((s=>s.Date===e.split(" ")[0]));return s?s.Status:null};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(o.A,{className:"relative w-full h-full border-2 rounded-lg flex flex-col items-center justify-start",children:[(0,P.jsxs)(x.A,{value:J,children:[(0,P.jsx)(g.A,{label:"Live Assigments",onClick:()=>U(0),sx:{fontWeight:0===J?"bold":"normal"}}),(0,P.jsx)(g.A,{label:"Past Assigments",onClick:()=>U(1),sx:{fontWeight:1===J?"bold":"normal"}})]}),0===J?Array.isArray(N)&&N.length>0?0===ae.hours&&0===ae.minutes&&0===ae.seconds?se?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(o.A,{className:`${le&&"Start"===le.Status&&!fe()||le&&"Progress"===le.Status?"bg-slate-100":le&&"Solved"===le.Status?"bg-green-100":"bg-red-100"} w-1/2 h-52 rounded-lg mt-32 border-2 border-dashed ${le&&"Start"===le.Status&&!fe()||le&&"Progress"===le.Status?"border-slate-400":le&&"Solved"===le.Status?"border-green-700":"border-red-700"} flex flex-col items-center justify-center`,children:[fe()?(0,P.jsx)(n.A,{variant:"h5",sx:{fontFamily:"monospace"},children:"Your Weekly Test has been Completed."}):(0,P.jsxs)(n.A,{variant:"h5",sx:{fontFamily:"monospace"},children:["Your Weekly Test is Live ",(0,P.jsx)(I.A,{fontSize:"small",color:"success"})]}),(0,P.jsx)(n.A,{sx:{fontFamily:"unset",margin:"20px 0"},variant:"h5",children:(0,z.c)().split(" ")[0]}),le&&"Solved"===le.Status?(0,P.jsx)(h.A,{startIcon:(0,P.jsx)(D.A,{}),color:"success",variant:"contained",sx:{width:"40%"},children:"Solved"}):le&&"Start"===le.Status&&!fe()?(0,P.jsx)(h.A,{endIcon:(0,P.jsx)(C.A,{}),variant:"contained",sx:{width:"40%"},onClick:()=>{K(!0),X(!0),ee(10)},children:"Solve Now"}):le&&"Progress"===le.Status&&!fe()?(0,P.jsx)(h.A,{endIcon:(0,P.jsx)($.A,{}),variant:"contained",onClick:()=>ue(!0),children:"In Progress"}):(0,P.jsx)(h.A,{startIcon:(0,P.jsx)(S.A,{}),color:"error",variant:"contained",children:"Disqualified"})]}),le&&("Solved"===le.Status||"Disqualified"===le.Status)&&(0,P.jsxs)(n.A,{variant:"h5",sx:{margin:"25px 0"},children:["Your Score: ",le&&"Solved"===le.Status?le.Score:"0"]})]}):(0,P.jsxs)(o.A,{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,P.jsx)(W.A,{sx:{fontSize:"120px",marginBottom:"25px"},color:"error"}),(0,P.jsxs)(n.A,{className:"text-start w-[75%]",variant:"h6",sx:{fontFamily:"monospace"},children:["Dear ",t,",",(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),"We noticed that you did not participate in the recent assignment.",(0,P.jsx)("br",{}),"Completing assignments is crucial for your understanding and improvement in the subject.",(0,P.jsx)("br",{}),"If you faced any challenges or have questions, please reach out so we can assist you.",(0,P.jsx)("br",{}),"Your engagement is important, and we encourage you to stay on track with your studies.",(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),"Please note that consistent attendance and participation are essential, as a lack of engagement can lead to a decrease in performance. These factors are vital for your overall academic success and are also important for placement purposes."]})]}):(0,P.jsxs)(o.A,{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,P.jsx)(L.A,{sx:{fontSize:"120px"},color:"primary"}),(0,P.jsx)(n.A,{variant:"h4",sx:{fontFamily:"monospace",margin:"30px 0"},children:"Your Assigment will be live in"}),(0,P.jsxs)(o.A,{className:"h-20 w-1/5 flex items-center justify-between",children:[(0,P.jsx)(o.A,{className:"w-[25%] h-full border-2 border-slate-300 rounded-lg flex items-center justify-center",children:(0,P.jsx)(n.A,{variant:"h4",children:ae.hours.toString().padStart(2,"0")})}),(0,P.jsx)(n.A,{variant:"h4",children:":"}),(0,P.jsx)(o.A,{className:"w-[25%] h-full border-2 border-slate-300 rounded-lg flex items-center justify-center",children:(0,P.jsx)(n.A,{variant:"h4",children:ae.minutes.toString().padStart(2,"0")})}),(0,P.jsx)(n.A,{variant:"h4",children:":"}),(0,P.jsx)(o.A,{className:"w-[25%] h-full border-2 border-slate-300 rounded-lg flex items-center justify-center",children:(0,P.jsx)(n.A,{variant:"h4",children:ae.seconds.toString().padStart(2,"0")})})]}),(0,P.jsx)(h.A,{sx:{marginTop:"30px"},variant:"contained",onClick:()=>Ae(!1),children:"Check Assignment"})]}):(0,P.jsxs)(o.A,{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,P.jsx)(F.A,{sx:{fontSize:"150px",marginBottom:"20px"},color:"action"}),(0,P.jsx)(n.A,{variant:"h4",color:"grey",children:"No Live Assigments Found."})]}):Array.isArray(B)&&B.length>0?(0,P.jsx)(o.A,{className:"w-full h-full overflow-auto grid grid-cols-2 gap-5 place-content-start mt-3 pl-3 pb-3 pr-3",sx:{scrollbarWidth:"thin"},children:Array.isArray(ge)&&ge.map(((e,s)=>(0,P.jsxs)(j.A,{className:"w-full h-20 flex items-center justify-between pl-5 pr-3 mt-1 border-[1px] border-slate-200",children:[(0,P.jsx)(T.A,{fontSize:"large",sx:{color:M.vG[s<20?s:Math.floor(20*Math.random())]}}),(0,P.jsxs)(n.A,{sx:{fontFamily:"monospace"},className:"w-[60%] text-start",variant:"h5",children:["Weekly Assigment ",(0,P.jsx)("br",{}),e[0].WeeklyAssignment]}),(0,P.jsx)(h.A,{endIcon:(0,P.jsx)(C.A,{}),variant:"contained",color:"Solved"===ye(e[0].WeeklyAssignment)?"success":null===ye(e[0].WeeklyAssignment)?"primary":"error",onClick:()=>Ae(e),children:"View Assigment"})]},s)))}):(0,P.jsxs)(o.A,{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,P.jsx)(F.A,{sx:{fontSize:"150px",marginBottom:"20px"},color:"action"}),(0,P.jsx)(n.A,{variant:"h4",color:"grey",children:"No Past Assigments Found."})]})]}),(0,P.jsxs)(a.A,{open:G,sx:{zIndex:"710"},maxWidth:"lg",onClose:()=>{K(!1),X(!1)},children:[(0,P.jsx)("img",{src:"/images/V-Cube-Logo.png",width:"12%",className:"ml-[44%]",alt:""}),(0,P.jsx)(l.A,{sx:{position:"absolute"},className:"top-1 right-1",onClick:()=>{K(!1),X(!1)},children:(0,P.jsx)(S.A,{fontSize:"large"})}),(0,P.jsxs)(i.A,{className:"text-center",children:["This assignment is an opportunity to enhance your skills and knowledge.",(0,P.jsx)("br",{}),"Approach it with integrity and commitment!"]}),(0,P.jsxs)(f.A,{children:[(0,P.jsx)(n.A,{variant:"h5",className:"w-full text-center",sx:{margin:"15px 0"},children:"You have 1 hour to complete the assignment"}),(0,P.jsxs)(y.A,{children:["\u2022 Solve the assignment in full-screen mode.",(0,P.jsx)("br",{}),"\u2022 if you exit full-screen mode, you will not be allowed to re-enter the assignment and will be disqualified.",(0,P.jsx)("br",{}),"\u2022 Do not reload the page. Reloading will reset your progress and you will have to start from the beginning.",(0,P.jsx)("br",{}),"\u2022 Complete the assignment without cheating for your personal growth.",(0,P.jsx)("br",{}),"\u2022 Allocate enough time to complete the assignment thoroughly.",(0,P.jsx)("br",{}),"\u2022 Ask any questions or seek clarification before starting.",(0,P.jsx)("br",{}),"\u2022 Check your answers for mistakes before submitting.",(0,P.jsx)("br",{}),"\u2022 Follow the provided submission guidelines and meet the deadline.",(0,P.jsx)("br",{})]})]}),(0,P.jsx)(p.A,{children:H?(0,P.jsxs)(h.A,{variant:"outlined",color:"info",children:["Continue in ",Z<10?`0${Z}`:Z]}):(0,P.jsx)(h.A,{variant:"outlined",color:"warning",sx:{width:"100%",marginBottom:"10px"},onClick:()=>Ae(!1),children:"I have gone through the instructions and am ready to solving the assignment."})})]}),(0,P.jsxs)(a.A,{open:de,sx:{zIndex:"710"},onClose:()=>ue(!1),children:[(0,P.jsx)("img",{src:"/images/V-Cube-Logo.png",width:"16%",className:"ml-[42%]"}),(0,P.jsx)(i.A,{variant:"h5",children:"Request for Re-entry."}),(0,P.jsx)(f.A,{children:(0,P.jsxs)(y.A,{children:["We noticed that you exited the assignment unexpectedly.",(0,P.jsx)("br",{}),"To ensure you can access it again, please ask your coordinator to approve your request for re-entry."]})}),(0,P.jsx)(p.A,{children:oe?(0,P.jsx)(h.A,{variant:"contained",color:"success",children:"Request Raised"}):(0,P.jsx)(h.A,{variant:"contained",onClick:async()=>{const e={StudentId:s,Name:`${t}~${d}`,Course:u,BatchName:m,Date:(0,z.c)().split(" ")[0]},r=await V(e);!0===r?(A("success","A request has been raised on your behalf. Kindly reach out to your coordinator for approval."),he()):A("error",`Something went wrong. Please try again later. ${r.message}`)},children:"Raise a Request"})})]})]})};var R=t(39336),q=t(4247);const Y=e=>{let{stdId:s,name:t,phone:a,course:l,batchName:i,nearestDate:h,handleShowSnackbar:x,setIsLoading:g,liveWeeklyDataDate:f}=e;const{fetchAssignmentResults:A}=(0,r.useContext)(k.e),[j,y]=(0,r.useState)([]),[p,b]=(0,r.useState)([]),[S,v]=(0,r.useState)(!1),[N,I]=(0,r.useState)(null),[D,C]=(0,r.useState)(h),[$,W]=(0,r.useState)([]),L=e=>e.sort(((e,s)=>s.Score!==e.Score?s.Score-e.Score:e.Time-s.Time));(0,r.useEffect)((()=>{(async()=>{g(!0);const e=await A();if(e&&e.message)x("error","Failed to get data. Please try again later.");else{const r=Array.isArray(e)?[...new Set(e.map((e=>e.Date)))]:null;f&&!F()&&r.push(h),r&&W(r);const n=Array.isArray(e)&&e.filter((e=>e.Course===l&&e.BatchName===i&&e.Date===D)),o=L(n),c=o.splice(0,3);y(c);const d=!!c&&c.some((e=>e.StudentId===s&&e.Name===`${t}~${a}`));v(d),I(d?null:o.find((e=>e.StudentId===s&&e.Name===`${t}~${a}`))),b(o)}g(!1)})()}),[D]);const F=()=>{if(f){const e=new Date(f);return new Date-e>=72e5}return""};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(c.A,{sx:{position:"absolute"},className:"top-48 right-10 w-1/5",children:[(0,P.jsx)(d.A,{className:"bg-white w-1/3 text-center rounded-md",children:"Select Date"}),(0,P.jsx)(u.A,{value:D,onChange:e=>C(e.target.value),children:$.map(((e,s)=>(0,P.jsx)(m.A,{value:e,children:e},s)))})]}),Array.isArray(p)&&Array.isArray(j)&&p.length>0&&j.length>0?(0,P.jsxs)(o.A,{className:"w-full h-full border-2 rounded-lg flex flex-col items-center justify-start",children:[(0,P.jsx)(o.A,{className:"flex items-end justify-evenly w-[40%] h-[50%]",children:Array.isArray(j)&&j.length>0?[16,32,24].map(((e,s)=>(0,P.jsxs)(o.A,{className:`relative w-16 h-${e} ${0===s?"bg-[#d5d5d5]":1===s?"bg-[#ffdc69]":"bg-[#ffd1b8]"} rounded-md pt-3`,children:[(0,P.jsxs)(o.A,{className:"absolute w-full h-28 -top-28 flex flex-col items-center justify-evenly",children:[1===s&&(0,P.jsx)("img",{src:"/images/crown.png",width:"50px",alt:"",className:"absolute -top-9"}),(0,P.jsx)("img",{src:j[0===s?2:s-1].Image,alt:"",width:"50px",className:"h-[50px] rounded-full object-contain border-[1px] border-slate-300"}),(0,P.jsx)(n.A,{variant:"span",sx:{fontSize:"12px"},className:"w-56 text-center",children:j[0===s?2:s-1].Name.split("~")[0]}),(0,P.jsxs)(n.A,{className:"flex items-center",children:[(0,P.jsx)(q.A,{sx:{color:"#f6af39"}})," ",j[0===s?2:s-1].Score]})]}),(0,P.jsx)(n.A,{color:"white",variant:"h5",className:"w-full text-center",children:0===s?3:s})]},s))):(0,P.jsx)(P.Fragment,{})}),(0,P.jsxs)(o.A,{className:"w-1/3 h-[55%] border-2 mt-2 mb-1 rounded-md overflow-hidden",children:[(0,P.jsx)(o.A,{className:"w-full h-[8%] flex items-center justify-between",children:[15,70,15].map(((e,s)=>(0,P.jsx)(n.A,{className:`w-[${e}%] h-full flex items-center' ${1===s?"justify-start pl-14":"justify-center"}`,sx:{fontWeight:"bold"},children:0===s?"Rank":1===s?"Name":"Score"},s)))}),(0,P.jsx)(R.A,{}),(0,P.jsx)(o.A,{className:"w-full overflow-auto",sx:{height:S?"90%":"78%",scrollbarWidth:"none"},children:Array.isArray(p)&&p.length>0?p.map(((e,r)=>p.findIndex((e=>e.StudentId===s&&e.Name===`${t}~${a}`))!==r&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(o.A,{className:`w-full h-[${S?"15%":"17%"}] flex items-center justify-between`,children:[(0,P.jsx)(n.A,{className:"w-[15%] h-full flex items-center justify-center",children:r+4}),(0,P.jsxs)(n.A,{className:"w-[70%] h-full text-start flex items-center pl-2",children:[(0,P.jsx)("img",{src:e.Image,alt:"",width:"30px",className:"h-[30px] mr-5 rounded-full object-contain border-[1px] border-slate-300"}),(0,P.jsx)(n.A,{variant:"span",children:e.Name.split("~")[0]})]}),(0,P.jsx)(n.A,{className:"w-[15%] h-full flex items-center justify-center",children:e.Score})]}),(0,P.jsx)(R.A,{})]}))):(0,P.jsx)(P.Fragment,{})}),!S&&null!==N&&N?(0,P.jsx)(o.A,{className:"w-full h-[14%]",children:(0,P.jsxs)(o.A,{className:"w-full h-full flex items-center justify-between bg-[#1976d2] text-white",children:[(0,P.jsx)(n.A,{className:"w-[15%] text-center",children:Array.isArray(p)&&p.length>0?p.findIndex((e=>e.StudentId===s&&e.Name===`${t}~${a}`))+4:void 0}),(0,P.jsxs)(n.A,{className:"w-[70%] text-start flex items-center pl-2",children:[(0,P.jsx)("img",{src:N.Image,alt:"",width:"30px",className:"h-[30px] mr-5 bg-white rounded-full object-contain border-[1px] border-slate-300"}),(0,P.jsx)(n.A,{variant:"span",children:N.Name&&N.Name.split("~")[0]})]}),(0,P.jsx)(n.A,{className:"w-[15%] text-center",children:N.Score})]})}):(0,P.jsx)(P.Fragment,{})]})]}):(0,P.jsx)(o.A,{className:"w-full h-full border-2 rounded-lg flex flex-col items-center justify-center",children:f&&f.split(" ")[0]===D&&!F()?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("img",{src:"/images/hourGlass.gif",alt:"",width:"25%"}),(0,P.jsxs)(n.A,{color:"grey",variant:"h6",className:"text-center",children:["Stay tuned for your Leaderboard results,",(0,P.jsx)("br",{}),"which will be available shortly after you complete your assignment!"]})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(w.A,{sx:{fontSize:"150px",marginBottom:"30px"},color:"action"}),(0,P.jsxs)(n.A,{color:"grey",variant:"h6",className:"text-center",children:["No results found for the selected date.",(0,P.jsx)("br",{}),"Try a different date or check back later!"]})]})})]})},E=e=>{const s=new Date,t=new Date(e),r=new Date(s);let a=12*(r.getFullYear()-t.getFullYear())+(r.getMonth()-t.getMonth());return r.getDate()<t.getDate()&&a--,a+1},O=e=>{let{isOpen:s,setIsOpen:t,image:I,name:D,phone:C,course:$,batchName:W,handleShowSnackbar:L,setIsLoading:F,setSolveAssesments:T,setSolveAssessmentData:M,stdId:R,JoiningDate:q,isUser:O,configs:V}=e;const{fetchAssessmentQuestions:Q}=(0,r.useContext)(N.s),{getStudentAttendanceById:_}=(0,r.useContext)(k.e),[J,U]=(0,r.useState)(null),[G,K]=(0,r.useState)(null),[H,X]=(0,r.useState)(0),[Z,ee]=(0,r.useState)(null),[se,te]=(0,r.useState)(!1),[re,ae]=(0,r.useState)(0),[ne,le]=(0,r.useState)([]),[ie,oe]=(0,r.useState)(!1),[ce,de]=(0,r.useState)(null),ue=async e=>{F(!0);const s=await _(R);if(F(!1),s&&s.message)404!==s.response.status&&L("error",s.message);else if(s){const t=Array.isArray(s)&&s.filter((e=>"Assignment"===e.Attendance_Type.split("~")[0])),r=Array.isArray(t)&&t.filter((s=>Array.isArray(e)&&e.some((e=>s.Attendance_Type.split("~")[1]===`${e.id}`))));K(r),X(Array.isArray(r)?r.length:0)}},me=e=>{const s=new Date;let t=null,r=1/0;if(e.forEach((e=>{const a=new Date(e.WeeklyAssignment),n=Math.abs(a-s);n<r&&(r=n,t=a)})),t){return`${String(t.getDate()).padStart(2,"0")}-${z.U[t.getMonth()]}-${t.getFullYear()}`}return null};(0,r.useEffect)((()=>{(0,r.startTransition)((()=>{(async()=>{F(!0);const e=await Q($);if(F(!1),e&&e.message)L("error",e.message);else if(e){if(Array.isArray(e)&&0===e.length)return void L("error","No data found.");const s=e&&e.filter((e=>e.Course===$&&e.BatchName===W&&"No"!==e.WeeklyAssignment));de(me(s));const t=e&&e.filter((e=>e.Course===$&&JSON.parse(e.Question).Month===Z&&"No"===e.WeeklyAssignment));le(s),U(t),ue(t)}})()}))}),[s,Z]);const he=e=>Array.isArray(G)&&G.some((s=>s.Attendance_Type.split("~")[1]===`${e}`)),xe=()=>{const e=Array.isArray(J)&&J.length>0?H/J.length*100:0;return e>0?e:5},ge=[];for(let r=1;r<=E(q);r++)ge.push(r);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(a.A,{open:s,sx:{zIndex:"700"},fullScreen:!0,children:[(0,P.jsxs)(n.A,{variant:"h5",className:"absolute top-5 left-3",children:["Your Assignments ",(0,P.jsx)(b.A,{sx:{marginLeft:"10px"}})]}),(0,P.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"8%",className:"ml-[46%]"}),(0,P.jsx)(l.A,{sx:{position:"absolute"},className:"top-3 right-3",onClick:()=>t(!1),children:(0,P.jsx)(S.A,{sx:{fontSize:"35px"}})}),(0,P.jsxs)(i.A,{variant:"h5",className:"flex items-center justify-between",children:[(0,P.jsxs)(o.A,{className:"w-1/3 relative overflow-hidden rounded-md border-[1px] border-slate-300",sx:{visibility:0===re?"visible":"hidden"},children:[(0,P.jsxs)(c.A,{className:"w-full outline-none",sx:{zIndex:"100"},children:[(0,P.jsx)(d.A,{sx:{visibility:0!==re||Z?"hidden":"visible"},children:"Select Month"}),(0,P.jsx)(u.A,{value:Z,onChange:e=>ee(e.target.value),children:ge.map((e=>(0,P.jsx)(m.A,{value:`Month ${e}`,children:`Month ${e}`})))})]}),(0,P.jsx)(o.A,{className:`absolute left-0 top-0 h-full w-[${xe()}%] flex items-center justify-end`,sx:{zIndex:"90",background:(()=>{const e=xe();return e<20?"#fee2e2":e<35?"#fef2f2":e<50?"#fff7ed":e<70?"#ffedd5":e<85?"#f0fdf4":"#dcfce7"})()}}),(0,P.jsxs)(n.A,{color:xe()<35?"error":xe()<70?"orange":"green",className:"absolute right-16 top-3 text-center",sx:{fontSize:"12px",zIndex:"100"},children:[H,"/",Array.isArray(J)?J.length:0,(0,P.jsx)("br",{}),"Completed"]})]}),(0,P.jsxs)(h.A,{sx:{display:"flex",flexDirection:"column",marginRight:"100px",visibility:1===re?"visible":"hidden"},variant:ie?"contained":"outlined",onClick:()=>oe(!ie),children:[(0,P.jsx)(w.A,{}),(0,P.jsx)(n.A,{children:"LeaderBoard"})]}),(0,P.jsx)(o.A,{children:(0,P.jsxs)(x.A,{value:re,children:[(0,P.jsx)(g.A,{label:"Daily Assigments",onClick:()=>ae(0)}),(0,P.jsx)(g.A,{label:"Weekly Assigments",onClick:()=>ae(1)})]})})]}),0===re?(0,P.jsx)(f.A,{className:"grid grid-cols-2 place-content-start gap-5",children:Array.isArray(J)&&J.length>0&&J.map(((e,s)=>(0,P.jsx)(A.A,{title:"Student"!==O&&e.id,arrow:!0,children:(0,P.jsxs)(j.A,{className:"w-full h-20 border-[1px] border-gray-200 p-5 flex items-center justify-between",children:[(0,P.jsxs)(n.A,{variant:"h5",className:"flex items-center justify-start",children:[JSON.parse(e.Question).Title,"Yes"===JSON.parse(e.Question).SQL&&(0,P.jsx)("img",{src:"/images/Logo-MySql.png",alt:"",width:"7%",className:"ml-5"})]}),(0,P.jsxs)(o.A,{className:"w-64 flex items-center justify-between",children:[(0,P.jsx)(n.A,{className:`${"Easy"===e.Level?"bg-green-100":"Medium"===e.Level?"bg-orange-100":"bg-red-100"} ${"Easy"===e.Level?"text-green-600":"Medium"===e.Level?"text-orange-600":"text-red-600"} w-[4.50rem] text-center rounded-md`,children:e.Level}),(0,P.jsx)(h.A,{endIcon:!he(e.id)&&(0,P.jsx)(v.A,{}),variant:"contained",onClick:()=>(e=>{"Yes"!==JSON.parse(e.Question).SQL||""!==V&&V?(M(e),T(!0),localStorage.removeItem("Weekly_Assignment"),sessionStorage.removeItem("Weekly Assignment")):te(!0)})(e),sx:{background:he(e.id)?"#dcfce7":"",color:he(e.id)?"#16a34a":"white",":hover":{background:he(e.id)&&"#dcfce7"}},children:he(e.id)?"SOLVED":"SOLVE"})]})]},s)})))}):(0,P.jsx)(f.A,{children:ie?(0,P.jsx)(Y,{stdId:R,name:D,phone:C,nearestDate:ce,course:$,batchName:W,handleShowSnackbar:L,setIsLoading:F,liveWeeklyDataDate:!!Array.isArray(ne)&&ne.filter((e=>"No"!==e.WeeklyAssignment&&e.WeeklyAssignment.split(" ")[0]===(0,z.c)().split(" ")[0])).map((e=>e.WeeklyAssignment))[0]}):(0,P.jsx)(B,{stdId:R,name:D,phone:C,course:$,batchName:W,handleShowSnackbar:L,setIsLoading:F,setSolveAssesments:T,setSolveAssessmentData:M,isUser:O,setTab_Value:ae,image:I,liveWeeklyData:Array.isArray(ne)&&ne.filter((e=>"No"!==e.WeeklyAssignment&&e.WeeklyAssignment.split(" ")[0]===(0,z.c)().split(" ")[0])),pastWeeklyData:Array.isArray(ne)&&ne.filter((e=>e.WeeklyAssignment.split(" ")[0]!==(0,z.c)().split(" ")[0]&&"No"!==e.WeeklyAssignment)).reverse()})})]}),(0,P.jsxs)(a.A,{open:se,sx:{zIndex:"710"},children:[(0,P.jsx)("img",{src:"/images/V-Cube-Logo.png",width:"14%",className:"ml-[43%]"}),(0,P.jsx)(i.A,{variant:"h5",children:"Database Configurations Not Found."}),(0,P.jsx)(f.A,{children:(0,P.jsxs)(y.A,{children:["You need to configure your database settings to complete the assignment. ",(0,P.jsx)("br",{}),"\u2022 Go to your Dashboard. ",(0,P.jsx)("br",{}),"\u2022 Please open your code editor from the menu. ",(0,P.jsx)("br",{}),"\u2022 Select SQL and update the configurations."]})}),(0,P.jsx)(p.A,{children:(0,P.jsx)(h.A,{variant:"contained",onClick:()=>te(!1),children:"OK"})})]})]})}}}]);
//# sourceMappingURL=1407.ef2b039b.chunk.js.map