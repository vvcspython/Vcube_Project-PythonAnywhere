"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[4971],{84971:(e,s,r)=>{r.r(s),r.d(s,{default:()=>w});var t=r(65043),a=r(94516),n=r(94496),o=r(42788),i=r(51787),l=r(17392),c=r(11906),u=r(97136),d=r(14149),h=r(39929),m=r(43559),p=r(3632),f=r(73216),x=r(58383),g=r(26431),A=r(66204),v=r(32514),b=r(81658),j=r(70579);const y=(0,t.lazy)((()=>r.e(7600).then(r.bind(r,37600)))),w=e=>{let{isStudentLogin:s,setStudentLogin:r,setIsLoading:w,setForgotPassword:S,handleShowSnackbar:C,sendEmail:k}=e;const{userGoogleLogin:I,userGoogleLogout:L}=(0,t.useContext)(g.i),{chkUsername:N,fetchDataLength:P,userAuthenticate:U}=(0,t.useContext)(A.K),[z,T]=(0,t.useState)(!1),[M,F]=(0,t.useState)(""),[E,O]=(0,t.useState)(""),[H,V]=(0,t.useState)(!1),[W,$]=(0,t.useState)(!1),{userAuthChk:D,login:B}=(0,x.As)(),G=(0,f.Zp)(),[R,q]=(0,t.useState)(!1),K=(0,t.useCallback)((e=>{O(e.target.value),V(!1)}),[]),Z=(0,t.useCallback)((e=>{F(e.target.value),$(!1),e.target.value.startsWith("Create")&&T(!1)}),[]),_=async()=>{(0,t.startTransition)((async()=>{try{L();const e=await P();if(e&&"Failed to fetch"===e.message)return void C("error","Failed to fetch data.");if(0===e&&"vcube@1234"===M){await k(" ","vvcspython@gmail.com","OTP for to Create Super User",E,"OTP","Admin_01")?(C("success","OTP has been sent to Admin email address. Check spam folder too."),q(!0)):C("error","Network error or Failed to send OTP. Please try again later.")}else await J()}catch(e){C("error","An error occurred.")}finally{w(!1)}}))},J=async()=>{(0,t.startTransition)((async()=>{try{const e=await N(E);if("Found"===e.status){const s=await I(e.email);"success"===s.status&&s.verified?(w(!0),await(async e=>{(0,t.startTransition)((async()=>{try{const s=await U(e,M);if(s&&s.message&&["Network Error","Internal Server Error"].includes(s.message))C("error",s.message),L();else if(s)if(s.response&&404===s.response.status)C("error","User not found."),L();else if(s.response&&401===s.response.status)V(!0),$(!0),C("error","Invalid user details"),L();else if(s.response&&403===s.response.status)C("error","Access Denied. Please contact your Administration."),L();else if("Valid"===s){const e=sessionStorage.getItem("UniqueURL");V(!1),$(!1),w(!0),await D(),B();const s=(0,v.ID)("All");G("Placements"===s.User.split(" ")[0]?`/vcube/placements/dashboard/${e.substring(30,60)}`:`/vcube/dashboard/${e.substring(0,30)}`),C("success",`Login Successful. Welcome back ${s.Username}`),w(!1)}}catch(s){C("error","An error occurred.")}finally{w(!1)}}))})(e.email)):"failed"===s.status?(C("error",s.message),L()):L()}else e&&e.response&&404===e.response.status?C("error","User not found."):e&&e.message&&C("error",e.message)}catch(e){C("error","An error occurred.")}finally{w(!1)}}))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(a.A,{className:`w-full flex flex-col justify-start items-center absolute top-0 ${s?"right-full":"right-0"} duration-[2000ms] ease-in-out`,children:[(0,j.jsxs)(a.A,{className:"w-full h-60 my-5 flex items-center justify-start flex-col",children:[(0,j.jsx)(a.A,{className:"border-2 border-primary rounded-full mb-4 bg-primary",children:(0,j.jsx)(u.A,{sx:{fontSize:"180px",color:"#fff"}})}),(0,j.jsx)(n.A,{variant:"h5",children:"Hello ! Welcome back."}),(0,j.jsx)(n.A,{variant:"p",className:"text-gray-500",children:"Enter your credentials to log in and continue where you left off."})]}),(0,j.jsxs)(a.A,{className:"w-full h-80 flex flex-col justify-center items-center mt-5",children:[(0,j.jsxs)(a.A,{className:"flex justify-center items-start w-96 h-20",children:[(0,j.jsx)(d.A,{className:"mr-2 mt-6",sx:{color:"action.active",fontSize:"30px"}}),(0,j.jsx)(o.A,{error:H,sx:{width:"100%","& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}},className:"w-full",label:"Username or Email",helperText:H?"Invalid Username or Email":"",value:E,onChange:K,variant:"standard"})]}),(0,j.jsxs)(a.A,{className:"flex justify-center items-start w-96 h-20",children:[(0,j.jsx)(h.A,{className:"mr-2 mt-6",sx:{color:"action.active",fontSize:"30px"}}),(0,j.jsx)(o.A,{sx:{width:"100%","& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}},error:W,helperText:W?"Invalid Password":"",label:"Password",type:z?"text":"password",value:M,onChange:Z,InputProps:{endAdornment:(0,j.jsx)(i.A,{position:"end",children:(0,j.jsx)(l.A,{onClick:()=>T(!z),disabled:M.startsWith("Create"),edge:"end",children:z?(0,j.jsx)(m.A,{}):(0,j.jsx)(p.A,{})})})},variant:"standard"})]}),(0,j.jsx)(n.A,{color:"primary",className:"cursor-pointer hover:underline pb-3 select-none",onClick:()=>{r(!s),F(""),O(""),V(!1),$(!1)},children:"Student Login"}),(0,j.jsx)(c.A,{variant:"contained",color:"primary",onClick:async()=>{E&&0!==E.length||V(!0),M&&0!==M.length?($(!1),V(!1),w(!0),await _()):$(!0)},sx:{width:"61%",height:"50px"},children:"Log In"}),(0,j.jsx)(n.A,{color:"primary",className:"cursor-pointer hover:underline pb-3 select-none",onClick:()=>S(!0),sx:{marginTop:"10px",cursor:"pointer"},children:"Forgot Password?"})]})]}),R&&(0,j.jsx)(t.Suspense,{fallback:(0,j.jsx)(b.default,{}),children:(0,j.jsx)(y,{openUserCreate:R,setOpenUserCreate:q,username:E,handleShowSnackbar:C,setIsLoading:w})})]})}},14149:(e,s,r)=>{r.d(s,{A:()=>n});var t=r(66734),a=r(70579);const n=(0,t.A)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},39929:(e,s,r)=>{r.d(s,{A:()=>n});var t=r(66734),a=r(70579);const n=(0,t.A)((0,a.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}),"LockOutlined")},97136:(e,s,r)=>{r.d(s,{A:()=>n});var t=r(66734),a=r(70579);const n=(0,t.A)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4"}),"PersonRounded")}}]);
//# sourceMappingURL=4971.75dfc5eb.chunk.js.map