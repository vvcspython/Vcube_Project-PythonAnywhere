"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[1658],{91658:(e,s,t)=>{t.r(s),t.d(s,{default:()=>B});var r=t(65043),n=t(83462),a=t(77739),l=t(17392),o=t(26600),i=t(94496),c=t(35316),d=t(53193),u=t(79190),h=t(72221),x=t(32143),m=t(42788),p=t(94516),A=t(11906),g=t(81637),y=t(29347),j=t(93959),v=t(66734),f=t(70579);const w=(0,v.A)((0,f.jsx)("path",{d:"M4 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1m0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1m0-8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1m4 4h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1m0 4h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1M7 8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1m-3 5c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1m0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1m0-8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1m4 4h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1m0 4h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1M7 8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1"}),"ListRounded");var b=t(3632),C=t(78252),S=t(35741),M=t(2798),k=t(9971),L=t(37786),N=t(1529),H=t(12110),R=t(88446),T=t(67610),$=t(33464),z=t(23054);const V=e=>{let{selectedCourse:s,selectedBatch:t,handleShowSnackbar:d,setIsLoading:u}=e;const{fetchAdminMessageData:h,deleteAdminMessageData:x}=(0,r.useContext)(L.w),[m,g]=(0,r.useState)([]),[j,v]=(0,r.useState)(null),[w,S]=(0,r.useState)(null),[M,k]=(0,r.useState)(!1),N=async()=>{u(!0);const e=await h();if(u(!1),e&&e.message)d("error",e.message);else if(e){if(Array.isArray(e)&&0===e.length)return void d("error","No data found.");const r=Array.isArray(e)&&e.length>0&&e.filter((e=>("All"===e.Course||e.Course===s)&&("All"===e.BatchName||e.BatchName===t)));Array.isArray(r)&&r.length>0&&g([...r].reverse())}};(0,r.useEffect)((()=>{N()}),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.A,{disabled:M,sx:{position:"absolute"},className:"top-8 right-16",onClick:async()=>{await N(),k(!0),setTimeout((()=>{k(!1)}),1e4)},children:(0,f.jsx)(T.A,{sx:{fontSize:"28px"}})}),Array.isArray(m)&&m.length>0?(0,f.jsx)(c.A,{className:"w-full h-[40rem] overflow-y-auto",sx:{scrollbarWidth:"none"},children:Array.isArray(m)&&m.map(((e,s)=>{const t=e.AdminMessage.split("~");return(0,f.jsx)(a.A,{title:`Message : ${t[2]}`,children:(0,f.jsxs)(H.A,{className:"relative flex items-center justify-start mt-5 h-20 pl-3 mb-5",sx:{boxShadow:"0 0 5px rgba(0,0,0,0.5)"},children:[(0,f.jsx)(C.A,{sx:{color:`${z.vG[s]}`,fontSize:"30px",width:"5%",marginRight:"10px"}}),(0,f.jsxs)(p.A,{className:"flex flex-col items-start justify-between h-[70%] w-[90%]",children:[(0,f.jsx)(i.A,{className:"text-slate-500",children:t[1]}),(0,f.jsxs)(i.A,{className:"text-slate-400",children:["Date : ",t[0]]})]}),"N/A"!==t[3]&&(0,f.jsx)(a.A,{title:"Show Uploaded File",arrow:!0,children:(0,f.jsx)(R.A,{href:t[3],target:"_blank",children:(0,f.jsx)(l.A,{color:"primary",sx:{marginRight:"10px"},children:(0,f.jsx)(b.A,{color:"primary"})})})}),(0,f.jsx)(l.A,{color:"error",onClick:()=>{S(!0),v(e)},children:(0,f.jsx)($.A,{color:"error"})})]})})}))}):(0,f.jsx)(c.A,{}),(0,f.jsxs)(n.A,{open:w,children:[(0,f.jsx)(o.A,{children:"Are you sure you want to withdraw your message ?"}),(0,f.jsx)(c.A,{children:"This will delete this message permanently from everyone."}),(0,f.jsxs)(y.A,{children:[(0,f.jsx)(A.A,{variant:"outlined",onClick:()=>S(!1),children:"Cancel"}),(0,f.jsx)(A.A,{variant:"contained",onClick:()=>{u(!0),setTimeout((()=>{(async()=>{if(j){u(!0);const e=await x(j);u(!1),e&&e.message?d("error",e.message):e&&d("success","Message withdrawn successfully."),N()}})()}),2e3),v(null),S(!1)},children:"Withdraw"})]})]})]})},B=e=>{let{isOpen:s,setIsOpen:t,selectedCourse:v,selectedBatch:H,handleShowSnackbar:R,setIsLoading:T}=e;const{postAdminMessageData:$}=(0,r.useContext)(L.w),[z,B]=(0,r.useState)(null),D=(0,r.useRef)(null),[F,P]=(0,r.useState)(null),[I,Y]=(0,r.useState)(null),[W,O]=(0,r.useState)(null),[U,X]=(0,r.useState)(!1),[q,E]=(0,r.useState)(!1),G=(0,N.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),_=async e=>{const s=await $(e);s&&s.message?R("error",s.message):s&&R("success","Your Message has been send successfully."),J(),T(!1)},J=()=>{B(null),D.current="",P(null),Y(null),O(null),t(!1),X(!1)};return(0,f.jsxs)(n.A,{open:s,onClose:()=>{(!z||"Show Messages"===z)&&J()},sx:{zIndex:"700"},children:[(0,f.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"15%",className:"ml-[42.5%]"}),z&&(0,f.jsx)(a.A,{title:"Change Message Type",arrow:!0,children:(0,f.jsx)(l.A,{sx:{position:"absolute"},color:"primary",onClick:()=>{B(null),O(null),D.current="",P(null),Y(null),X(!1)},className:`w-8 h-8 ${"Show Messages"===z?"top-10":"top-[5rem]"} right-5`,children:(0,f.jsx)(j.A,{color:"primary",sx:{fontSize:"30px"}})})}),z?"Show Messages"===z?(0,f.jsx)(V,{selectedBatch:H,selectedCourse:v,handleShowSnackbar:R,setIsLoading:T}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(o.A,{variant:"h5",children:["Message to ","Selected Batch"===z?"All"===H?"All Selected Batches":H:z," ",(0,f.jsx)(C.A,{})]}),(0,f.jsxs)(c.A,{className:"flex flex-col items-center justify-evenly h-[21rem]",children:[(0,f.jsx)(m.A,{className:"w-full h-20",sx:{marginTop:"15px"},label:"Reason",required:!0,value:I,onChange:e=>Y(e.target.value),inputProps:{maxLength:70},error:U&&!I,helperText:U&&!I?"Provide a Reason":""}),(0,f.jsxs)(p.A,{className:"h-[4.50rem] flex flex-col items-center justify-start",children:[(0,f.jsxs)(p.A,{className:"relative",children:[(0,f.jsxs)(A.A,{startIcon:D&&F?(0,f.jsx)(S.A,{}):(0,f.jsx)(M.A,{}),color:D&&F?"success":"primary",disabled:q,variant:"contained",component:"label",role:void 0,tabIndex:-1,children:[(0,f.jsx)(G,{type:"file",onChange:e=>(e=>{const s=e.target.files[0];E(!0),setTimeout((()=>{if(s)if((D.size/1048576).toFixed(2)<=5){P(s.name);const e=new FileReader;e.onloadend=()=>{D.current=e.result},e.readAsDataURL(s)}else R("error","You can upload files up to 5 MB. Files larger than 5 MB will not be accepted.");E(!1)}),2e3)})(e)}),D&&F?"File Uploaded":"Optional File Here"]}),q&&(0,f.jsx)(g.A,{size:24,sx:{color:"primary",position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]}),(0,f.jsx)(i.A,{sx:{marginTop:"3px",width:"auto"},children:F})]}),(0,f.jsx)(m.A,{className:"w-full h-36",multiline:!0,rows:4,label:"Your Message Here",required:!0,value:W,onChange:e=>O(e.target.value),error:U&&!W||W&&W.length<25,helperText:U&&!W?"Enter Message":W&&W.length<25?"Your Message should contains atleast 25 characters":""})]}),(0,f.jsxs)(y.A,{children:[(0,f.jsx)(A.A,{variant:"outlined",onClick:J,children:"Cancel"}),(0,f.jsx)(A.A,{variant:"contained",onClick:()=>{if(X(!0),!I||!W||W.length<25)return;T(!0);const e={Course:"All Courses"===z?"All":"Placements Team"===z?z:v,BatchName:"Placements Team"===z?z:H,AdminMessage:`${(0,k.c)()}~${I}~${W}~${D||"N/A"}`};_(e)},children:"Send Message"})]})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.A,{className:"flex items-center justify-between",children:(0,f.jsx)(i.A,{variant:"h6",children:"Who do you want to send Message ?"})}),(0,f.jsxs)(c.A,{className:"h-[8rem] flex items-center justify-between",children:[(0,f.jsx)(w,{sx:{fontSize:"30px",marginTop:"23px"}}),(0,f.jsxs)(d.A,{className:"w-[93%]",variant:"standard",children:[(0,f.jsx)(u.A,{sx:{fontSize:"20px"},children:"Select an option"}),(0,f.jsxs)(h.A,{value:z,onChange:e=>B(e.target.value),children:[(0,f.jsx)(x.A,{value:"Selected Batch",children:"Selected Batch"}),(0,f.jsx)(x.A,{value:"Placements Team",children:"Placements Team"}),(0,f.jsx)(x.A,{value:"All Courses",children:"All Courses"}),(0,f.jsx)(x.A,{value:""}),(0,f.jsxs)(x.A,{value:"Show Messages",children:[(0,f.jsx)(b.A,{color:"action",className:"mr-3"})," Show Sent Messages"]})]})]})]})]})]})}},93959:(e,s,t)=>{t.d(s,{A:()=>a});var r=t(66734),n=t(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.91 16.15c-.31.31-.85.09-.85-.35V17H12c-1.28 0-2.56-.49-3.54-1.46-1.43-1.43-1.81-3.52-1.14-5.3.19-.51.86-.64 1.24-.25.22.22.27.54.17.82-.46 1.24-.2 2.68.8 3.68.7.7 1.62 1.03 2.54 1.01v-.94c0-.45.54-.67.85-.35l1.62 1.62c.2.2.2.51 0 .71zm2.53-4.13c-.22-.22-.27-.54-.17-.82.46-1.24.2-2.68-.8-3.68-.7-.7-1.62-1.04-2.53-1.02v.94c0 .45-.54.67-.85.35L9.46 8.18c-.2-.2-.2-.51 0-.71l1.62-1.62c.31-.31.85-.09.85.35v.81c1.3-.02 2.61.45 3.6 1.45 1.43 1.43 1.81 3.52 1.14 5.3-.19.52-.85.65-1.23.26"}),"ChangeCircleRounded")},33464:(e,s,t)=>{t.d(s,{A:()=>a});var r=t(66734),n=t(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever")},78252:(e,s,t)=>{t.d(s,{A:()=>a});var r=t(66734),n=t(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-3 12H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1"}),"MessageRounded")},67610:(e,s,t)=>{t.d(s,{A:()=>a});var r=t(66734),n=t(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5"}),"ReplayRounded")},2798:(e,s,t)=>{t.d(s,{A:()=>a});var r=t(66734),n=t(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"m19.41 7.41-4.83-4.83c-.37-.37-.88-.58-1.41-.58H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.42M14.8 15H13v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H9.21c-.45 0-.67-.54-.35-.85l2.8-2.79c.2-.19.51-.19.71 0l2.79 2.79c.3.31.08.85-.36.85M14 9c-.55 0-1-.45-1-1V3.5L18.5 9z"}),"UploadFileRounded")},3632:(e,s,t)=>{t.d(s,{A:()=>a});var r=t(66734),n=t(70579);const a=(0,r.A)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},88446:(e,s,t)=>{t.d(s,{A:()=>C});var r=t(65043),n=t(58387),a=t(55500),l=t(98610),o=t(18218),i=t(6803),c=t(34535),d=t(26240),u=t(66870),h=t(52445),x=t(28249),m=t(94496),p=t(92532),A=t(72372);function g(e){return(0,A.Ay)("MuiLink",e)}const y=(0,p.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var j=t(56224);const v=e=>{let{theme:s,ownerState:t}=e;const r=t.color,n=(0,j.Yn)(s,`palette.${r}`,!1)||t.color,l=(0,j.Yn)(s,`palette.${r}Channel`);return"vars"in s&&l?`rgba(${l} / 0.4)`:(0,a.X4)(n,.4)};var f=t(70579);const w={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},b=(0,c.Ay)(m.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.root,s[`underline${(0,i.A)(t.underline)}`],"button"===t.component&&s.button]}})((0,u.A)((e=>{let{theme:s}=e;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:e=>{let{underline:s,ownerState:t}=e;return"always"===s&&"inherit"!==t.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(s.palette).filter((0,h.A)()).map((e=>{let[t]=e;return{props:{underline:"always",color:t},style:{"--Link-underlineColor":s.vars?`rgba(${s.vars.palette[t].mainChannel} / 0.4)`:(0,a.X4)(s.palette[t].main,.4)}}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":s.vars?`rgba(${s.vars.palette.text.primaryChannel} / 0.4)`:(0,a.X4)(s.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":s.vars?`rgba(${s.vars.palette.text.secondaryChannel} / 0.4)`:(0,a.X4)(s.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(s.vars||s).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${y.focusVisible}`]:{outline:"auto"}}}]}}))),C=r.forwardRef((function(e,s){const t=(0,x.b)({props:e,name:"MuiLink"}),a=(0,d.A)(),{className:c,color:u="primary",component:h="a",onBlur:m,onFocus:p,TypographyClasses:A,underline:y="always",variant:j="inherit",sx:C,...S}=t,[M,k]=r.useState(!1),L={...t,color:u,component:h,focusVisible:M,underline:y,variant:j},N=(e=>{const{classes:s,component:t,focusVisible:r,underline:n}=e,a={root:["root",`underline${(0,i.A)(n)}`,"button"===t&&"button",r&&"focusVisible"]};return(0,l.A)(a,g,s)})(L);return(0,f.jsx)(b,{color:u,className:(0,n.A)(N.root,c),classes:A,component:h,onBlur:e=>{(0,o.A)(e.target)||k(!1),m&&m(e)},onFocus:e=>{(0,o.A)(e.target)&&k(!0),p&&p(e)},ref:s,ownerState:L,variant:j,...S,sx:[...void 0===w[u]?[{color:u}]:[],...Array.isArray(C)?C:[C]],style:{...S.style,..."always"===y&&"inherit"!==u&&!w[u]&&{"--Link-underlineColor":v({theme:a,ownerState:L})}}})}))}}]);
//# sourceMappingURL=1658.d3d422e5.chunk.js.map