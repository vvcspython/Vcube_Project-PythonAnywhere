"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[6470],{6470:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ce,handleExitFullScreen:()=>oe,handleFullScreen:()=>ie});var r=t(65043),n=t(83462),a=t(35316),l=t(26600),i=t(94496),o=t(29347),c=t(11906),u=t(28076),d=t(94516),x=t(47500),m=t(82119),h=t(76040),p=t(95609),g=t(24056),f=t(42788),A=t(12110),j=t(79650),y=t(61596),b=t(71806),w=t(84882),S=t(10039),v=t(73460),k=t(81637),N=t(77158),C=t(51300),T=t(1529),I=t(619),E=t(38673),F=t(14128),_=t(49599),$=t(47762),W=t(72337),P=t(33438),R=t(35741),q=t(18921),D=t(85584),Q=t(55776),L=t(88076),z=t(9971),O=t(96213),U=t.n(O),M=t(70579);const K=(0,T.Ay)(u.A)((e=>{let{theme:s}=e;return{"&:nth-of-type(odd)":{backgroundColor:"#f3f4f6"},"&:last-child td, &:last-child th":{border:0}}})),J=e=>{let{setResults:s,test_Cases:t,stdId:n,handleShowSnackbar:a,setResultPopUp:l,hideQuestion:o,isSql:T,full_Screen:O,setTabValue:J,questionId:Y,name:V,course:B,batchName:H,isUser:G,updateScore:X,setTime_Up:Z,minutes:ee,setMinutes:se}=e;const{runCode:te,executeCode:re}=(0,r.useContext)(C.c),{getStudentAttendanceById:ne,postStudentAttendance:ae}=(0,r.useContext)(L.e),[le,ie]=(0,r.useState)(!1),oe=(0,r.useRef)({javascript:"// Write your JavaScript code here",python:"# Write your Python code here",java:"// Write your Java code here \npublic class Main {\n    public static void main(String[] args) {\n\n    }\n}",sql:"-- Write SQL queries here--;",cpp:"// Write your C++ code here",c:"// Write your C code here"}),[ce,ue]=(0,r.useState)(T?"sql":"python"),de=sessionStorage.getItem("Weekly Assignment"),[xe,me]=(0,r.useState)(18),[he,pe]=(0,r.useState)(""),ge=(0,r.useRef)(""),fe=(0,r.useRef)(null),[Ae,je]=(0,r.useState)(""),[ye,be]=(0,r.useState)(""),[we,Se]=(0,r.useState)([]),[ve,ke]=(0,r.useState)(0),[Ne,Ce]=(0,r.useState)("True"===de||"Past"===de?1:0),[Te,Ie]=(0,r.useState)(0),[Ee,Fe]=(0,r.useState)(!1),[_e,$e]=(0,r.useState)(!1),[We,Pe]=(0,r.useState)(!1),Re=(0,r.useRef)(null),[qe,De]=(0,r.useState)(!1),[Qe,Le]=(0,r.useState)(10),ze=async()=>{const e=await ne(n);if(e&&e.message)404!==e.response.status&&a("error",e.message);else if(e){const s=Array.isArray(e)&&e.filter((e=>"Assignment"===e.Attendance_Type.split("~")[0]));fe.current=s}};(0,r.useEffect)((()=>{ze()}),[]),(0,r.useEffect)((()=>{"sql"===ce&&(0,r.startTransition)((()=>{if(Array.isArray(ye)&&ye.length>0){const e=ye.map((e=>Array.isArray(e)&&e.length>0?Object.keys(e[0]):[]));Se(e)}}))}),[ye]),(0,r.useEffect)((()=>{(0,r.startTransition)((()=>{Re.current&&(Re.current.scrollTop=Re.current.scrollHeight)}))}),[Ae]),(0,r.useEffect)((()=>{let e;return qe&&(e=setTimeout((()=>{Le((e=>e-1))}),1e3)),0===Qe&&(De(!1),Le(10)),()=>clearTimeout(e)}),[Qe,qe]);const Oe=e=>{let s=e.replace(/^\s*--.*$/gm,"");return s=s.replace(/\/\*[\s\S]*?\*\//g,""),s=s.replace(/\n\s*\n/g,"\n").trim(),s},Ue=async()=>{if("Student"!==G)return;if(fe.current&&fe.current.some((e=>e.Attendance_Type.split("~")[1]===`${Y}`)))return;const e={StudentId:n,Name:V,Course:B,BatchName:H,Date:(0,z.c)().split(" ")[0],Attendance_Type:`${"True"===de?"Weekly Assignment":"Assignment"}~${Y}~${Ne<10?`0${Ne}`:Ne}:${ee<10?`0${ee}`:ee}:${Te<10?`0${Te}`:Te}`},s=await ae(e);ze(),s&&s.message&&a("error",s.message)};(0,r.useEffect)((()=>{let e,s=3600*Ne+60*ee+Te;return"True"===de||"Past"===de?(0===Ne&&0===ee&&0===Te&&Z(!0),e=setInterval((()=>{s>0?(s-=1,Ce(Math.floor(s/3600)),se(Math.floor(s%3600/60)),Ie(s%60),sessionStorage.setItem("Assignment_Time",`${s}`)):clearInterval(e)}),1e3)):e=setInterval((()=>{s+=1,Ce(Math.floor(s/3600)),se(Math.floor(s%3600/60)),Ie(s%60)}),1e3),()=>clearInterval(e)}),[Ne,ee,Te,de,Z]),(0,r.useEffect)((()=>{"Student"===G&&document.addEventListener("keydown",(e=>{"Student"===G&&("c"!==e.key||!e.ctrlKey&&!e.metaKey||e.shiftKey||(e.preventDefault(),e.stopPropagation()),"v"!==e.key||!e.ctrlKey&&!e.metaKey||e.shiftKey||(e.preventDefault(),e.stopPropagation()))}))}),[]);(0,r.useEffect)((()=>{U().sanitize(oe.current[ce])}),[le]);const Me=e=>String(e).padStart(2,"0"),Ke=[!T&&{icon:(0,M.jsx)("img",{src:"/images/python-logo.png",alt:"",width:"20px"}),name:"Python",onClick:()=>ue("python")},!T&&{icon:(0,M.jsx)("img",{src:"/images/javascript-logo.png",alt:"",width:"20px"}),name:"Javascript",onClick:()=>ue("javascript")},!T&&{icon:(0,M.jsx)("img",{src:"/images/java-logo.png",alt:"",width:"20px"}),name:"Java",onClick:()=>ue("java")},T&&{icon:(0,M.jsx)("img",{src:"/images/sql-logo.png",alt:"",width:"20px"}),name:"SQL",onClick:()=>ue("sql")},!T&&{icon:(0,M.jsx)("img",{src:"/images/c-logo.png",alt:"",width:"20px"}),name:"C",onClick:()=>ue("c")},!T&&{icon:(0,M.jsx)("img",{src:"/images/cpp-logo.png",alt:"",width:"20px"}),name:"C++",onClick:()=>ue("cpp")}].filter(Boolean),Je=[{icon:(0,M.jsx)(I.A,{}),name:"15px",onClick:()=>me(15)},{icon:(0,M.jsx)(E.A,{}),name:"18px",onClick:()=>me(18)},{icon:(0,M.jsx)(F.A,{}),name:"22px",onClick:()=>me(22)},{icon:(0,M.jsx)(_.A,{}),name:"25px",onClick:()=>me(25)},{icon:(0,M.jsx)($.A,{}),name:"30px",onClick:()=>me(30)},{icon:(0,M.jsx)(W.A,{}),name:"35px",onClick:()=>me(35)}];return(0,M.jsxs)(d.A,{className:`${o?"w-[70%]":"w-1/2"} ${29!==ee&&4!==ee&&0!==ee||"True"!==de&&"Past"!==de?"":"blink-background"} h-full bg-white rounded-md pt-1 pr-2 pl-2 border-2 border-gray-200`,children:[(0,M.jsxs)(d.A,{className:"relative flex items-center justify-center h-12",children:[(0,M.jsx)(x.A,{ariaLabel:"Menu SpeedDial",sx:{bgcolor:"transparent",position:"absolute",left:"0px",top:"-2px",zIndex:"100","& .MuiSpeedDial-fab":{bgcolor:"transparent",color:"black",width:"45px",height:"45px","&:hover":{bgcolor:"transparent"}}},icon:(0,M.jsx)(m.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},icon:(0,M.jsx)("img",{src:`/images/${ce}-logo.png`,alt:"",width:"python"===ce||"javascript"===ce?"25px":"30px"}),openIcon:(0,M.jsx)(P.A,{sx:{fontSize:"30px"},className:"text-gray-500"})}),direction:"down",children:Ke.map((e=>(0,M.jsx)(h.A,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick,arrow:!0},e.name)))}),(0,M.jsxs)(d.A,{className:`relative border-[1.50px] ${"True"===de||"Past"===de?ee<15?"border-red-400":ee<30?"border-yellow-400":ee<45?"border-orange-400":"border-green-400":"border-gray-400"} \n                ${"True"===de||"Past"===de?ee<15?"text-red-700":ee<30?"text-yellow-700":ee<45?"text-orange-700":"text-green-700":"text-black"}\n                flex items-center justify-center h-[40px] w-[20%] rounded-md`,sx:{fontSize:"18px"},children:[(0,M.jsxs)(d.A,{className:"w-full h-full bg-transparent flex items-center justify-center overflow-hidden",sx:{zIndex:"710"},children:[Me(Ne)," : ",Me(ee)," : ",Me(Te)]}),(0,M.jsx)(d.A,{className:"absolute top-0 left-0 h-full rounded-md "+("True"===de||"Past"===de?ee<6?"bg-red-300":ee<15?"bg-red-100":ee<30?"bg-yellow-100":ee<45?"bg-orange-100":"bg-green-100":"bg-white"),sx:{zIndex:"705",width:`${Math.floor(ee/60*100)}%`}})]}),(0,M.jsx)(x.A,{ariaLabel:"Menu SpeedDial",sx:{bgcolor:"transparent",position:"absolute",right:"0px",top:"-2px",zIndex:"100","& .MuiSpeedDial-fab":{bgcolor:"transparent",color:"black",width:"45px",height:"45px","&:hover":{bgcolor:"transparent"}}},icon:(0,M.jsx)(m.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},icon:15===xe?(0,M.jsx)(I.A,{}):18===xe?(0,M.jsx)(E.A,{}):22===xe?(0,M.jsx)(F.A,{}):25===xe?(0,M.jsx)(_.A,{}):30===xe?(0,M.jsx)($.A,{}):(0,M.jsx)(W.A,{}),openIcon:(0,M.jsx)(P.A,{sx:{fontSize:"30px"},className:"text-gray-500"})}),direction:"down",children:Je.map((e=>(0,M.jsx)(h.A,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick,arrow:!0},e.name)))})]}),(0,M.jsx)(d.A,{className:`w-full ${We?"h-[86%]":O?"h-[52%]":"h-[45%]"} rounded-md overflow-hidden`,children:(0,M.jsx)(N.KE,{height:"100%",width:"100%",language:ce,value:oe.current[ce],options:{fontSize:xe},onChange:e=>{oe.current[ce]=e,ie(!le)},theme:"vs-dark"})}),!We&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(d.A,{className:"w-full",children:"sql"!==ce?(0,M.jsxs)(p.A,{value:ve,children:[(0,M.jsx)(g.A,{label:"Input",sx:{fontWeight:"bold",fontFamily:"unset"},onClick:()=>ke(0)}),(0,M.jsx)(g.A,{label:"Output",sx:{fontWeight:"bold",fontFamily:"unset"},onClick:()=>ke(1)})]}):(0,M.jsxs)(p.A,{value:ve,children:[(0,M.jsx)(g.A,{label:"Output",sx:{fontWeight:"bold",fontFamily:"unset"},onClick:()=>ke(0)}),(0,M.jsx)(g.A,{label:"Results",sx:{fontWeight:"bold",fontFamily:"unset"},onClick:()=>ke(1)})]})}),0===ve?"sql"!==ce?(0,M.jsx)(f.A,{rows:10,value:he,onChange:e=>pe(e.target.value),multiline:!0,className:"w-full",sx:{marginTop:"10px"}}):(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(A.A,{className:"w-full h-[16.50rem] max-w-full max-h-[16.50rem] overflow-auto mt-[10px]",sx:{overflow:"auto",scrollbarWidth:"thin",boxShadow:"0 0 5px rgba(0,0,0,0.5)"},ref:Re,children:(0,M.jsx)(d.A,{children:Ae&&Array.isArray(Ae)&&Ae.length>0?Ae.map(((e,s)=>e&&e.query&&!e.query.startsWith("--")&&(0,M.jsxs)(i.A,{variant:"body2",className:"flex items-center w-full whitespace-nowrap overflow-auto",sx:{margin:"3px 0",backgroundColor:s%2===0?"#EDF3FD":"white",padding:"8px",borderRadius:"4px",scrollbarWidth:"none"},children:["success"===e.status?(0,M.jsx)(R.A,{color:"success",sx:{fontSize:"18px"}}):(0,M.jsx)(q.A,{color:"error",sx:{fontSize:"18px"}}),"error"===e.status?e.error+" \u2022 "+e.query:e.message+" \u2022 "+e.query]},s))):(0,M.jsx)(i.A,{sx:{margin:"15px",color:"grey"},children:"Queries will appear here."})})})}):"sql"!==ce?(0,M.jsx)(f.A,{rows:10,InputProps:{readOnly:!0},multiline:!0,className:"w-full",value:ge.current,sx:{marginTop:"10px"}}):(0,M.jsx)(d.A,{className:"w-full h-[16.50rem] max-h-[16.50rem] overflow-auto mt-[10px] border-[1px] border-gray-300 rounded-md",sx:{scrollbarWidth:"thin"},children:we&&we.length>0?Array.isArray(we)&&we.map(((e,s)=>(0,M.jsx)(j.A,{component:y.A,sx:{border:"solid 1px lightgrey",marginBottom:"25px",scrollbarWidth:"thin"},children:(0,M.jsxs)(b.A,{children:[(0,M.jsx)(w.A,{children:(0,M.jsx)(u.A,{children:Array.isArray(e)&&e.length>0&&e.map((e=>(0,M.jsx)(S.A,{sx:{fontWeight:"bold",color:"#1976d2"},children:e},e)))})}),(0,M.jsx)(v.A,{children:Array.isArray(ye)&&ye.length>0&&Array.isArray(ye[s])?ye[s].map(((s,t)=>(0,M.jsx)(K,{children:e.map((e=>(0,M.jsx)(S.A,{children:void 0!==s[e]?s[e]:"N/A"},e)))},t))):(0,M.jsx)(K,{children:(0,M.jsx)(S.A,{colSpan:we.length,children:"No results available"})})})]})},s))):(0,M.jsx)(f.A,{rows:10,InputProps:{readOnly:!0},placeholder:"Tables will appear here",multiline:!0,className:"w-full",value:""})})]}),(0,M.jsxs)(d.A,{className:"h-14 mt-1 flex items-center justify-between",children:[(0,M.jsxs)(c.A,{startIcon:We?(0,M.jsx)(D.A,{}):(0,M.jsx)(Q.A,{}),onClick:()=>Pe(!We),children:[We?"Show":"Hide"," Console"]}),(0,M.jsxs)(d.A,{className:"w-[50%] flex items-center justify-between",children:[(0,M.jsxs)(d.A,{className:"relative w-[50%]",children:[(0,M.jsxs)(c.A,{variant:"outlined",disabled:Ee,sx:{width:"90%",marginRight:"0"},onClick:()=>{qe||(Fe(!0),ge.current="",be(""),setTimeout((()=>{(async()=>{const e={id:n,Code:"sql"===ce?Oe(oe.current[ce]):oe.current[ce],Input:he,Language:ce},s=await te(e);if(Fe(!1),"sql"===ce){Array.isArray(s.data)?je((e=>[...e,...s.data])):je((e=>[...e,s.data]));const e=s&&s.data&&s.data.filter((e=>e.result)).map((e=>e.result));be(e)}else s&&s.message?ge.current=`Error: ${s.response?s.response.data.error:s.message}`:s&&(ge.current=`${s.data.output}\n\nExecution complete. The code ran for ${s.data.execution_time}`);ke(1),De(!0)})()}),2e3))},children:["Run Code ",qe?Qe<10?`in 0${Qe}`:`in ${Qe}`:null]}),Ee&&(0,M.jsx)(k.A,{size:24,sx:{color:"primary",position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-18px"}})]}),(0,M.jsxs)(d.A,{className:"relative w-[50%]",children:[(0,M.jsxs)(c.A,{variant:"contained",sx:{width:"90%",margin:"0 0 0 15px"},disabled:"True"===de&&0===Ne&&0===ee&&0===Te||_e,onClick:()=>{qe||($e(!0),setTimeout((()=>{(async()=>{const e={id:n,Code:"sql"===ce?[Oe(oe.current[ce])]:oe.current[ce],TestCases:t,Language:ce},r=await re(e);if($e(!1),"sql"===ce)s.current=r.data,!0===r.data.all_tests_passed&&Ue();else if(r&&r.message)ge.current=`Error: ${r.response?r.response.data.error:r.message}`,s.current={status:"Failed",message:r.response?r.response.data.error:r.message};else if(r){console.log(r.data),s.current=r.data;const e=r.data.results.filter((e=>"pass"===e.status));"True"!==de&&"Past"!==de||X(Y,e.length/t.length*100),!0===r.data.all_tests_passed&&"Student"===G&&"True"!==de&&"Past"!==de&&Ue()}l(!0),"True"===!de&&J(1),De(!0)})()}),2e3))},children:["Submit ",qe?Qe<10?`in 0${Qe}`:`in ${Qe}`:null]}),_e&&(0,M.jsx)(k.A,{size:24,sx:{color:"primary",position:"absolute",top:"50%",left:"50%",marginTop:"-12px"}})]})]})]})]})};var Y=t(77739),V=t(17392),B=t(39336),H=t(90889),G=t(86605),X=t(40710),Z=t(85533),ee=t(14169),se=t(90521),te=t(80018),re=t(76165),ne=t(7337),ae=t(58293);const le=e=>{let{isUser:s,results:t,questionData:n,tabValue:a,setTabValue:l,handleExitFullScreen:o,resultPopUp:u,setResultPopUp:x,hideQuestion:m,setHideQuestion:h,handleFullScreen:f,setQuestions_Data:A,solveAssessmentData:j,score:y,scoreData:b,postResults:w,setIsOpen:S,time_Up:v,handleShowSnackbar:k,minutes:N}=e;const[C,T]=(0,r.useState)(null),[I,E]=(0,r.useState)(!1),F=sessionStorage.getItem("Weekly Assignment"),[_,$]=(0,r.useState)(!1),[W,P]=(0,r.useState)(!1);(0,r.useEffect)((()=>(0,r.startTransition)((()=>{f()}))),[]),(0,r.useEffect)((()=>{(0,r.startTransition)((()=>{u&&setTimeout((()=>{!I&&x(!1)}),3e3)}))}),[u]);const D=async()=>{if($(!1),"True"!==F||"Student"!==s)return void S(!1);P(!0);!0===await w()?(S(!1),k("success","Congrats! Completing this assignment is a fantastic milestone in your learning journey!")):$(!0),P(!1)};return(0,r.useEffect)((()=>{v&&D()}),[v]),(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(d.A,{className:`${m?"w-[30%]":"w-1/2"} ${29!==N&&4!==N&&0!==N||"True"!==F&&"Past"!==F?"":"blink-background"} h-full bg-white border-2 rounded-md pl-5 pr-3`,children:[(0,M.jsxs)(d.A,{className:"w-full h-14 flex items-center justify-between",children:[(0,M.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"12%"}),(0,M.jsxs)(p.A,{value:a,children:[(0,M.jsx)(g.A,{label:"Question",sx:{fontWeight:"bold",fontFamily:"unset"},onClick:()=>l(0)}),(0,M.jsx)(g.A,{label:"Submission",disabled:"True"===F&&"Student"===s,sx:{fontWeight:"bold",fontFamily:"unset"},onClick:()=>l(1)})]}),(0,M.jsxs)(d.A,{className:"w-1/6 flex items-center justify-between",children:[(0,M.jsx)(Y.A,{title:(m?"Compress":"Decompress")+" Question Tab",arrow:!0,children:(0,M.jsx)(V.A,{onClick:()=>h(!m),children:(0,M.jsx)(Z.A,{sx:{transform:!m&&"rotate(180deg)"}})})}),(0,M.jsx)(Y.A,{title:"Exit",arrow:!0,children:(0,M.jsx)(V.A,{onClick:o,children:(0,M.jsx)(ee.A,{})})})]})]}),u?(0,M.jsx)(M.Fragment,{children:I?(0,M.jsxs)(d.A,{className:"w-full h-[90%] flex flex-col items-center justify-center",children:[(0,M.jsx)(se.A,{color:"primary",sx:{fontSize:"100px",margin:"30px 0"}}),(0,M.jsx)(i.A,{className:"text-slate-500 w-[80%] text-center",sx:{margin:"20px 0 10px 0"},children:"Make sure to review your code thoroughly for any mistakes before you submit it."}),(0,M.jsxs)(i.A,{variant:"h5",sx:{fontFamily:"monospace",margin:"10px 0 20px 0"},className:"text-slate-500",children:["Your Score: ",y]}),(0,M.jsxs)(d.A,{className:"w-[80%] flex items-center justify-evenly",children:[(0,M.jsx)(c.A,{variant:"outlined",sx:{width:"45%"},startIcon:(0,M.jsx)(te.A,{}),onClick:()=>{E(!1),x(!1)},children:"Check Again"}),(0,M.jsx)(c.A,{variant:"contained",sx:{width:"45%"},disabled:W,endIcon:(0,M.jsx)(R.A,{}),onClick:D,children:"Continue Submission"})]}),_&&(0,M.jsx)(i.A,{color:"error",sx:{marginTop:"30px"},children:"Something went wrong while Submission. Please try again later."})]}):(0,M.jsxs)(d.A,{className:"w-full h-[90%] flex flex-col items-center justify-center",children:[t&&t.all_tests_passed?(0,M.jsx)(re.A,{className:"scaleAndShake",color:"success",sx:{fontSize:"150px",margin:"20px 0"}}):(0,M.jsx)(q.A,{className:"scaleAndShake",color:"error",sx:{fontSize:"100px",margin:"30px 0"}}),(0,M.jsx)(i.A,{color:t&&t.all_tests_passed?"green":"error",sx:{fontSize:"28px"},children:t&&t.all_tests_passed?"You Passed all the Test Cases":"You Failed the Test Cases"})]})}):n?(0,M.jsx)(M.Fragment,{children:0===a?(0,M.jsxs)(d.A,{children:[("True"===F||"Past"===F)&&(0,M.jsxs)(d.A,{className:"w-full h-20 flex items-center justify-between rounded-md",children:[(0,M.jsx)(d.A,{className:"w-[70%] flex items-center justify-start",children:j.map(((e,t)=>(0,M.jsx)(c.A,{variant:e.id===n.id?"contained":"outlined",color:100===b[e.id]?"success":"primary",sx:{marginRight:"20px"},onClick:()=>A(e),children:100===b[e.id]?(0,M.jsx)(ne.A,{}):"Student"!==s?`${t+1} id: ${e.id}`:t+1})))}),(0,M.jsx)(c.A,{color:"error",variant:"contained",onClick:()=>{E(!0),x(!0)},children:"Submit Assigments"})]}),(0,M.jsxs)(d.A,{className:"flex items-center justify-between w-full h-10",children:[(0,M.jsx)(i.A,{className:"text-gray-400",children:"Question"}),(0,M.jsx)(i.A,{className:`${"Easy"===n.Level?"text-green-600":"Medium"===n.Level?"text-yellow-600":"text-red-600"} \n              text-center rounded-md ${"Easy"===n.Level?"bg-green-100":"Medium"===n.Level?"bg-yellow-100":"bg-red-100"} w-16`,children:n.Level})]}),(0,M.jsx)(i.A,{variant:"h4",children:n.Question&&JSON.parse(n.Question).Title}),(0,M.jsx)(B.A,{sx:{margin:"10px 0"}}),(0,M.jsxs)(d.A,{className:`w-full min-h-52 ${"True"===F||"Past"===F?"max-h-[44rem]":"max-h-[48rem]"} overflow-y-auto`,sx:{scrollbarWidth:"thin"},children:[n.Question&&JSON.parse(`${n.Question}`).Question.split("\n").map((e=>(0,M.jsx)(i.A,{sx:{fontSize:"18px",margin:"20px 0",fontWeight:e.includes("<strong>")?"bold":"",fontFamily:"unset"},children:e.replace("<strong>","").replace("</strong>","")}))),n.Examples&&JSON.parse(n.Examples).map(((e,s)=>(0,M.jsxs)(d.A,{className:"pt-2 pb-2 mt-5",children:[(0,M.jsxs)(i.A,{variant:"h5",sx:{margin:"0 0 20px 0"},children:["Example ",s+1]}),(0,M.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Input"}),(0,M.jsx)(d.A,{className:"bg-gray-200 rounded-md p-2 h-auto mt-2",children:e.input.map((e=>(0,M.jsx)(i.A,{children:e})))}),(0,M.jsx)(i.A,{sx:{fontWeight:"bold",margin:"15px 0"},children:"Output"}),(0,M.jsx)(d.A,{className:"bg-gray-200 rounded-md p-2 h-auto mt-2",children:e.output.map((e=>(0,M.jsx)(i.A,{children:e})))}),(0,M.jsx)(i.A,{sx:{fontWeight:"bold",margin:"15px 0"},children:"Explanation"}),e.explanation.map((e=>(0,M.jsx)(i.A,{children:e})))]})))]})]}):(0,M.jsx)(d.A,{className:"pt-3 pb-3 max-h-[55rem] overflow-y-auto flex flex-col items-center",sx:{scrollbarWidth:"thin"},children:t&&t.status&&"Failed"===t.status?(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(H.A,{expanded:!0,className:"w-full border-[1px]",children:[(0,M.jsx)(G.A,{children:(0,M.jsxs)(d.A,{className:"w-full flex items-center justify-between",children:[(0,M.jsx)(i.A,{color:"error",variant:"h5",children:"Error"}),(0,M.jsx)(i.A,{color:"error",variant:"h6",className:"w-16 text-center bg-red-100 rounded-md",children:t.status})]})}),(0,M.jsx)(X.A,{children:(0,M.jsx)(i.A,{color:"error",children:t.message.toUpperCase()})})]})}):t&&Array.isArray(t.results)&&t.results.length>0?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(i.A,{variant:"h5",className:"flex items-center",sx:{fontWeight:"bold",margin:"20px 0"},children:["Results :",(0,M.jsx)(i.A,{variant:"h5",sx:{fontWeight:"normal",marginLeft:"10px"},color:t.all_tests_passed?"#4caf50":"error",children:t.all_tests_passed?"You have Passed All the Test Cases":"You have Failed the Test Cases"})]}),Array.isArray(t.results)&&t.results.map(((e,s)=>(0,M.jsxs)(H.A,{expanded:C===s,onChange:()=>T(C===s?null:s),sx:{boxShadow:"0 0 5px rgba(0,0,0,0.5)",width:"98%"},children:[(0,M.jsx)(G.A,{expandIcon:(0,M.jsx)(ae.A,{}),children:(0,M.jsxs)(d.A,{className:"w-[95%] h-full flex items-center justify-between",children:[(0,M.jsxs)(i.A,{className:"w-1/2 mr-52",children:["Test Case ",s+1," "]}),(0,M.jsx)(i.A,{className:`${!e.status||"pass"!==e.status&&!0!==e.passed?"text-red-600":"text-green-600"} ${!e.status||"pass"!==e.status&&!0!==e.passed?"bg-red-100":"bg-green-100"} w-20 text-center rounded-md`,children:"pass"===e.status||!0===e.passed?"Passed":"Failed"})]})}),(0,M.jsxs)(X.A,{children:[(0,M.jsx)(i.A,{sx:{fontWeight:"bold"},children:"Input"}),(0,M.jsx)(d.A,{className:"bg-gray-200 rounded-md p-2 h-auto mt-2 overflow-auto",sx:{scrollbarWidth:"thin"},children:e.inputs&&e.inputs.map((e=>(0,M.jsx)(i.A,{className:"whitespace-nowrap",children:e})))}),(0,M.jsx)(i.A,{sx:{fontWeight:"bold",marginTop:"20px"},children:"Expected Output"}),(0,M.jsx)(d.A,{className:"bg-gray-200 rounded-md p-2 h-auto mt-2 overflow-auto",sx:{scrollbarWidth:"thin"},children:e.expected&&e.expected.map((e=>(0,M.jsx)(i.A,{className:"whitespace-nowrap",children:e})))}),(0,M.jsx)(i.A,{sx:{fontWeight:"bold",marginTop:"20px"},children:"Your Output"}),(0,M.jsx)(d.A,{className:"bg-gray-200 rounded-md p-2 h-auto mt-2 overflow-auto",sx:{scrollbarWidth:"thin"},children:Array.isArray(e.output)?e.output.map((e=>(0,M.jsx)(i.A,{className:"whitespace-nowrap",children:e}))):(0,M.jsx)(i.A,{children:e.output})}),(0,M.jsxs)(d.A,{className:"flex items-start justify-start",children:[(0,M.jsxs)(d.A,{className:"w-[25%] flex flex-col items-start justify-start",children:[(0,M.jsx)(i.A,{variant:"h5",sx:{marginTop:"30px"},children:"RUNTIME"}),(0,M.jsx)(i.A,{variant:"h4",color:"primary",sx:{marginTop:"10px"},children:e.execution_time})]}),e.stderr&&(0,M.jsxs)(d.A,{className:"w-[75%]",children:[(0,M.jsx)(i.A,{variant:"h5",color:"error",sx:{marginTop:"30px"},children:"ERROR"}),(0,M.jsx)(i.A,{color:"error",sx:{marginTop:"10px"},children:e.stderr})]})]})]})]})))]}):(0,M.jsx)(i.A,{variant:"h4",sx:{margin:"30px 0"},children:"Submit Question to show results."})})}):(0,M.jsx)(i.A,{sx:{margin:"30px 0"},variant:"h4",children:"No Selected Question."})]})})},ie=()=>{const e=document.querySelector(".fullScreen");if(!e)return;const s=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;s&&s.call(e).catch((e=>{console.error("Failed to enter fullscreen:",e)}))},oe=()=>{const e=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;e?e.call(document).catch((e=>{console.error("Failed to exit fullscreen:",e)})):console.warn("Fullscreen API is not supported in this browser.")},ce=e=>{let{isOpen:s,setIsOpen:t,stdId:u,handleShowSnackbar:d,solveAssessmentData:x,name:m,phone:h,course:p,batchName:g,isUser:f}=e;const{fetchAssignmentResults:A,patchAssignmentResults:j}=(0,r.useContext)(L.e),y=(0,r.useRef)(null),[b,w]=(0,r.useState)(0),[S,v]=(0,r.useState)(!1),[k,N]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!0),[I,E]=(0,r.useState)(!1),[F,_]=(0,r.useState)(null),[$,W]=(0,r.useState)(10),P=sessionStorage.getItem("Weekly Assignment"),[R,q]=(0,r.useState)("True"===P||"Past"===P?x[0]:x),[D,Q]=(0,r.useState)(!1),[O,U]=(0,r.useState)({}),K=Object.values(O).reduce(((e,s)=>e+s),0),Y=Array.isArray(x)?x.length:0,[V,B]=(0,r.useState)(0);(0,r.useEffect)((()=>{const e=()=>{"Student"===f&&"True"===P&&(sessionStorage.setItem("Reloaded_In_Assignment","True"),sessionStorage.setItem("Reloaded_Assignment_Data",JSON.stringify(x)))},s=e=>{("Escape"===e.key||"F11"===e.key||e.ctrlKey&&"f"===e.key||e.metaKey&&"f"===e.key||e.metaKey&&e.shiftKey&&"F"===e.key||e.metaKey)&&oe()};return window.addEventListener("beforeunload",e),window.addEventListener("keydown",s),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("keydown",s)}}),[]),(0,r.useEffect)((()=>{s&&setTimeout((()=>{X(),sessionStorage.removeItem("Reloaded_In_Assignment"),sessionStorage.removeItem("Reloaded_Assignment_Data")}),100)}),[s]);const H=async()=>{if("Student"===f&&"True"===P){const e=await G();if(!e)return;e.Status="Disqualified";!0===await j(e)?d("warning","You are disqualified. Your participation has been revoked."):d("error","Something went wrong. Please try again later.")}},G=async()=>{const e=await A(u);if(e&&e.message)return d("error","Something went wrong. Please try again later."),null;if(e){const s=Array.isArray(e)&&e.find((e=>e.StudentId===u&&e.Name===`${m}~${h}`&&e.Course===p&&e.BatchName===g&&e.Date===(0,z.c)().split(" ")[0]));return s||null}},X=()=>{document.fullscreenElement?(T(!0),clearTimeout(F),E(!1)):(T(!1),E(!0),(()=>{W(10),F&&clearTimeout(F);const e=setTimeout((async()=>{"Student"===f&&await H(),t(!1),E(!1)}),11e3);_(e)})())};(0,r.useEffect)((()=>(document.addEventListener("fullscreenchange",X),()=>{document.removeEventListener("fullscreenchange",X),F&&clearTimeout(F)})),[F]),(0,r.useEffect)((()=>{let e;return I&&(e=setInterval((()=>{W((s=>s>0?s-1:(clearInterval(e),0)))}),1e3)),()=>{e&&clearInterval(e)}}),[I]),(0,r.useEffect)((()=>{I||W(10)}),[I]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(n.A,{fullScreen:!0,sx:{zIndex:"700"},open:s,children:(0,M.jsxs)(a.A,{className:"fullScreen flex items-center justify-between bg-gray-200",sx:{padding:0},children:[(0,M.jsx)(le,{results:y.current,questionData:R,tabValue:b,setTabValue:w,handleExitFullScreen:oe,resultPopUp:S,setResultPopUp:v,isUser:f,hideQuestion:k,setHideQuestion:N,handleFullScreen:ie,handleShowSnackbar:d,setQuestions_Data:q,solveAssessmentData:x,score:K>0&&Y>0?K/(100*Y)*100:0,scoreData:O,postResults:async()=>{const e=await G();e.Score=K>0&&Y>0?K/(100*Y)*100:0,e.Status="Solved",e.Time=sessionStorage.getItem("Assignment_Time");const s=await j(e);return(!s||!s.message)&&(!0===s||void 0)},setIsOpen:t,time_Up:D,minutes:V}),(0,M.jsx)(J,{setResults:y,test_Cases:R&&JSON.parse(R.Test_Cases),stdId:u,handleShowSnackbar:d,setTime_Up:Q,setResultPopUp:v,hideQuestion:k,minutes:V,setMinutes:B,isSql:R&&"Yes"===JSON.parse(R.Question).SQL,full_Screen:C,setTabValue:w,questionId:R&&R.id,name:m,course:p,batchName:g,isUser:f,updateScore:(e,s)=>{O&&void 0!==O[e]&&O[e]>=s||U((t=>({...t,[e]:s})))}})]})}),(0,M.jsxs)(n.A,{open:I,children:[(0,M.jsx)(l.A,{variant:"h6",children:"Please use fullscreen mode to complete your assignment."}),(0,M.jsxs)(a.A,{className:"w-full h-full flex flex-col items-center justify-center",children:["True"===P&&(0,M.jsxs)(i.A,{color:"error",className:"w-full text-start",children:["If you exit the assignment before completing it,",(0,M.jsx)("br",{}),"you will be disqualified,",(0,M.jsx)("br",{}),"your submission will not be counted, and you cannot reenter."]}),(0,M.jsx)(i.A,{sx:{margin:"20px 0"},children:"Please go to fullscreen and complete the assignment before the timer ends."}),(0,M.jsxs)(i.A,{variant:"h4",className:"w-full text-center",children:[$<10?`0${$}`:$,"s"]})]}),(0,M.jsxs)(o.A,{children:[(0,M.jsx)(c.A,{variant:"outlined",onClick:async()=>{"Student"===f&&await H(),t(!1),E(!1),W(10)},children:"Exit"}),(0,M.jsx)(c.A,{variant:"contained",onClick:()=>{ie(),E(!1),W(10)},children:"Back to Full Screen"})]})]})]})}}}]);
//# sourceMappingURL=6470.e58210ca.chunk.js.map