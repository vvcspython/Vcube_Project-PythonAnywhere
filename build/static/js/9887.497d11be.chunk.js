"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[9887],{19887:(e,s,a)=>{a.r(s),a.d(s,{default:()=>O});var t=a(65043),l=a(83462),r=a(17392),c=a(26600),i=a(94496),n=a(94516),d=a(42788),o=a(53193),x=a(79190),h=a(72221),u=a(32143),f=a(35316),p=a(77739),m=a(12110),b=a(90573),S=a(67610),j=a(4646),A=a(53696),N=a(95252),g=a(23054),w=a(58390),k=a(4145),v=a(89302),D=a(64555),F=a(9971),y=a(70579);const O=e=>{let{isOpen:s,setIsOpen:a,selectedCourse:O,selectedBatch:C,handleShowSnackbar:J,setIsLoading:R}=e;const{fetchCourseFeedbackData:L}=(0,t.useContext)(D.d),[M,_]=(0,t.useState)([]),[W,z]=(0,t.useState)([]),[V,H]=(0,t.useState)(null),[T,$]=(0,t.useState)(null),[I,B]=(0,t.useState)(!1),E=(0,t.useCallback)((async()=>{R(!0);try{const e=await L(O);if(e&&e.message)J("error",e.message);else if(e){if(Array.isArray(e)&&0===e.length)return void J("error","No data found.");const s=Array.isArray(e)?e.filter((e=>e.BatchName===C)):[];s.length>0&&(_([...s].reverse()),z([...s].reverse()))}}catch(e){J("error","An error occurred while fetching data.")}finally{R(!1)}}),[O,L,R,C,J]);(0,t.useEffect)((()=>{s&&E()}),[s,E]);const U=async(e,s)=>{const a=W.filter((a=>JSON.parse(a.FeedbackData).Service===e||JSON.parse(a.FeedbackData).Service===s||JSON.parse(a.FeedbackData).Teaching_Method===e||JSON.parse(a.FeedbackData).Teaching_Method===s||JSON.parse(a.FeedbackData).Course_Content===e||JSON.parse(a.FeedbackData).Course_Content===s||JSON.parse(a.FeedbackData).Resources===e||JSON.parse(a.FeedbackData).Resources===s||JSON.parse(a.FeedbackData).Support_Service===e||JSON.parse(a.FeedbackData).Support_Service===s));a&&a.length>0?_(a):J("info","No Feedback Found.")},G=(0,t.useCallback)((async()=>{if(R(!0),!V)return _(W),void R(!1);if("High"===V)await U("Very Satisfied","Satisfied");else if("Medium"===V)await U("Neutral","Neutral");else if("Low"===V)await U("Very Unsatisfied","Unsatisfied");else if("Date"===V&&T){const e=T.$d.toString().split(" "),s=W.filter((s=>JSON.parse(s.FeedbackData).Date.includes(`${e[1]}-${e[3]}`)));s&&s.length>0?_(s):J("info","No Feedback Found.")}R(!1)}),[W,V,R,T,J]);(0,t.useEffect)((()=>{G()}),[G]);return(0,y.jsxs)(l.A,{open:s,maxWidth:"lg",sx:{zIndex:"700"},children:[(0,y.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"8%",className:"ml-[46%]"}),(0,y.jsx)(r.A,{sx:{position:"absolute"},className:"top-3 right-3",onClick:()=>{H(null),a(!1)},children:(0,y.jsx)(b.A,{sx:{fontSize:"35px"}})}),(0,y.jsx)(r.A,{disabled:I,sx:{position:"absolute"},className:"top-3 right-16",onClick:async()=>{await E(),G(),B(!0),setTimeout((()=>{B(!1)}),1e4)},children:(0,y.jsx)(S.A,{sx:{fontSize:"35px"}})}),(0,y.jsxs)(c.A,{className:"flex items-center justify-between",children:[(0,y.jsxs)(i.A,{variant:"h5",children:["Students Feedback ",(0,y.jsx)(j.A,{})]}),(0,y.jsxs)(n.A,{className:"flex items-center justify-end w-[45%]",children:[V&&"Date"===V&&(0,y.jsx)(n.A,{className:"w-[45%] mr-[5%]",children:(0,y.jsx)(w.$,{dateAdapter:v.R,children:(0,y.jsx)(k.l,{label:"Select Month and Year",views:["year","month"],value:T,onChange:e=>$(e),renderInput:e=>(0,y.jsx)(d.A,{...e})})})}),(0,y.jsxs)(o.A,{className:"w-[50%]",variant:"standard",children:[(0,y.jsx)(x.A,{children:"Select Sort Option"}),(0,y.jsxs)(h.A,{value:V,onChange:e=>{H(e.target.value),null===e.target.value&&$(null)},children:[(0,y.jsx)(u.A,{value:null,children:"Reset Sorting"}),(0,y.jsx)(u.A,{value:"Low",children:"Low Rating"}),(0,y.jsx)(u.A,{value:"Medium",children:"Medium Rating"}),(0,y.jsx)(u.A,{value:"High",children:"High Rating"}),(0,y.jsx)(u.A,{value:"Date",children:"Sort By Date"})]})]})]})]}),(0,y.jsx)(f.A,{className:"flex flex-col w-[75rem] h-[40rem]",sx:{scrollbarWidth:"none"},children:Array.isArray(M)&&M.length>0?M.map(((e,s)=>(0,y.jsx)(p.A,{title:JSON.parse(e.FeedbackData).Suggestions,arrow:!0,children:(0,y.jsxs)(m.A,{className:"relative mt-1 mb-2 p-5 flex flex-row items-start h-60 justify-start",sx:{boxShadow:"0 0 5px rgba(0,0,0,0.5)"},children:[(0,y.jsx)(A.A,{sx:{fontSize:"40px",marginRight:"20px",color:`${g.vG[s<20?s:Math.floor(20*Math.random())]}`}}),(0,y.jsxs)(n.A,{className:"flex flex-col items-start justify-between w-[85%] h-full",children:[(0,y.jsxs)(i.A,{className:"flex items-center justify-between text-slate-600 w-full",children:["Feedback Date :",(0,y.jsx)(i.A,{className:"text-slate-600 w-[25%]",sx:{marginLeft:"131px",fontWeight:"bold"},children:JSON.parse(e.FeedbackData).Date})]}),(0,y.jsxs)(i.A,{className:"flex items-center justify-between text-slate-600 w-full",children:[JSON.parse(e.FeedbackData).Service.split("~")[0]," :",(0,y.jsx)(i.A,{className:"text-slate-600 w-[25%]",sx:{marginLeft:"40px",fontWeight:"bold"},children:JSON.parse(e.FeedbackData).Service.split("~")[1]})]}),(0,y.jsxs)(i.A,{className:"flex items-center justify-between text-slate-600 w-full",children:[JSON.parse(e.FeedbackData).Teaching_Method.split("~")[0]," :",(0,y.jsx)(i.A,{className:"text-slate-600 w-[25%]",sx:{marginLeft:"25px",fontWeight:"bold"},children:JSON.parse(e.FeedbackData).Teaching_Method.split("~")[1]})]}),(0,y.jsxs)(i.A,{className:"flex items-center justify-between text-slate-600 w-full",children:[JSON.parse(e.FeedbackData).Course_Content.split("~")[0]," :",(0,y.jsx)(i.A,{className:"text-slate-600 w-[25%]",sx:{marginLeft:"53px",fontWeight:"bold"},children:JSON.parse(e.FeedbackData).Course_Content.split("~")[1]})]}),(0,y.jsxs)(i.A,{className:"flex items-center justify-between text-slate-600 w-full",children:[JSON.parse(e.FeedbackData).Resources.split("~")[0]," :",(0,y.jsx)(i.A,{className:"text-slate-600 w-[25%]",sx:{marginLeft:"31px",fontWeight:"bold"},children:JSON.parse(e.FeedbackData).Resources.split("~")[1]})]}),(0,y.jsxs)(i.A,{className:"flex items-center justify-between text-slate-600 w-full",children:[JSON.parse(e.FeedbackData).Support_Service.split("~")[0]," :",(0,y.jsx)(i.A,{className:"text-slate-600 w-[25%]",sx:{marginLeft:"15px",fontWeight:"bold"},children:JSON.parse(e.FeedbackData).Support_Service.split("~")[1]})]}),(0,y.jsxs)(i.A,{className:"flex items-center justify-between text-slate-600 w-full",children:["Likelihood to Recommend:",(0,y.jsxs)(i.A,{className:"text-slate-600 w-[25%]",sx:{marginLeft:"53px",fontWeight:"bold"},children:[JSON.parse(e.FeedbackData).Recommend," / 10"]})]})]}),JSON.parse(e.FeedbackData).Date.split(" ")[0]===(0,F.c)().split(" ")[0]&&(0,y.jsx)(n.A,{sx:{position:"absolute"},className:"h-2 w-2 rounded-full bg-red-600 right-0 top-0"})]})}))):(0,y.jsxs)(n.A,{className:"w-full h-full ml-[50%] mt-20 flex flex-col items-center justify-center",children:[(0,y.jsx)(N.A,{color:"action",sx:{fontSize:"100px",margin:"2rem 0"}}),(0,y.jsx)(i.A,{variant:"h4",color:"grey",children:"No Feedback's Found"})]})})]})}},53696:(e,s,a)=>{a.d(s,{A:()=>r});var t=a(66734),l=a(70579);const r=(0,t.A)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircleRounded")},67610:(e,s,a)=>{a.d(s,{A:()=>r});var t=a(66734),l=a(70579);const r=(0,t.A)((0,l.jsx)("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5"}),"ReplayRounded")},4646:(e,s,a)=>{a.d(s,{A:()=>r});var t=a(66734),l=a(70579);const r=(0,t.A)((0,l.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v15.59c0 .89 1.08 1.34 1.71.71L6 18h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-6.43 9.57-1.12 2.44c-.18.39-.73.39-.91 0l-1.12-2.44-2.44-1.12c-.39-.18-.39-.73 0-.91l2.44-1.12 1.12-2.44c.18-.39.73-.39.91 0l1.12 2.44 2.44 1.12c.39.18.39.73 0 .91z"}),"ReviewsRounded")},95252:(e,s,a)=>{a.d(s,{A:()=>r});var t=a(66734),l=a(70579);const r=(0,t.A)((0,l.jsx)("path",{d:"M1.91 2.36c-.35-.35-.92-.35-1.27 0s-.35.92 0 1.27l1.38 1.38L2 22l4-4h9l5.09 5.09c.35.35.92.35 1.27 0s.35-.92 0-1.27zM7 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m13-9H4.08l7 7H17c.55 0 1 .45 1 1s-.45 1-1 1h-3.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2m-3 6h-6c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1"}),"SpeakerNotesOffRounded")}}]);
//# sourceMappingURL=9887.497d11be.chunk.js.map