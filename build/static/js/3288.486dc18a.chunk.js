"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[3288],{59905:(e,s,t)=>{t.d(s,{A:()=>i});t(65043);var n=t(42788),a=t(34535),r=t(70579);const l=(0,a.Ay)(n.A)((e=>{let{theme:s}=e;return{"& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}}})),i=e=>(0,r.jsx)(l,{...e,type:"text",variant:"standard"})},40907:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ee});var n=t(65043),a=t(28076),r=t(83462),l=t(35316),i=t(94516),o=t(53193),c=t(72221),d=t(32143),u=t(11906),h=t(17392),x=t(95609),p=t(24056),m=t(81637),j=t(42788),A=t(12110),f=t(94496),v=t(79650),g=t(61596),y=t(71806),w=t(84882),b=t(10039),S=t(73460),C=t(26600),k=t(51787),N=t(29347),E=t(77158),I=t(39184),T=t(33349),F=t(79228),q=t(37716),P=t(14169),z=t(35741),O=t(18921),L=t(85584),W=t(55776),R=t(51809),$=t(59905),D=t(1529),U=t(96213),J=t.n(U),Y=t(70579);const B=e=>{let{html:s,css:t,js:a}=e;const[r,l]=(0,n.useState)("");return(0,n.useEffect)((()=>{const e=setTimeout((()=>{const e=J().sanitize(s,{USE_PROFILES:{html:!0}}),n=J().sanitize(t,{USE_PROFILES:{css:!0}}),r=J().sanitize(a,{USE_PROFILES:{html:!0}});l(`\n                <!DOCTYPE html>\n                <html>\n                    <head>\n                        <style>${n}</style>\n                    </head>\n                    <body>\n                        ${e}\n                        <script>${r}<\/script>\n                    </body>\n                </html>\n            `)}),1e3);return()=>clearTimeout(e)}),[s,t,a]),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(f.A,{variant:"h5",sx:{margin:"10px"},children:"Output:"}),(0,Y.jsx)("iframe",{srcDoc:r,style:{width:"100%",height:"95%",border:"solid 1px black",maxHeight:"100%",overflowY:"auto",scrollbarWidth:"thin",borderRadius:"10px"},title:"Preview"})]})};var H=t(54446),M=t(4424),_=t(53696),K=t(13918),Q=t(66636),V=t(59266);const G=e=>{let{handleShowSnackbar:s,isOpen:t,setIsOpen:a,fetchStdData:o,stdId:c}=e;const{postStudentConfigs:d}=(0,n.useContext)(V.K),[h,x]=(0,n.useState)({host:"",database:"",username:"",password:"",port:""}),[p,m]=(0,n.useState)(!1),A=e=>{const{name:s,value:t}=e.target;x((e=>({...e,[s]:"port"===s?parseInt(t,10)||"":t})))},v=()=>{a(!1),x({host:"",database:"",username:"",password:"",port:""}),m(!1)};return(0,Y.jsxs)(r.A,{open:t,sx:{zIndex:"710"},maxWidth:"lg",children:[(0,Y.jsx)(C.A,{variant:"h5",children:"Add Database Configurations"}),(0,Y.jsxs)(l.A,{className:"w-[43rem] h-[30rem]",children:[(0,Y.jsx)(f.A,{color:"error",gutterBottom:!0,className:"text-center",children:"Note: Your database configurations are securely encrypted, ensuring that no one\u2014not even our team\u2014can access or read them. Your data security is our priority!"}),(0,Y.jsxs)(i.A,{className:"w-[80%] h-80 ml-[10%] flex flex-col items-center justify-between mt-10",children:[(0,Y.jsx)(j.A,{label:"Host",className:"w-full h-10",name:"host",error:p&&""===h.host,variant:"outlined",value:h.host,onChange:A,InputProps:{startAdornment:(0,Y.jsx)(k.A,{position:"start",children:(0,Y.jsx)(H.A,{})})}}),(0,Y.jsx)(j.A,{label:"Database Name",className:"w-full h-10",name:"database",variant:"outlined",error:p&&""===h.database,value:h.database,onChange:A,InputProps:{startAdornment:(0,Y.jsx)(k.A,{position:"start",children:(0,Y.jsx)(M.A,{})})}}),(0,Y.jsx)(j.A,{label:"User",className:"w-full h-10",name:"username",variant:"outlined",error:p&&""===h.username,value:h.username,onChange:A,InputProps:{startAdornment:(0,Y.jsx)(k.A,{position:"start",children:(0,Y.jsx)(_.A,{})})}}),(0,Y.jsx)(j.A,{label:"Password",className:"w-full h-10",type:"password",name:"password",variant:"outlined",error:p&&""===h.password,value:h.password,onChange:A,InputProps:{startAdornment:(0,Y.jsx)(k.A,{position:"start",children:(0,Y.jsx)(K.A,{})})}}),(0,Y.jsx)(j.A,{label:"Port",className:"w-full h-10",name:"port",variant:"outlined",error:p&&""===h.port,value:h.port,onChange:A,InputProps:{startAdornment:(0,Y.jsx)(k.A,{position:"start",children:(0,Y.jsx)(Q.A,{})})}})]})]}),(0,Y.jsxs)(N.A,{children:[(0,Y.jsx)(u.A,{variant:"outlined",onClick:v,children:"Cancel"}),(0,Y.jsx)(u.A,{variant:"contained",onClick:async()=>{(0,n.startTransition)((async()=>{if(m(!0),""===h.host||""===h.database||""===h.username||""===h.password||""===h.port)return void s("error","All fields are required. Please ensure that you fill out all fields.");const e=await d(c,h);"error"===e.status?500===e.code?s("error","Connection was failed."):s("error","Bad request or something went wrong"):"success"===e.status&&(o(),s("success","Database Connection was successful.")),v()}))},children:"Submit"})]})]})};var X=t(51300),Z=t(6470);const ee=e=>{let{isOpen:s,setIsOpen:t,handleShowSnackbar:U,configs:H,fetchStdData:M,stdId:_}=e;const{runCode:K}=(0,n.useContext)(X.c),[Q,V]=(0,n.useState)(!1),ee=(0,n.useRef)({python:"# Write your Python code here",html:"<!DOCTYPE html>\n<html>\n<head>\n\t<title>Document</title>\n</head>\n<body>\n\t\x3c!-- Your content here --\x3e\n</body>\n</html>",css:"body {\n\tfont-family: Arial, sans-serif;\n}",js:"// Write your JavaScript code here",javascript:"// Write your JavaScript code here",java:"// Write your Java code here",sql:"-- Write SQL queries here--;",cpp:"// Write your C++ code here",c:"// Write your C code here"}),[se,te]=(0,n.useState)("python"),[ne,ae]=(0,n.useState)(".py"),[re,le]=(0,n.useState)(18),[ie,oe]=(0,n.useState)(""),ce=(0,n.useRef)(""),[de,ue]=(0,n.useState)(0),[he,xe]=(0,n.useState)(0),[pe,me]=(0,n.useState)(5),[je,Ae]=(0,n.useState)(!1),[fe,ve]=(0,n.useState)(null),[ge,ye]=(0,n.useState)(!1),[we,be]=(0,n.useState)(""),[Se,Ce]=(0,n.useState)([]),[ke,Ne]=(0,n.useState)([]),Ee=(0,n.useRef)(null),[Ie,Te]=(0,n.useState)(!0),[Fe,qe]=(0,n.useState)(!1),[Pe,ze]=(0,n.useState)(!1),[Oe,Le]=(0,n.useState)(!1),[We,Re]=(0,n.useState)(!1),[$e,De]=(0,n.useState)(10);(0,n.useEffect)((()=>{(0,n.startTransition)((()=>{Ee.current&&(Ee.current.scrollTop=Ee.current.scrollHeight)}))}),[we]);const Ue=e=>{let s=e.replace(/^\s*--.*$/gm,"");return s=s.replace(/\/\*[\s\S]*?\*\//g,""),s=s.replace(/\n\s*\n/g,"\n").trim(),s};(0,n.useEffect)((()=>{(0,n.startTransition)((()=>{"sql"===se&&""===H&&ye(!0)}))}),[se]),(0,n.useEffect)((()=>{(0,n.startTransition)((()=>{if(Array.isArray(Se)&&Se.length>0){const e=Se.map((e=>Array.isArray(e)&&e.length>0?Object.keys(e[0]):[]));Ne(e)}}))}),[Se]);const Je=(0,D.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Ye=(0,D.Ay)(a.A)((e=>{let{theme:s}=e;return{"&:nth-of-type(odd)":{backgroundColor:"#f3f4f6"},"&:last-child td, &:last-child th":{border:0}}}));(0,n.useEffect)((()=>{(0,n.startTransition)((()=>{ae("python"===se?".py":"javascript"===se?".js":"java"===se?".java":"sql"===se?".sql":"c"===se?".c":"html"===se?".html":".cpp")}))}),[se]),(0,n.useEffect)((()=>{let e;return We&&(e=setTimeout((()=>{De((e=>e-1))}),1e3)),0===$e&&(Re(!1),De(10)),()=>clearTimeout(e)}),[$e,We]);const Be=e=>{Ae(!1);let s=new Blob([ee.current[e||se]],{type:"text/plain;charset=utf-8"});const t=URL.createObjectURL(s),n=document.createElement("a");n.href=t,n.download=`${fe}${e?`.${e}`:ne}`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t),ve(null)},He=async()=>{if("sql"===se&&(""===H||!H))return qe(!1),void ye(!0);const e={Code:"sql"===se?Ue(ee.current[se]):ee.current[se],Input:ie,Language:se},s=await K(e);if(qe(!1),"sql"===se){Array.isArray(s.data)?be((e=>[...e,...s.data])):be((e=>[...e,s.data]));const e=s&&s.data&&s.data.filter((e=>e.result)).map((e=>e.result));Ce(e)}else s&&s.message?ce.current=`Error: ${s.response?s.response.data.error:s.message}`:s&&(ce.current=`${s.data.output}\n\nExecution complete. The code ran for ${s.data.execution_time}`);ue(1),Re(!0)};return(0,n.useEffect)((()=>{const e=()=>{document.fullscreenElement?ze(!0):ze(!1)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}}),[]),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(r.A,{open:s,fullScreen:!0,sx:{zIndex:"700"},children:(0,Y.jsxs)(l.A,{className:"fullScreen w-screen h-screen bg-white",sx:{padding:"8px 15px",scrollbarWidth:"thin"},children:[(0,Y.jsxs)(i.A,{className:"flex items-center justify-between h-12",children:[(0,Y.jsxs)(i.A,{className:"w-[53%] flex items-center justify-start",children:[(0,Y.jsx)(o.A,{className:"w-[25%]",onClick:Z.handleExitFullScreen,children:(0,Y.jsxs)(c.A,{sx:{height:"40px"},value:se,onChange:e=>te(e.target.value),children:[(0,Y.jsx)(d.A,{value:"python",children:"Python"}),(0,Y.jsx)(d.A,{value:"html",children:"HTML /CSS /JS"}),(0,Y.jsx)(d.A,{value:"java",children:"Java"}),(0,Y.jsx)(d.A,{value:"javascript",children:"Javascript"}),(0,Y.jsx)(d.A,{value:"sql",children:"SQL"}),(0,Y.jsx)(d.A,{value:"c",children:"C"}),(0,Y.jsx)(d.A,{value:"cpp",children:"C++"})]})}),(0,Y.jsx)(u.A,{startIcon:(0,Y.jsx)(I.A,{}),variant:"outlined",sx:{margin:"0 25px",width:"20%"},onClick:()=>{Ae(!0),(0,Z.handleExitFullScreen)()},children:"Save File"}),(0,Y.jsxs)(u.A,{startIcon:(0,Y.jsx)(T.A,{}),variant:"outlined",sx:{width:"20%"},component:"label",role:void 0,tabIndex:-1,children:["Open File",(0,Y.jsx)(Je,{type:"file",accept:".java,.py,.c,.cpp,.cc,.cxx,.js,.sql,.html,.css",onChange:e=>(e=>{const s=e.target.files[0];if(s){const e=s.name.split("."),t=e[e.length-1];if("py"===t||"js"===t||"java"===t||"c"===t||"cpp"===t||"cc"===t||"cxx"===t||"sql"===t){const e=new FileReader;e.onload=e=>{ee.current[se]=e.target.result,V(!Q)},e.readAsText(s)}else U("error","Please upload a valid file.")}})(e)})]}),(0,Y.jsx)("img",{src:"/images/V-Cube-Logo.png",width:"12%",alt:"",className:"ml-40"})]}),(0,Y.jsxs)(i.A,{className:"w-[20%] flex items-center justify-between",children:[(0,Y.jsx)(o.A,{className:"w-[60%]",children:(0,Y.jsx)(c.A,{sx:{height:"40px"},onClick:Z.handleExitFullScreen,value:re,onChange:e=>le(e.target.value),children:[15,16,17,18,19,20,21,22,23,24,25].map((e=>(0,Y.jsx)(d.A,{value:e,children:e})))})}),(0,Y.jsx)(h.A,{onClick:()=>Pe?(0,Z.handleExitFullScreen)():(0,Z.handleFullScreen)(),children:Pe?(0,Y.jsx)(F.A,{sx:{fontSize:"30px"}}):(0,Y.jsx)(q.A,{sx:{fontSize:"30px"}})}),(0,Y.jsx)(h.A,{onClick:()=>{Le(!0),(0,Z.handleExitFullScreen)()},children:(0,Y.jsx)(P.A,{})})]})]}),"html"===se&&(0,Y.jsxs)(x.A,{value:he,className:"mb-3",children:[(0,Y.jsx)(p.A,{label:"Html",onClick:()=>xe(0)}),(0,Y.jsx)(p.A,{label:"Css",onClick:()=>xe(1)}),(0,Y.jsx)(p.A,{label:"Js",onClick:()=>xe(2)})]}),(0,Y.jsx)(i.A,{className:`flex w-full ${!Pe||Ie&&"html"!==se?Pe?"h-[69%]":"html"===se?"h-[80%]":Ie?"h-[63%]":"h-[82.50%]":"h-[85%]"} rounded-md overflow-hidden`,children:"html"===se?(0,Y.jsx)(E.KE,{height:"100%",width:"100%",language:0===he?"html":1===he?"css":"javascript",value:ee.current[0===he?"html":1===he?"css":"js"],options:{fontSize:re},onChange:e=>{ee.current[0===he?"html":1===he?"css":"js"]=J().sanitize(e),V(!Q)},theme:"vs-dark"}):(0,Y.jsx)(E.KE,{height:"100%",width:"100%",language:se,value:ee.current[se],options:{fontSize:re},onChange:e=>{ee.current[se]=J().sanitize(e),V(!Q)},theme:"vs-dark"})}),"sql"===se?(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)(i.A,{className:"w-full h-14 flex items-center justify-between",children:[(0,Y.jsxs)(u.A,{variant:"outlined",onClick:()=>ye(!0),children:[""===H?"Add":"Change"," Database Configurations"]}),(0,Y.jsxs)(i.A,{className:"relative w-[20%]",children:[(0,Y.jsxs)(u.A,{disabled:Fe,onClick:()=>{We||(qe(!0),setTimeout((()=>{He()}),2e3))},variant:"outlined",sx:{width:"100%"},children:["Run Code ",We?$e<10?`in 0${$e}`:`in ${$e}`:null]}),Fe&&(0,Y.jsx)(m.A,{size:24,sx:{color:"primary",position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-18px"}})]})]})}):"html"!==se&&(0,Y.jsxs)(i.A,{className:"w-full h-12 flex items-center justify-between",children:[(0,Y.jsxs)(x.A,{value:de,sx:{visibility:Ie?"visible":"hidden"},children:[(0,Y.jsx)(p.A,{label:"Input",sx:{fontWeight:"bold",fontFamily:"unset"},onClick:()=>ue(0)}),(0,Y.jsx)(p.A,{label:"Output",sx:{fontWeight:"bold",fontFamily:"unset"},onClick:()=>ue(1)})]}),(0,Y.jsxs)(i.A,{className:"relative w-[20%]",children:[(0,Y.jsxs)(u.A,{sx:{width:"100%"},disabled:Fe,variant:"outlined",onClick:()=>{ce.current="",We||(qe(!0),setTimeout((()=>{He()}),2e3))},children:["Run Code ",We?$e<10?`in 0${$e}`:`in ${$e}`:null]}),Fe&&(0,Y.jsx)(m.A,{size:24,sx:{color:"primary",position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-18px"}})]})]}),Ie&&"sql"!==se&&"html"!==se&&(0===de?(0,Y.jsx)(j.A,{rows:pe,value:ie,onChange:e=>oe(e.target.value),multiline:!0,placeholder:"Enter your test input here...",className:"w-full",sx:{marginTop:"5px"}}):(0,Y.jsx)(j.A,{rows:pe,InputProps:{readOnly:!0},value:ce.current,multiline:!0,placeholder:"Your output will be appear here...",className:"w-full",sx:{marginTop:"5px"}})),"sql"===se?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(A.A,{className:"w-full h-40 max-w-full max-h-40 overflow-auto mb-5",sx:{overflow:"auto",scrollbarWidth:"thin",boxShadow:"0 0 5px rgba(0,0,0,0.5)"},ref:Ee,children:(0,Y.jsx)(i.A,{className:"whitespace-nowrap",children:we&&Array.isArray(we)&&we.map(((e,s)=>e&&e.query&&!e.query.startsWith("--")&&(0,Y.jsxs)(f.A,{variant:"body2",className:"flex items-center w-full whitespace-nowrap overflow-auto",sx:{margin:"3px 0",backgroundColor:s%2===0?"#EDF3FD":"white",padding:"8px",borderRadius:"4px",scrollbarWidth:"none"},children:["success"===e.status?(0,Y.jsx)(z.A,{color:"success",sx:{fontSize:"18px"}}):(0,Y.jsx)(O.A,{color:"error",sx:{fontSize:"18px"}}),"error"===e.status?e.error+" \u2022 "+e.query:e.message+" \u2022 "+e.query]},s)))})}),ke&&Array.isArray(ke)&&ke.map(((e,s)=>(0,Y.jsx)(v.A,{component:g.A,sx:{border:"solid 1px lightgrey",marginBottom:"25px"},children:(0,Y.jsxs)(y.A,{children:[(0,Y.jsx)(w.A,{children:(0,Y.jsx)(a.A,{children:Array.isArray(e)&&e.length>0&&e.map((e=>(0,Y.jsx)(b.A,{sx:{fontWeight:"bold",color:"#1976d2"},children:e},e)))})}),(0,Y.jsx)(S.A,{children:Array.isArray(Se)&&Se.length>0&&Array.isArray(Se[s])?Se[s].map(((s,t)=>(0,Y.jsx)(Ye,{children:e.map((e=>(0,Y.jsx)(b.A,{children:void 0!==s[e]?s[e]:"N/A"},e)))},t))):(0,Y.jsx)(Ye,{children:(0,Y.jsx)(b.A,{colSpan:ke.length,children:"No results available"})})})]})},s)))]}):"sql"!==se&&"html"!==se&&(0,Y.jsxs)(i.A,{className:"w-full flex items-center justify-between",children:[Ie?(0,Y.jsx)(u.A,{startIcon:(0,Y.jsx)(W.A,{}),onClick:()=>Te(!1),children:"Hide Console"}):(0,Y.jsx)(u.A,{startIcon:(0,Y.jsx)(L.A,{}),onClick:()=>Te(!0),children:"Show Console"}),Ie&&(5===pe?(0,Y.jsx)(u.A,{onClick:()=>me(30),startIcon:(0,Y.jsx)(L.A,{}),children:"Expand Console"}):(0,Y.jsx)(u.A,{startIcon:(0,Y.jsx)(W.A,{}),onClick:()=>me(5),children:"Contract Console"}))]}),"html"===se&&(0,Y.jsx)(B,{html:ee.current.html,css:ee.current.css,js:ee.current.js})]})}),(0,Y.jsxs)(r.A,{open:je,sx:{zIndex:"710"},maxWidth:"lg",children:[(0,Y.jsx)(C.A,{variant:"h5",children:"Specify a file name for saving your code."}),(0,Y.jsxs)(l.A,{className:"h-[13rem] w-[50rem] place-content-center",children:[(0,Y.jsx)(f.A,{color:"error",children:"Note: If you want to save this file in a specific location."}),(0,Y.jsxs)(f.A,{children:["Make sure to activate the ",(0,Y.jsx)("strong",{children:"'ask where to save files'"})," option in your browser settings. This setting can be configured in your browser's download preferences."]}),(0,Y.jsxs)(i.A,{className:"w-[70%] h-20 ml-[15%] flex items-start justify-between",children:[(0,Y.jsx)(R.A,{className:"mt-11",color:fe?"primary":"error",sx:{fontSize:"30px"}}),(0,Y.jsx)($.A,{label:"Enter File Name",className:"w-[92%]",sx:{marginTop:"20px"},value:fe,onChange:e=>ve(e.target.value),error:!fe||fe&&fe.includes("."),helperText:fe&&fe.includes(".")?"Enter a Valid File Name":"",InputProps:{endAdornment:(0,Y.jsx)(k.A,{position:"end",children:(0,Y.jsx)(f.A,{color:fe?"primary":"error",variant:"h6",children:ne})})}})]})]}),(0,Y.jsxs)(N.A,{children:[(0,Y.jsx)(u.A,{variant:"outlined",onClick:()=>Ae(!1),children:"Cancel"}),(0,Y.jsx)(u.A,{variant:"contained",onClick:()=>fe&&!fe.includes(".")&&("html"===se?(async()=>{const e=["html","css","js"].map((async e=>{await Be(e)}));await Promise.all(e)})():Be()),children:"Save"})]})]}),(0,Y.jsx)(G,{handleShowSnackbar:U,isOpen:ge,setIsOpen:ye,fetchStdData:M,stdId:_}),(0,Y.jsxs)(r.A,{open:Oe,onClose:()=>Le(!1),children:[(0,Y.jsx)(l.A,{children:(0,Y.jsx)(f.A,{children:"Before exiting, please save your file to avoid losing any unsaved changes. If your file is already saved, you can dismiss this warning"})}),(0,Y.jsxs)(N.A,{children:[(0,Y.jsx)(u.A,{variant:"outlined",onClick:()=>{t(!1),Le(!1)},children:"Exit"}),(0,Y.jsx)(u.A,{variant:"contained",onClick:()=>{Ae(!0),Le(!1)},children:"Save File"})]})]})]})}}}]);
//# sourceMappingURL=3288.486dc18a.chunk.js.map