"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[2927],{12927:(e,s,r)=>{r.r(s),r.d(s,{default:()=>z});var t=r(65043),o=r(83462),a=r(26600),n=r(94496),l=r(35316),c=r(98533),u=r(94516),i=r(53193),d=r(79190),h=r(72221),x=r(32143),C=r(81673),f=r(69413),m=r(74605),p=r(51962),A=r(29347),g=r(11906),v=r(17003),j=r(10827),w=r(93959),S=r(28633),y=r(71339),N=r(59905),b=r(60085),T=r(37786),D=r(70579);const z=e=>{let{openCourseOption:s,setOpenCourseOption:r,courseOption:z,setCourseOption:M,handleShowSnackbar:R,setIsLoading:L,fetchData:k}=e;const{fetchCourse:E,postCourse:B,deleteCourse:F,patchCourse:V}=(0,t.useContext)(b.N),{fetchBatchData:H}=(0,t.useContext)(T.w),[I,O]=(0,t.useState)(null),[G,P]=(0,t.useState)(null),[$,U]=(0,t.useState)(!1),[W,q]=(0,t.useState)(null),[J,K]=(0,t.useState)([]),[Q,X]=(0,t.useState)(null),[Y,Z]=(0,t.useState)(!1);(0,t.useEffect)((()=>{"Change Tutors"===z&&W&&W.forEach((e=>{if(e.Course===I)return P(e.Tutors),void X(e.id)}))}),[I]),(0,t.useEffect)((()=>{(async()=>{L(!0);const e=await E();e&&e.message?(R("error",e.message),_()):e&&e.length>0?q(e):e&&0===e.length&&("Delete Course"!==z&&"Change Tutors"!==z||(R("info","No Data found. Please add course and try again"),_())),L(!1)})()}),[]);const _=()=>{r(!1),M(null),O(null),P(null),q(null),k()},ee=e=>{const s=W?W.filter((e=>J.includes(e.id))):[],r=!!e&&e.some((e=>s.some((s=>s.Course===e.Course))));return r},se=async(e,s)=>{L(!0);const r=await F(e);J.length-1===s&&(!0===r?R("success","Selected Course deleted successfully."):r&&r.message&&R("error",r.message),_()),L(!1)},re=()=>!(!I||!G);return(0,D.jsxs)(o.A,{open:s,sx:{zIndex:"800"},children:[(0,D.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"20%",className:"ml-[40%]"}),(0,D.jsxs)(a.A,{className:"flex items-center justify-start",children:[(0,D.jsx)(n.A,{variant:"h5",sx:{marginRight:"10px"},children:"Add Course"===z?"Add Course":"Delete Course"===z?"Delete Course":"Change Tutors"}),"Add Course"===z?(0,D.jsx)(v.A,{sx:{fontSize:"25px"}}):"Delete Course"===z?(0,D.jsx)(j.A,{sx:{fontSize:"25px"}}):(0,D.jsx)(w.A,{sx:{fontSize:"25px"}})]}),(0,D.jsx)(l.A,{className:"w-full mt-10 mb-10",children:"Add Course"===z||"Change Tutors"===z?(0,D.jsxs)(c.A,{children:["Add Course"===z&&(0,D.jsxs)(u.A,{className:"flex items-start h-20 justify-between w-[80%] ml-[10%]",children:[(0,D.jsx)(S.A,{className:"mt-6",sx:{fontSize:"30px"}}),(0,D.jsx)(N.A,{label:"Enter Course Name",sx:{width:"90%"},value:I,onChange:e=>O(e.target.value.toUpperCase()),error:$&&!I,helperText:$&&!I?"Enter Course Name":""})]}),"Change Tutors"===z&&(0,D.jsxs)(u.A,{className:"flex items-start h-20 justify-between w-[80%] ml-[10%]",children:[(0,D.jsx)(S.A,{className:"mt-6",sx:{fontSize:"30px"}}),(0,D.jsxs)(i.A,{variant:"standard",sx:{width:"90%"},children:[(0,D.jsx)(d.A,{shrink:!!I,sx:{fontSize:"20px",color:$&&!I?"#d32f2f":""},children:"Select Course"}),(0,D.jsx)(h.A,{error:$&&!I,value:I,onChange:e=>O(e.target.value),sx:{width:"100%","& .MuiInputBase-input":{fontSize:"20px",padding:"5px 0"},"& .MuiInputLabel-root":{fontSize:"20px"}},children:W&&W.map((e=>(0,D.jsx)(x.A,{value:e.Course,children:e.Course})))}),(0,D.jsx)(C.A,{sx:{color:"#d32f2f"},children:$&&!I?"Select Course":""})]})]}),(0,D.jsxs)(u.A,{className:"flex items-start h-20 justify-between w-[80%] ml-[10%]",children:[(0,D.jsx)(y.A,{className:"mt-6",sx:{fontSize:"30px"}}),(0,D.jsx)(N.A,{label:"Enter Tutors Name",sx:{width:"90%"},InputLabelProps:{shrink:Boolean(G)||Y},placeholder:"Ex. Tutor1, Tutor2,...",onFocus:()=>Z(!0),onBlur:()=>Z(!1),value:G,onChange:e=>P(e.target.value),error:$&&!G,helperText:$&&!G?"Enter Tutors Name":""})]})]}):(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(c.A,{className:"max-h-96 min-h-24 overflow-y-auto p-5",children:(0,D.jsx)(f.A,{children:W&&W.map((e=>(0,D.jsx)(m.A,{control:(0,D.jsx)(p.A,{sx:{transform:"scale(1.5)"},onChange:s=>s.target.checked?K((s=>[...s,e.id])):K(J.filter((s=>s!==e.id)))}),label:(0,D.jsx)(n.A,{sx:{fontSize:"25px",marginLeft:"15px",userSelect:"none"},children:e.Course})})))})})})}),(0,D.jsxs)(A.A,{children:[(0,D.jsx)(g.A,{variant:"outlined",onClick:_,children:"Cancel"}),(0,D.jsx)(g.A,{variant:"contained",onClick:async()=>{if(U(!0),L(!0),"Add Course"===z){if(!re())return;if(W&&W.some((e=>e.Course===I)))R("warning",`Course - ${I} already exists.`);else{const e={Course:I,Tutors:G},s=await B(e);s&&s.message?R("error",s.message):!0===s&&R("success",`Course - ${I} added successfully.`)}_()}else if("Delete Course"===z)if(J&&J.length>0){const e=await H();e&&e.message?(R("error",e.message),_()):ee(e)?(R("error","Cannot delete the Course. Batches are assigned to the selected Course."),_()):J.forEach(((e,s)=>{W.forEach((r=>{e!==r.id||se(r,s)}))}))}else R("error","Select atleast one course to delete.");else if("Change Tutors"===z){if(!G||!I)return;const e=await V(Q,G);!0===e?R("success",`Course - ${I} Tutor's changed successfully.`):e&&e.message&&R("error",e.message),_()}L(!1)},children:"Add Course"===z?"Add Course":"Delete Course"===z?"Delete Course":"Change Tutors"})]})]})}},17003:(e,s,r)=>{r.d(s,{A:()=>a});var t=r(66734),o=r(70579);const a=(0,t.A)((0,o.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1"}),"AddBoxRounded")},93959:(e,s,r)=>{r.d(s,{A:()=>a});var t=r(66734),o=r(70579);const a=(0,t.A)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.91 16.15c-.31.31-.85.09-.85-.35V17H12c-1.28 0-2.56-.49-3.54-1.46-1.43-1.43-1.81-3.52-1.14-5.3.19-.51.86-.64 1.24-.25.22.22.27.54.17.82-.46 1.24-.2 2.68.8 3.68.7.7 1.62 1.03 2.54 1.01v-.94c0-.45.54-.67.85-.35l1.62 1.62c.2.2.2.51 0 .71zm2.53-4.13c-.22-.22-.27-.54-.17-.82.46-1.24.2-2.68-.8-3.68-.7-.7-1.62-1.04-2.53-1.02v.94c0 .45-.54.67-.85.35L9.46 8.18c-.2-.2-.2-.51 0-.71l1.62-1.62c.31-.31.85-.09.85.35v.81c1.3-.02 2.61.45 3.6 1.45 1.43 1.43 1.81 3.52 1.14 5.3-.19.52-.85.65-1.23.26"}),"ChangeCircleRounded")},28633:(e,s,r)=>{r.d(s,{A:()=>a});var t=r(66734),o=r(70579);const a=(0,t.A)((0,o.jsx)("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"}),"ClassRounded")},10827:(e,s,r)=>{r.d(s,{A:()=>a});var t=r(66734),o=r(70579);const a=(0,t.A)((0,o.jsx)("path",{d:"M3 5v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2m13.3 11.29c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0a.996.996 0 0 1 0-1.41L10.59 12 7.7 9.11a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.88c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41L13.41 12l2.89 2.88c.38.39.38 1.03 0 1.41"}),"DisabledByDefaultRounded")},71339:(e,s,r)=>{r.d(s,{A:()=>a});var t=r(66734),o=r(70579);const a=(0,t.A)([(0,o.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h3c.55 0 1-.45 1-1v-2c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,o.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,o.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v2c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-2c0-2.66-5.33-4-8-4"},"2")],"PeopleAltRounded")},69413:(e,s,r)=>{r.d(s,{A:()=>f});var t=r(65043),o=r(58387),a=r(98610),n=r(34535),l=r(28249),c=r(92532),u=r(72372);function i(e){return(0,u.Ay)("MuiFormGroup",e)}(0,c.A)("MuiFormGroup",["root","row","error"]);var d=r(85213),h=r(74827),x=r(70579);const C=(0,n.Ay)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.row&&s.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),f=t.forwardRef((function(e,s){const r=(0,l.b)({props:e,name:"MuiFormGroup"}),{className:t,row:n=!1,...c}=r,u=(0,d.A)(),f=(0,h.A)({props:r,muiFormControl:u,states:["error"]}),m={...r,row:n,error:f.error},p=(e=>{const{classes:s,row:r,error:t}=e,o={root:["root",r&&"row",t&&"error"]};return(0,a.A)(o,i,s)})(m);return(0,x.jsx)(C,{className:(0,o.A)(p.root,t),ownerState:m,ref:s,...c})}))}}]);
//# sourceMappingURL=2927.09186d36.chunk.js.map