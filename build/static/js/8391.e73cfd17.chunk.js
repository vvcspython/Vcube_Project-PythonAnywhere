"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[8391],{18391:(e,s,c)=>{c.r(s),c.d(s,{default:()=>y});var t=c(65043),r=c(77739),l=c(17392),i=c(94516),n=c(90889),a=c(86605),o=c(40710),d=c(94496),A=c(83462),x=c(26600),h=c(29347),m=c(11906),u=c(32514),f=c(12947),g=c(60085),j=c(67610),p=c(35741),C=c(18921),w=c(70579);const y=e=>{let{handleShowSnackbar:s,setIsLoading:c}=e;const{fetchPermissionsData:y,patchPermissionsData:b}=(0,t.useContext)(f.h),{fetchCourse:L}=(0,t.useContext)(g.N),N=(0,u.ID)("User"),[S,_]=(0,t.useState)(null),[v,k]=(0,t.useState)(null),[E,$]=(0,t.useState)(null),[I,D]=(0,t.useState)(null),[z,B]=(0,t.useState)(-1),R=(0,t.useCallback)((async()=>{let e;if(c(!0),"Super Admin"===N){const s=await L();s&&s.message||k(s),e=await y()}else e=await y((0,u.ID)("Course"));e&&e.message?s("error",e.message):(_(e),console.log(e)),c(!1)}),[N,y,L,c,s]);(0,t.useEffect)((()=>{R()}),[R]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.A,{arrow:!0,title:"Refresh",children:(0,w.jsx)(l.A,{sx:{position:"absolute"},className:"top-[6.5rem] right-1",children:(0,w.jsx)(j.A,{onClick:R,fontSize:"large"})})}),(0,w.jsx)(i.A,{className:"relative max-h-[85%] p-1 overflow-y-auto rounded-md",sx:{scrollbarWidth:"thin"},children:"Super Admin"===N?Array.isArray(v)&&v.map(((e,s)=>Array.isArray(S)&&S.some((s=>s.Course===e.Course))&&(0,w.jsxs)(n.A,{className:"border-[1px] w-[90%]",expanded:z===s,onChange:()=>B(z===s?null:s),children:[(0,w.jsx)(a.A,{children:e.Course}),Array.isArray(S)&&S.map((e=>(0,w.jsxs)(o.A,{children:[(0,w.jsx)(d.A,{variant:"h6",children:e.BatchName}),(0,w.jsxs)(d.A,{className:"flex items-center justify-start",children:["Student Edit Access",(0,w.jsx)(i.A,{className:`ml-10 relative w-10 h-5 ${"Access"===e.Edit_Access?"bg-[#1976d2]":"bg-gray-400"} rounded-full flex items-center`,children:(0,w.jsx)(l.A,{className:"absolute "+("Access"===e.Edit_Access?"left-[0.65rem]":"left-[-0.60rem]"),sx:{transition:"0.3s ease-in-out",zIndex:"10",marginBottom:"0.80px"},onClick:()=>{D(null),$(`${e.id}~${e.Edit_Access}`)},children:"Access"===e.Edit_Access?(0,w.jsx)(p.A,{sx:{width:"1.40rem",height:"1.40rem",color:"#fff"}}):(0,w.jsx)(C.A,{sx:{width:"1.40rem",height:"1.40rem",color:"#fff"}})})})]}),(0,w.jsxs)(d.A,{className:"flex items-center justify-start",sx:{marginTop:"10px"},children:["Student Login Access",(0,w.jsx)(i.A,{className:`ml-7 relative w-10 h-5 ${"Access"===e.Login_Access?"bg-[#1976d2]":"bg-gray-400"} rounded-full flex items-center`,children:(0,w.jsx)(l.A,{className:"absolute "+("Access"===e.Login_Access?"left-[0.70rem]":"left-[-0.55rem]"),sx:{transition:"0.3s ease-in-out",zIndex:"10",marginBottom:"0.80px"},onClick:()=>{$(null),D(`${e.id}~${e.Login_Access}`)},children:"Access"===e.Login_Access?(0,w.jsx)(p.A,{sx:{width:"1.40rem",height:"1.40rem",color:"#fff"}}):(0,w.jsx)(C.A,{sx:{width:"1.40rem",height:"1.40rem",color:"#fff"}})})})]})]},s)))]},s))):(0,w.jsxs)(n.A,{expanded:!0,children:[(0,w.jsx)(a.A,{children:(0,u.ID)("Course")}),Array.isArray(S)&&S.map(((e,s)=>(0,w.jsxs)(o.A,{children:[(0,w.jsx)(d.A,{variant:"h6",children:e.BatchName}),(0,w.jsxs)(d.A,{className:"flex items-center justify-start",children:["Student Edit Access",(0,w.jsx)(i.A,{className:`ml-10 relative w-10 h-5 ${"Access"===e.Edit_Access?"bg-[#1976d2]":"bg-gray-400"} rounded-full flex items-center`,children:(0,w.jsx)(l.A,{className:"absolute "+("Access"===e.Edit_Access?"left-[0.65rem]":"left-[-0.60rem]"),sx:{transition:"0.3s ease-in-out",zIndex:"10",marginBottom:"0.80px"},onClick:()=>{D(null),$(`${e.id}~${e.Edit_Access}`)},children:"Access"===e.Edit_Access?(0,w.jsx)(p.A,{sx:{width:"1.40rem",height:"1.40rem",color:"#fff"}}):(0,w.jsx)(C.A,{sx:{width:"1.40rem",height:"1.40rem",color:"#fff"}})})})]}),(0,w.jsxs)(d.A,{className:"flex items-center justify-start",sx:{marginTop:"10px"},children:["Student Login Access",(0,w.jsx)(i.A,{className:`ml-7 relative w-10 h-5 ${"Access"===e.Login_Access?"bg-[#1976d2]":"bg-gray-400"} rounded-full flex items-center`,children:(0,w.jsx)(l.A,{className:"absolute "+("Access"===e.Login_Access?"left-[0.70rem]":"left-[-0.55rem]"),sx:{transition:"0.3s ease-in-out",zIndex:"10",marginBottom:"0.80px"},onClick:()=>{$(null),D(`${e.id}~${e.Login_Access}`)},children:"Access"===e.Login_Access?(0,w.jsx)(p.A,{sx:{width:"1.40rem",height:"1.40rem",color:"#fff"}}):(0,w.jsx)(C.A,{sx:{width:"1.40rem",height:"1.40rem",color:"#fff"}})})})]})]},s)))]})}),(0,w.jsxs)(A.A,{open:I||E,sx:{zIndex:"900"},children:[(0,w.jsxs)(x.A,{children:["Are you sure you want to change Student ",I?"Login":"Edit"," Access ?"]}),(0,w.jsxs)(h.A,{children:[(0,w.jsx)(m.A,{variant:"outlined",onClick:()=>{$(null),D(null)},children:"Cancel"}),(0,w.jsx)(m.A,{variant:"contained",onClick:async()=>{c(!0);const e={id:I?I.split("~")[0]:E.split("~")[0]};I?e.Login_Access="Access"===I.split("~")[1]?"Denied":"Access":e.Edit_Access="Access"===E.split("~")[1]?"Denied":"Access",$(null),D(null);const t=await b(e);c(!1),!0===t?s("success","Student Access changed successfully."):t&&t.message&&s("error",t.message),R()},children:"Confirm"})]})]})]})}},18921:(e,s,c)=>{c.d(s,{A:()=>l});var t=c(66734),r=c(70579);const l=(0,t.A)((0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m4.3 14.3c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0a.996.996 0 0 1 0-1.41L10.59 12 7.7 9.11a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.89c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41L13.41 12l2.89 2.89c.38.38.38 1.02 0 1.41"}),"CancelRounded")},35741:(e,s,c)=>{c.d(s,{A:()=>l});var t=c(66734),r=c(70579);const l=(0,t.A)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.29 16.29 5.7 12.7a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0"}),"CheckCircleRounded")},67610:(e,s,c)=>{c.d(s,{A:()=>l});var t=c(66734),r=c(70579);const l=(0,t.A)((0,r.jsx)("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5"}),"ReplayRounded")}}]);
//# sourceMappingURL=8391.e73cfd17.chunk.js.map