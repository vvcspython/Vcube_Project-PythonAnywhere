"use strict";(self.webpackChunkvcube=self.webpackChunkvcube||[]).push([[4714],{4714:(e,n,s)=>{s.r(n),s.d(n,{default:()=>Q});var t=s(65043),l=s(83462),i=s(94516),a=s(94496),r=s(17392),o=s(26600),u=s(42788),c=s(53193),d=s(79190),x=s(72221),m=s(32143),h=s(11906),p=s(35316),A=s(68167),g=s(68903),j=s(29347),f=s(93959),v=s(90573),y=s(37223),C=s(51912),k=s(4350),S=s(58390),b=s(54709),N=s(89302),w=s(60446),W=s.n(w),I=(s(80847),s(70579));const Q=e=>{let{isOpen:n,setIsOpen:s,selectedCourse:w,selectedBatch:Q,handleShowSnackbar:M,setIsLoading:O,editAssignment:Y,editAssignmentData:E,setEditAssignment:D,setEditAssignmentData:L}=e;const{postAssessmentQuestions:T,patchAssessmentQuestions:J}=(0,t.useContext)(k.s),[H,P]=(0,t.useState)(null),[$,z]=(0,t.useState)(null),[R,B]=(0,t.useState)(null),[_,q]=(0,t.useState)(null),[F,K]=(0,t.useState)(null),[U,V]=(0,t.useState)(null),[G,X]=(0,t.useState)(!0),[Z,ee]=(0,t.useState)(5),[ne,se]=(0,t.useState)(W()()),[te,le]=(0,t.useState)(Array.from({length:Z},(()=>({inputs:[],expected:[]})))),[ie,ae]=(0,t.useState)(Array.from({length:2},(()=>({input:[],output:[],explanation:[]}))));(0,t.useEffect)((()=>{le((e=>Array.from({length:Z},((n,s)=>e[s]||{inputs:[],expected:[]}))))}),[Z]),(0,t.useEffect)((()=>{Y&&E&&(B(JSON.parse(E[0].Question).Question),z(JSON.parse(E[0].Question).Title),q(JSON.parse(E[0].Question).SQL),P(E[0].Level),K(JSON.parse(E[0].Question).Month),le(JSON.parse(E[0].Test_Cases)),ae(JSON.parse(E[0].Examples)),V("No"===E[0].WeeklyAssignment?"Dialy Assignment":"Weekly Assignment"),"Weekly Assignment"===U&&se(W()(E[0].WeeklyAssignment,"DD-MMM-YYYY HH:mm:ss")))}),[n,Y,E]);const re=async()=>{const e={Course:w,BatchName:Q,Question:JSON.stringify({Title:$,Question:R,SQL:_,Month:"Weekly Assignment"===U?"N/A":F}),Test_Cases:JSON.stringify(te),Examples:JSON.stringify(ie),Level:H,WeeklyAssignment:"Weekly Assignment"===U?ue(ne):"No"};Y&&E&&(e.id=E[0].id);const n=Y&&E?await J(e):await T(e);n&&n.message?M("error",n.message):n&&(M("success",`Assessment Question has been ${Y&&E?"updated":"uploaded"} successfully.`),oe()),O(!1)},oe=()=>{le(Array.from({length:5},(()=>({inputs:[],expected:[]})))),ae(Array.from({length:2},(()=>({input:[],output:[],explanation:[]})))),z(null),P(null),B(null),B(null),s(!1),q(null),D(!1),L(null),X(!0),V(null),ee(5)},ue=e=>e.format("DD-MMM-YYYY HH:mm:00");return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(l.A,{fullScreen:!0,open:n,sx:{zIndex:"700"},children:[(0,I.jsxs)(i.A,{className:"flex items-center justify-between pl-5 pr-5",children:[(0,I.jsxs)(a.A,{variant:"h5",children:["Upload ",U,!Y&&(0,I.jsx)(r.A,{onClick:()=>{V(null),X(!0)},children:(0,I.jsx)(f.A,{color:"primary"})})]}),(0,I.jsx)("img",{src:"/images/V-Cube-Logo.png",alt:"",width:"7%",className:"absolute left-[46.50%]"}),(0,I.jsx)(r.A,{className:"top-2 right-0",onClick:oe,children:(0,I.jsx)(v.A,{sx:{fontSize:"35px"}})})]}),(0,I.jsxs)(o.A,{className:"flex items-center justify-between",children:["Weekly Assignment"===U?(0,I.jsx)(S.$,{dateAdapter:N.R,children:(0,I.jsx)(b.K,{label:"Pick Date and Time",value:ne,onChange:e=>{se(e)},renderInput:e=>(0,I.jsx)(u.A,{...e}),ampm:!1})}):(0,I.jsxs)(c.A,{className:"w-52",variant:"standard",children:[(0,I.jsx)(d.A,{shrink:F,children:"Select Month"}),(0,I.jsx)(x.A,{value:F,onChange:e=>K(e.target.value),children:[1,2,3,4,5,6,7,8].map((e=>(0,I.jsxs)(m.A,{value:`Month ${e}`,children:["Month ",e]})))})]}),(0,I.jsxs)(i.A,{className:"flex items-center justify-between w-52",children:[(0,I.jsx)(a.A,{children:"SQL? : "}),(0,I.jsx)(h.A,{onClick:()=>q("Yes"),variant:"Yes"===_?"contained":"outlined",children:"Yes"}),(0,I.jsx)(h.A,{onClick:()=>q("No"),variant:"No"===_?"contained":"outlined",children:"No"})]}),(0,I.jsxs)(i.A,{className:"flex items-center justify-between w-[30%]",children:[(0,I.jsx)(a.A,{children:"Select Level : "}),(0,I.jsx)(h.A,{color:"success",variant:"Easy"===H?"contained":"outlined",onClick:()=>P("Easy"),children:"Easy"}),(0,I.jsx)(h.A,{color:"warning",variant:"Medium"===H?"contained":"outlined",onClick:()=>P("Medium"),children:"Medium"}),(0,I.jsx)(h.A,{color:"error",variant:"Hard"===H?"contained":"outlined",onClick:()=>P("Hard"),children:"Hard"})]})]}),(0,I.jsxs)(p.A,{className:"max-h-[40rem] overflow-y-auto",sx:{scrollbarWidth:"thin"},children:[(0,I.jsxs)(i.A,{className:"pt-3 flex flex-col items-center justify-start h-80",children:[(0,I.jsx)(u.A,{className:"w-full h-[5.50rem]",value:$,inputProps:{maxLength:40},onChange:e=>z(e.target.value),InputLabelProps:{shrink:!!$},label:"Question Title"}),(0,I.jsx)(u.A,{multiline:!0,rows:7,onChange:e=>B(e.target.value),value:R,InputLabelProps:{shrink:!!R},className:"w-full",label:"Your Question Here..."})]}),(0,I.jsx)(i.A,{className:"w-full flex items-center justify-between",children:[0,1].map((e=>(0,I.jsxs)(i.A,{className:"w-[48%]",children:[(0,I.jsxs)(a.A,{sx:{fontWeight:"bold"},variant:"h6",children:["Example ",e+1]}),(0,I.jsx)(a.A,{sx:{fontWeight:"bold",margin:"10px 0"},children:"Input"}),(0,I.jsx)(A.A,{sx:{margin:"15px 0"},multiple:!0,freeSolo:!0,value:ie[e].input,options:[],onChange:(n,s)=>((e,n,s)=>{const t=[...ie];t[e].input=s,ae(t)})(e,0,s),renderInput:e=>(0,I.jsx)(u.A,{multiple:!0,...e,variant:"outlined",label:"Input"})}),(0,I.jsx)(a.A,{sx:{fontWeight:"bold",margin:"10px 0"},children:"Output"}),(0,I.jsx)(A.A,{sx:{margin:"15px 0"},multiple:!0,freeSolo:!0,value:ie[e].output,options:[],onChange:(n,s)=>((e,n,s)=>{const t=[...ie];t[e].output=s,ae(t)})(e,0,s),renderInput:e=>(0,I.jsx)(u.A,{...e,variant:"outlined",label:"Output"})}),(0,I.jsx)(a.A,{sx:{fontWeight:"bold",margin:"10px 0"},children:"Explanation"}),(0,I.jsx)(A.A,{sx:{margin:"15px 0"},multiple:!0,freeSolo:!0,value:ie[e].explanation,options:[],onChange:(n,s)=>((e,n,s)=>{const t=[...ie];t[e].explanation=s,ae(t)})(e,0,s),renderInput:e=>(0,I.jsx)(u.A,{...e,variant:"outlined",label:"Explanation"})})]})))}),(0,I.jsx)(a.A,{variant:"h5",sx:{fontWeight:"bold",margin:"50px 0 20px 0"},children:"Test Cases"}),(0,I.jsx)(g.Ay,{container:!0,spacing:3,children:te.map(((e,n)=>(0,I.jsxs)(g.Ay,{item:!0,xs:12,sm:6,children:[(0,I.jsxs)(a.A,{variant:"h6",sx:{fontWeight:"bold"},children:["TestCase ",n+1]}),(0,I.jsx)(A.A,{sx:{margin:"15px 0"},multiple:!0,freeSolo:!0,value:e.inputs,options:[],onChange:(e,s)=>((e,n,s)=>{const t=[...te];t[e].inputs=s,le(t)})(n,0,s),renderInput:e=>(0,I.jsx)(u.A,{...e,variant:"outlined",label:`Input ${n+1}`})}),(0,I.jsx)(A.A,{multiple:!0,freeSolo:!0,value:e.expected,options:[],onChange:(e,s)=>((e,n,s)=>{const t=[...te];t[e].expected=s,le(t)})(n,0,s),renderInput:e=>(0,I.jsx)(u.A,{...e,variant:"outlined",label:`Output ${n+1}`})})]},n)))}),(0,I.jsxs)(i.A,{className:"w-full flex items-center justify-end mt-5",children:[(0,I.jsx)(h.A,{startIcon:(0,I.jsx)(y.A,{}),variant:"outlined",sx:{marginRight:"15px"},onClick:()=>Z>5?ee((e=>e-1)):M("warning","You must maintain at least 5 test cases; reduction below this limit is not allowed."),children:"Remove Test Case"}),(0,I.jsx)(h.A,{startIcon:(0,I.jsx)(C.A,{}),variant:"outlined",onClick:()=>ee((e=>e+1)),children:"Add Test Case"})]}),(0,I.jsx)(h.A,{variant:"contained",sx:{width:"50%",margin:"3% 0 0 25%",height:"40px"},onClick:()=>{const e=te.some((e=>{let{inputs:n,expected:s}=e;return 0===n.length||0===s.length})),n=ie.some((e=>{let{input:n,output:s,explanation:t}=e;return 0===n.length||0===s.length||0===t.length}));H&&$&&R&&!e&&!n&&_&&("Weekly Assignment"===U?ne:F)?(O(!0),re()):M("error","All fields are required. Please fill them out.")},children:"Submit"})]})]}),(0,I.jsxs)(l.A,{open:n&&G&&!Y,sx:{zIndex:"710"},children:[(0,I.jsx)(o.A,{children:"Choose Assignment"}),(0,I.jsx)(p.A,{className:"w-[28rem]",children:(0,I.jsxs)(i.A,{className:"w-full flex items-center justify-between",children:[(0,I.jsx)(h.A,{variant:"Dialy Assignment"===U?"contained":"outlined",onClick:()=>V("Dialy Assignment"),children:"Dialy Assignment"}),(0,I.jsx)(a.A,{children:"or"}),(0,I.jsx)(h.A,{variant:"Weekly Assignment"===U?"contained":"outlined",onClick:()=>V("Weekly Assignment"),children:"Weekly Assignment"})]})}),(0,I.jsxs)(j.A,{children:[(0,I.jsx)(h.A,{variant:"outlined",onClick:oe,children:"Close"}),(0,I.jsx)(h.A,{variant:"contained",onClick:()=>X(!1),children:"Continue"})]})]})]})}}}]);
//# sourceMappingURL=4714.94974b36.chunk.js.map